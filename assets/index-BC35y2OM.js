(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Mv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function q1(){if(U_)return vl;U_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=e,vl.jsx=i,vl.jsxs=i,vl}var P_;function H1(){return P_||(P_=1,Nd.exports=q1()),Nd.exports}var b=H1(),Dd={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function F1(){if(z_)return we;z_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function F(k){return k===null||typeof k!="object"?null:(k=O&&k[O]||k["@@iterator"],typeof k=="function"?k:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,Z={};function de(k,K,ae){this.props=k,this.context=K,this.refs=Z,this.updater=ae||J}de.prototype.isReactComponent={},de.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},de.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function W(){}W.prototype=de.prototype;function oe(k,K,ae){this.props=k,this.context=K,this.refs=Z,this.updater=ae||J}var ee=oe.prototype=new W;ee.constructor=oe,ne(ee,de.prototype),ee.isPureReactComponent=!0;var Ee=Array.isArray;function ie(){}var C={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function w(k,K,ae){var le=ae.ref;return{$$typeof:s,type:k,key:K,ref:le!==void 0?le:null,props:ae}}function M(k,K){return w(k.type,K,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function I(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return K[ae]})}var R=/\/+/g;function Ae(k,K){return typeof k=="object"&&k!==null&&k.key!=null?I(""+k.key):K.toString(36)}function ke(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ie,ie):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function H(k,K,ae,le,ye){var Re=typeof k;(Re==="undefined"||Re==="boolean")&&(k=null);var Oe=!1;if(k===null)Oe=!0;else switch(Re){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(k.$$typeof){case s:case e:Oe=!0;break;case S:return Oe=k._init,H(Oe(k._payload),K,ae,le,ye)}}if(Oe)return ye=ye(k),Oe=le===""?"."+Ae(k,0):le,Ee(ye)?(ae="",Oe!=null&&(ae=Oe.replace(R,"$&/")+"/"),H(ye,K,ae,"",function(Fe){return Fe})):ye!=null&&(D(ye)&&(ye=M(ye,ae+(ye.key==null||k&&k.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Oe)),K.push(ye)),1;Oe=0;var se=le===""?".":le+":";if(Ee(k))for(var Te=0;Te<k.length;Te++)le=k[Te],Re=se+Ae(le,Te),Oe+=H(le,K,ae,Re,ye);else if(Te=F(k),typeof Te=="function")for(k=Te.call(k),Te=0;!(le=k.next()).done;)le=le.value,Re=se+Ae(le,Te++),Oe+=H(le,K,ae,Re,ye);else if(Re==="object"){if(typeof k.then=="function")return H(ke(k),K,ae,le,ye);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function te(k,K,ae){if(k==null)return k;var le=[],ye=0;return H(k,le,"","",function(Re){return K.call(ae,Re,ye++)}),le}function me(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var Be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Ke={map:te,forEach:function(k,K,ae){te(k,function(){K.apply(this,arguments)},ae)},count:function(k){var K=0;return te(k,function(){K++}),K},toArray:function(k){return te(k,function(K){return K})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=x,we.Children=Ke,we.Component=de,we.Fragment=i,we.Profiler=l,we.PureComponent=oe,we.StrictMode=r,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,K,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=ne({},k.props),ye=k.key;if(K!=null)for(Re in K.key!==void 0&&(ye=""+K.key),K)!T.call(K,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&K.ref===void 0||(le[Re]=K[Re]);var Re=arguments.length-2;if(Re===1)le.children=ae;else if(1<Re){for(var Oe=Array(Re),se=0;se<Re;se++)Oe[se]=arguments[se+2];le.children=Oe}return w(k.type,ye,le)},we.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},we.createElement=function(k,K,ae){var le,ye={},Re=null;if(K!=null)for(le in K.key!==void 0&&(Re=""+K.key),K)T.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ye[le]=K[le]);var Oe=arguments.length-2;if(Oe===1)ye.children=ae;else if(1<Oe){for(var se=Array(Oe),Te=0;Te<Oe;Te++)se[Te]=arguments[Te+2];ye.children=se}if(k&&k.defaultProps)for(le in Oe=k.defaultProps,Oe)ye[le]===void 0&&(ye[le]=Oe[le]);return w(k,Re,ye)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:g,render:k}},we.isValidElement=D,we.lazy=function(k){return{$$typeof:S,_payload:{_status:-1,_result:k},_init:me}},we.memo=function(k,K){return{$$typeof:_,type:k,compare:K===void 0?null:K}},we.startTransition=function(k){var K=C.T,ae={};C.T=ae;try{var le=k(),ye=C.S;ye!==null&&ye(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ie,Be)}catch(Re){Be(Re)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),C.T=K}},we.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},we.use=function(k){return C.H.use(k)},we.useActionState=function(k,K,ae){return C.H.useActionState(k,K,ae)},we.useCallback=function(k,K){return C.H.useCallback(k,K)},we.useContext=function(k){return C.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,K){return C.H.useDeferredValue(k,K)},we.useEffect=function(k,K){return C.H.useEffect(k,K)},we.useEffectEvent=function(k){return C.H.useEffectEvent(k)},we.useId=function(){return C.H.useId()},we.useImperativeHandle=function(k,K,ae){return C.H.useImperativeHandle(k,K,ae)},we.useInsertionEffect=function(k,K){return C.H.useInsertionEffect(k,K)},we.useLayoutEffect=function(k,K){return C.H.useLayoutEffect(k,K)},we.useMemo=function(k,K){return C.H.useMemo(k,K)},we.useOptimistic=function(k,K){return C.H.useOptimistic(k,K)},we.useReducer=function(k,K,ae){return C.H.useReducer(k,K,ae)},we.useRef=function(k){return C.H.useRef(k)},we.useState=function(k){return C.H.useState(k)},we.useSyncExternalStore=function(k,K,ae){return C.H.useSyncExternalStore(k,K,ae)},we.useTransition=function(){return C.H.useTransition()},we.version="19.2.4",we}var B_;function wm(){return B_||(B_=1,Dd.exports=F1()),Dd.exports}var Ce=wm();const G1=Mv(Ce);var Od={exports:{}},bl={},Md={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function Q1(){return q_||(q_=1,(function(s){function e(H,te){var me=H.length;H.push(te);e:for(;0<me;){var Be=me-1>>>1,Ke=H[Be];if(0<l(Ke,te))H[Be]=te,H[me]=Ke,me=Be;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],me=H.pop();if(me!==te){H[0]=me;e:for(var Be=0,Ke=H.length,k=Ke>>>1;Be<k;){var K=2*(Be+1)-1,ae=H[K],le=K+1,ye=H[le];if(0>l(ae,me))le<Ke&&0>l(ye,ae)?(H[Be]=ye,H[le]=me,Be=le):(H[Be]=ae,H[K]=me,Be=K);else if(le<Ke&&0>l(ye,me))H[Be]=ye,H[le]=me,Be=le;else break e}}return te}function l(H,te){var me=H.sortIndex-te.sortIndex;return me!==0?me:H.id-te.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,x=null,O=3,F=!1,J=!1,ne=!1,Z=!1,de=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ee(H){for(var te=i(_);te!==null;){if(te.callback===null)r(_);else if(te.startTime<=H)r(_),te.sortIndex=te.expirationTime,e(y,te);else break;te=i(_)}}function Ee(H){if(ne=!1,ee(H),!J)if(i(y)!==null)J=!0,ie||(ie=!0,I());else{var te=i(_);te!==null&&ke(Ee,te.startTime-H)}}var ie=!1,C=-1,T=5,w=-1;function M(){return Z?!0:!(s.unstable_now()-w<T)}function D(){if(Z=!1,ie){var H=s.unstable_now();w=H;var te=!0;try{e:{J=!1,ne&&(ne=!1,W(C),C=-1),F=!0;var me=O;try{t:{for(ee(H),x=i(y);x!==null&&!(x.expirationTime>H&&M());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,O=x.priorityLevel;var Ke=Be(x.expirationTime<=H);if(H=s.unstable_now(),typeof Ke=="function"){x.callback=Ke,ee(H),te=!0;break t}x===i(y)&&r(y),ee(H)}else r(y);x=i(y)}if(x!==null)te=!0;else{var k=i(_);k!==null&&ke(Ee,k.startTime-H),te=!1}}break e}finally{x=null,O=me,F=!1}te=void 0}}finally{te?I():ie=!1}}}var I;if(typeof oe=="function")I=function(){oe(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ae=R.port2;R.port1.onmessage=D,I=function(){Ae.postMessage(null)}}else I=function(){de(D,0)};function ke(H,te){C=de(function(){H(s.unstable_now())},te)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var te=3;break;default:te=O}var me=O;O=te;try{return H()}finally{O=me}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=O;O=H;try{return te()}finally{O=me}},s.unstable_scheduleCallback=function(H,te,me){var Be=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,H){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=me+Ke,H={id:S++,callback:te,priorityLevel:H,startTime:me,expirationTime:Ke,sortIndex:-1},me>Be?(H.sortIndex=me,e(_,H),i(y)===null&&H===i(_)&&(ne?(W(C),C=-1):ne=!0,ke(Ee,me-Be))):(H.sortIndex=Ke,e(y,H),J||F||(J=!0,ie||(ie=!0,I()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var te=O;return function(){var me=O;O=te;try{return H.apply(this,arguments)}finally{O=me}}}})(Vd)),Vd}var H_;function K1(){return H_||(H_=1,Md.exports=Q1()),Md.exports}var kd={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Y1(){if(F_)return en;F_=1;var s=wm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},en.flushSync=function(y){var _=d.T,S=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=S,r.d.f()}},en.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},en.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},en.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:F}):S==="script"&&r.d.X(y,{crossOrigin:x,integrity:O,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},en.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);r.d.L(y,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},en.requestFormReset=function(y){r.d.r(y)},en.unstable_batchedUpdates=function(y,_){return y(_)},en.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.4",en}var G_;function X1(){if(G_)return kd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=Y1(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function $1(){if(Q_)return bl;Q_=1;var s=K1(),e=wm(),i=X1();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===a){p=!0,a=h,o=f;break}if(E===o){p=!0,o=h,a=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===a){p=!0,a=f,o=h;break}if(E===o){p=!0,o=f,a=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function S(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=S(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case de:return"Profiler";case Z:return"StrictMode";case Ee:return"Suspense";case ie:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J:return"Portal";case oe:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case ee:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ae(t.type)||"Memo";case T:n=t._payload,t=t._init;try{return Ae(t(n))}catch{}}return null}var ke=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function k(t){return{current:t}}function K(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function ae(t,n){Ke++,Be[Ke]=t.current,t.current=n}var le=k(null),ye=k(null),Re=k(null),Oe=k(null);function se(t,n){switch(ae(Re,n),ae(ye,t),ae(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?o_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=o_(n),t=l_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(le),ae(le,t)}function Te(){K(le),K(ye),K(Re)}function Fe(t){t.memoizedState!==null&&ae(Oe,t);var n=le.current,a=l_(n,t.type);n!==a&&(ae(ye,t),ae(le,a))}function ot(t){ye.current===t&&(K(le),K(ye)),Oe.current===t&&(K(Oe),gl._currentValue=me)}var rt,$e;function Wt(t){if(rt===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);rt=n&&n[1]||"",$e=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+t+$e}var go=!1;function or(t,n){if(!t||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){z=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),P=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===P.length)for(o=N.length-1,h=P.length-1;1<=o&&0<=h&&N[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==P[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Wt(a):""}function po(t,n){switch(t.tag){case 26:case 27:case 5:return Wt(t.type);case 16:return Wt("Lazy");case 13:return t.child!==n&&n!==null?Wt("Suspense Fallback"):Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return or(t.type,!1);case 11:return or(t.type.render,!1);case 1:return or(t.type,!0);case 31:return Wt("Activity");default:return""}}function yo(t){try{var n="",a=null;do n+=po(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,ls=s.unstable_cancelCallback,Dh=s.unstable_shouldYield,tu=s.unstable_requestPaint,an=s.unstable_now,lr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,us=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,qn=null,Ht=null;function Rn(t){if(typeof iu=="function"&&su(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(qn,t)}catch{}}var _t=Math.clz32?Math.clz32:au,ru=Math.log,ea=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(ru(t)/ea|0)|0}var oi=256,ur=262144,At=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ui(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=li(o):(p&=E,p!==0?h=li(p):a||(a=E&~t,a!==0&&(h=li(a))))):(E=o&~f,E!==0?h=li(E):p!==0?h=li(p):a||(a=o&~t,a!==0&&(h=li(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function ci(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,a,o,h,f){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,N=t.expirationTimes,P=t.hiddenUpdates;for(a=p&~a;0<a;){var G=31-_t(a),Y=1<<G;E[G]=0,N[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}a&=~Y}o!==0&&hr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function hr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-_t(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function bo(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-_t(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function Eo(t,n){var a=n&-n;return a=(a&42)!==0?1:fr(a),(a&(t.suspendedLanes|n))!==0?0:a}function fr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Fn(t,n){var a=te.p;try{return te.p=t,n()}finally{te.p=a}}var Gn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Gn,Pt="__reactProps$"+Gn,hi="__reactContainer$"+Gn,ta="__reactEvents$"+Gn,kh="__reactListeners$"+Gn,uu="__reactHandles$"+Gn,cu="__reactResources$"+Gn,fi="__reactMarker$"+Gn;function na(t){delete t[wt],delete t[Pt],delete t[ta],delete t[kh],delete t[uu]}function di(t){var n=t[wt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[hi]||a[wt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[wt])return a;t=g_(t)}return n}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[wt]||t[hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function _n(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function mi(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xt(t){t[fi]=!0}var To=new Set,So={};function gi(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(So[t]=n,t=0;t<n.length;t++)To.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},xo={};function hu(t){return St.call(xo,t)?!0:St.call(wo,t)?!1:Ao.test(t)?xo[t]=!0:(wo[t]=!0,!1)}function ia(t,n,a){if(hu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function vn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Rt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=cs(t)?"checked":"value";t._valueTracker=Ro(t,n,""+t[n])}}function dr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=cs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var mr=/[\n"\\]/g;function un(t){return t.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(t,n,a,o,h,f,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+zt(n)):t.value!==""+zt(n)&&(t.value=""+zt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Co(t,p,zt(n)):a!=null?Co(t,p,zt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function fu(t,n,a,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}a=a!=null?""+zt(a):"",n=n!=null?""+zt(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),Ze(t)}function Co(t,n,a){n==="number"&&yi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function hs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,a){if(n!=null&&(n=""+zt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+zt(a):""}function fs(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(ke(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=zt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ze(t)}function cn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function No(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Io(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(t,f,n[f])}function ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var Do=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ms=null,_i=null;function gr(t){var n=Cn(t);if(n&&(t=n.stateNode)){var a=t[Pt]||null;e:switch(t=n.stateNode,n.type){case"input":if(sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(r(90));sa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&dr(o)}break e;case"textarea":du(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&hs(t,!!a.multiple,n,!1)}}}var oa=!1;function gs(t,n,a){if(oa)return t(n,a);oa=!0;try{var o=t(n);return o}finally{if(oa=!1,(ms!==null||_i!==null)&&(lc(),ms&&(n=ms,t=_i,_i=ms=null,gr(n),t)))for(n=0;n<t.length;n++)gr(t[n])}}function Kn(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Nn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{pr=!1}var vi=null,Oo=null,yr=null;function Mo(){if(yr)return yr;var t,n=Oo,a=n.length,o,h="value"in vi?vi.value:vi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var p=a-t;for(o=1;o<=p&&n[a-o]===h[f-o];o++);return yr=h.slice(t,1<o?1-o:void 0)}function _r(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Ft(t){function n(a,o,h,f,p){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ft(ji),ps=x({},ji,{view:0,detail:0}),Vo=Ft(ps),ys,la,Ei,ua=x({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(ys=t.screenX-Ei.screenX,la=t.screenY-Ei.screenY):la=ys=0,Ei=t),ys)},movementY:function(t){return"movementY"in t?t.movementY:la}}),ko=Ft(ua),vr=x({},ua,{dataTransfer:0}),pu=Ft(vr),yu=x({},ps,{relatedTarget:0}),br=Ft(yu),Lo=x({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Ft(Lo),ca=x({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Ft(ca),bu=x({},ji,{data:0}),Ti=Ft(bu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function _s(){return Au}var on=x({},ps,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=_r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?_r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Ft(on),xu=x({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Ft(xu),u=x({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Ft(u),v=x({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ft(v),j=x({},ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ft(j),re=x({},ji,{newState:0,oldState:0}),Ie=Ft(re),vt=[9,13,27,32],Ye=Nn&&"CompositionEvent"in window,ft=null;Nn&&"documentMode"in document&&(ft=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ft,Si=Nn&&(!Ye||ft&&8<ft&&11>=ft),Xn=" ",$n=!1;function Er(t,n){switch(t){case"keyup":return vt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fa=!1;function fT(t,n){switch(t){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return t=n.data,t===Xn&&$n?null:t;default:return null}}function dT(t,n){if(fa)return t==="compositionend"||!Ye&&Er(t,n)?(t=Mo(),yr=Oo=vi=null,fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var mT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!mT[t.type]:n==="textarea"}function vg(t,n,a,o){ms?_i?_i.push(o):_i=[o]:ms=o,n=gc(n,"onChange"),0<n.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var jo=null,Uo=null;function gT(t){t_(t,0)}function Ru(t){var n=_n(t);if(dr(n))return t}function bg(t,n){if(t==="change")return n}var Eg=!1;if(Nn){var Lh;if(Nn){var jh="oninput"in document;if(!jh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),jh=typeof Tg.oninput=="function"}Lh=jh}else Lh=!1;Eg=Lh&&(!document.documentMode||9<document.documentMode)}function Sg(){jo&&(jo.detachEvent("onpropertychange",Ag),Uo=jo=null)}function Ag(t){if(t.propertyName==="value"&&Ru(Uo)){var n=[];vg(n,Uo,t,In(t)),gs(gT,n)}}function pT(t,n,a){t==="focusin"?(Sg(),jo=n,Uo=a,jo.attachEvent("onpropertychange",Ag)):t==="focusout"&&Sg()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Uo)}function _T(t,n){if(t==="click")return Ru(n)}function vT(t,n){if(t==="input"||t==="change")return Ru(n)}function bT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var bn=typeof Object.is=="function"?Object.is:bT;function Po(t,n){if(bn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!St.call(n,h)||!bn(t[h],n[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xg(t,n){var a=wg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=wg(a)}}function Rg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=yi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=yi(t.document)}return n}function Uh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ET=Nn&&"documentMode"in document&&11>=document.documentMode,da=null,Ph=null,zo=null,zh=!1;function Ig(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zh||da==null||da!==yi(o)||(o=da,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=gc(Ph,"onSelect"),0<o.length&&(n=new bi("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=da)))}function Tr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ma={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Bh={},Ng={};Nn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Sr(t){if(Bh[t])return Bh[t];if(!ma[t])return t;var n=ma[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ng)return Bh[t]=n[a];return t}var Dg=Sr("animationend"),Og=Sr("animationiteration"),Mg=Sr("animationstart"),TT=Sr("transitionrun"),ST=Sr("transitionstart"),AT=Sr("transitioncancel"),Vg=Sr("transitionend"),kg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Jn(t,n){kg.set(t,n),gi(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],ga=0,Hh=0;function Iu(){for(var t=ga,n=Hh=ga=0;n<t;){var a=On[n];On[n++]=null;var o=On[n];On[n++]=null;var h=On[n];On[n++]=null;var f=On[n];if(On[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Lg(a,h,f)}}function Nu(t,n,a,o){On[ga++]=t,On[ga++]=n,On[ga++]=a,On[ga++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fh(t,n,a,o){return Nu(t,n,a,o),Du(t)}function Ar(t,n){return Nu(t,null,null,n),Du(t)}function Lg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(t){if(50<ll)throw ll=0,ed=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var pa={};function wT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,n,a,o){return new wT(t,n,a,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,n){var a=t.alternate;return a===null?(a=En(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,a,o,h,f){var p=0;if(o=t,typeof t=="function")Gh(t)&&(p=1);else if(typeof t=="string")p=N1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=En(31,a,n,h),t.elementType=w,t.lanes=f,t;case ne:return wr(a.children,h,f,n);case Z:p=8,h|=24;break;case de:return t=En(12,a,n,h|2),t.elementType=de,t.lanes=f,t;case Ee:return t=En(13,a,n,h),t.elementType=Ee,t.lanes=f,t;case ie:return t=En(19,a,n,h),t.elementType=ie,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:p=10;break e;case W:p=9;break e;case ee:p=11;break e;case C:p=14;break e;case T:p=16,o=null;break e}p=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=En(p,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function wr(t,n,a,o){return t=En(7,t,o,n),t.lanes=a,t}function Qh(t,n,a){return t=En(6,t,null,n),t.lanes=a,t}function Ug(t){var n=En(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,a){return n=En(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pg=new WeakMap;function Mn(t,n){if(typeof t=="object"&&t!==null){var a=Pg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yo(n)},Pg.set(t,n),n)}return{value:t,source:n,stack:yo(n)}}var ya=[],_a=0,Mu=null,Bo=0,Vn=[],kn=0,vs=null,Ai=1,wi="";function zi(t,n){ya[_a++]=Bo,ya[_a++]=Mu,Mu=t,Bo=n}function zg(t,n,a){Vn[kn++]=Ai,Vn[kn++]=wi,Vn[kn++]=vs,vs=t;var o=Ai;t=wi;var h=32-_t(o)-1;o&=~(1<<h),a+=1;var f=32-_t(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ai=1<<32-_t(n)+h|a<<h|o,wi=f+t}else Ai=1<<f|a<<h|o,wi=t}function Yh(t){t.return!==null&&(zi(t,1),zg(t,1,0))}function Xh(t){for(;t===Mu;)Mu=ya[--_a],ya[_a]=null,Bo=ya[--_a],ya[_a]=null;for(;t===vs;)vs=Vn[--kn],Vn[kn]=null,wi=Vn[--kn],Vn[kn]=null,Ai=Vn[--kn],Vn[kn]=null}function Bg(t,n){Vn[kn++]=Ai,Vn[kn++]=wi,Vn[kn++]=vs,Ai=n.id,wi=n.overflow,vs=t}var Gt=null,ut=null,qe=!1,bs=null,Ln=!1,$h=Error(r(519));function Es(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Mn(n,t)),$h}function qg(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[wt]=t,n[Pt]=o,a){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ve(cl[a],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),fs(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||r_(n.textContent,a)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Es(t,!0)}function Hg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Gt=Gt.return}}function va(t){if(t!==Gt)return!1;if(!qe)return Hg(t),qe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gd(t.type,t.memoizedProps)),a=!a),a&&ut&&Es(t),Hg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=m_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ut=m_(t)}else n===27?(n=ut,ks(t.type)?(t=bd,bd=null,ut=t):ut=n):ut=Gt?Un(t.stateNode.nextSibling):null;return!0}function xr(){ut=Gt=null,qe=!1}function Jh(){var t=bs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),bs=null),t}function qo(t){bs===null?bs=[t]:bs.push(t)}var Zh=k(null),Rr=null,Bi=null;function Ts(t,n,a){ae(Zh,n._currentValue),n._currentValue=a}function qi(t){t._currentValue=Zh.current,K(Zh)}function Wh(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function ef(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wh(f.return,a,t),o||(p=null);break e}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=a,f=p.alternate,f!==null&&(f.lanes|=a),Wh(p,a,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ba(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;bn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Oe.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&ef(n,t,a,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cr(t){Rr=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Fg(Rr,t)}function ku(t,n){return Rr===null&&Cr(t),Fg(t,n)}function Fg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(r(308));Bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Bi=Bi.next=n;return a}var xT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},RT=s.unstable_scheduleCallback,CT=s.unstable_NormalPriority,Ct={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new xT,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&RT(CT,function(){t.controller.abort()})}var Fo=null,nf=0,Ea=0,Ta=null;function IT(t,n){if(Fo===null){var a=Fo=[];nf=0,Ea=ad(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(Gg,Gg),n}function Gg(){if(--nf===0&&Fo!==null){Ta!==null&&(Ta.status="fulfilled");var t=Fo;Fo=null,Ea=0,Ta=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NT(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Qg=H.S;H.S=function(t,n){Iy=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IT(t,n),Qg!==null&&Qg(t,n)};var Ir=k(null);function sf(){var t=Ir.current;return t!==null?t:at.pooledCache}function Lu(t,n){n===null?ae(Ir,Ir.current):ae(Ir,n.pool)}function Kg(){var t=sf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Sa=Error(r(460)),rf=Error(r(474)),ju=Error(r(542)),Uu={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Qn,Qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Jg(t),t}throw Dr=n,Sa}}function Nr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Dr=a,Sa):a}}var Dr=null;function $g(){if(Dr===null)throw Error(r(459));var t=Dr;return Dr=null,t}function Jg(t){if(t===Sa||t===ju)throw Error(r(483))}var Aa=null,Go=0;function Pu(t){var n=Go;return Go+=1,Aa===null&&(Aa=[]),Xg(Aa,t,n)}function Qo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zg(t){function n(L,V){if(t){var U=L.deletions;U===null?(L.deletions=[V],L.flags|=16):U.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)n(L,V),V=V.sibling;return null}function o(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Pi(L,V),L.index=0,L.sibling=null,L}function f(L,V,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<V?(L.flags|=67108866,V):U):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function p(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,V,U,Q){return V===null||V.tag!==6?(V=Qh(U,L.mode,Q),V.return=L,V):(V=h(V,U),V.return=L,V)}function N(L,V,U,Q){var ge=U.type;return ge===ne?G(L,V,U.props.children,Q,U.key):V!==null&&(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Nr(ge)===V.type)?(V=h(V,U.props),Qo(V,U),V.return=L,V):(V=Ou(U.type,U.key,U.props,null,L.mode,Q),Qo(V,U),V.return=L,V)}function P(L,V,U,Q){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=Kh(U,L.mode,Q),V.return=L,V):(V=h(V,U.children||[]),V.return=L,V)}function G(L,V,U,Q,ge){return V===null||V.tag!==7?(V=wr(U,L.mode,Q,ge),V.return=L,V):(V=h(V,U),V.return=L,V)}function Y(L,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qh(""+V,L.mode,U),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return U=Ou(V.type,V.key,V.props,null,L.mode,U),Qo(U,V),U.return=L,U;case J:return V=Kh(V,L.mode,U),V.return=L,V;case T:return V=Nr(V),Y(L,V,U)}if(ke(V)||I(V))return V=wr(V,L.mode,U,null),V.return=L,V;if(typeof V.then=="function")return Y(L,Pu(V),U);if(V.$$typeof===oe)return Y(L,ku(L,V),U);zu(L,V)}return null}function z(L,V,U,Q){var ge=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:E(L,V,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F:return U.key===ge?N(L,V,U,Q):null;case J:return U.key===ge?P(L,V,U,Q):null;case T:return U=Nr(U),z(L,V,U,Q)}if(ke(U)||I(U))return ge!==null?null:G(L,V,U,Q,null);if(typeof U.then=="function")return z(L,V,Pu(U),Q);if(U.$$typeof===oe)return z(L,V,ku(L,U),Q);zu(L,U)}return null}function q(L,V,U,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return L=L.get(U)||null,E(V,L,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return L=L.get(Q.key===null?U:Q.key)||null,N(V,L,Q,ge);case J:return L=L.get(Q.key===null?U:Q.key)||null,P(V,L,Q,ge);case T:return Q=Nr(Q),q(L,V,U,Q,ge)}if(ke(Q)||I(Q))return L=L.get(U)||null,G(V,L,Q,ge,null);if(typeof Q.then=="function")return q(L,V,U,Pu(Q),ge);if(Q.$$typeof===oe)return q(L,V,U,ku(V,Q),ge);zu(V,Q)}return null}function he(L,V,U,Q){for(var ge=null,Ge=null,fe=V,De=V=0,je=null;fe!==null&&De<U.length;De++){fe.index>De?(je=fe,fe=null):je=fe.sibling;var Qe=z(L,fe,U[De],Q);if(Qe===null){fe===null&&(fe=je);break}t&&fe&&Qe.alternate===null&&n(L,fe),V=f(Qe,V,De),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe,fe=je}if(De===U.length)return a(L,fe),qe&&zi(L,De),ge;if(fe===null){for(;De<U.length;De++)fe=Y(L,U[De],Q),fe!==null&&(V=f(fe,V,De),Ge===null?ge=fe:Ge.sibling=fe,Ge=fe);return qe&&zi(L,De),ge}for(fe=o(fe);De<U.length;De++)je=q(fe,L,De,U[De],Q),je!==null&&(t&&je.alternate!==null&&fe.delete(je.key===null?De:je.key),V=f(je,V,De),Ge===null?ge=je:Ge.sibling=je,Ge=je);return t&&fe.forEach(function(zs){return n(L,zs)}),qe&&zi(L,De),ge}function _e(L,V,U,Q){if(U==null)throw Error(r(151));for(var ge=null,Ge=null,fe=V,De=V=0,je=null,Qe=U.next();fe!==null&&!Qe.done;De++,Qe=U.next()){fe.index>De?(je=fe,fe=null):je=fe.sibling;var zs=z(L,fe,Qe.value,Q);if(zs===null){fe===null&&(fe=je);break}t&&fe&&zs.alternate===null&&n(L,fe),V=f(zs,V,De),Ge===null?ge=zs:Ge.sibling=zs,Ge=zs,fe=je}if(Qe.done)return a(L,fe),qe&&zi(L,De),ge;if(fe===null){for(;!Qe.done;De++,Qe=U.next())Qe=Y(L,Qe.value,Q),Qe!==null&&(V=f(Qe,V,De),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return qe&&zi(L,De),ge}for(fe=o(fe);!Qe.done;De++,Qe=U.next())Qe=q(fe,L,De,Qe.value,Q),Qe!==null&&(t&&Qe.alternate!==null&&fe.delete(Qe.key===null?De:Qe.key),V=f(Qe,V,De),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return t&&fe.forEach(function(B1){return n(L,B1)}),qe&&zi(L,De),ge}function st(L,V,U,Q){if(typeof U=="object"&&U!==null&&U.type===ne&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case F:e:{for(var ge=U.key;V!==null;){if(V.key===ge){if(ge=U.type,ge===ne){if(V.tag===7){a(L,V.sibling),Q=h(V,U.props.children),Q.return=L,L=Q;break e}}else if(V.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===T&&Nr(ge)===V.type){a(L,V.sibling),Q=h(V,U.props),Qo(Q,U),Q.return=L,L=Q;break e}a(L,V);break}else n(L,V);V=V.sibling}U.type===ne?(Q=wr(U.props.children,L.mode,Q,U.key),Q.return=L,L=Q):(Q=Ou(U.type,U.key,U.props,null,L.mode,Q),Qo(Q,U),Q.return=L,L=Q)}return p(L);case J:e:{for(ge=U.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(L,V.sibling),Q=h(V,U.children||[]),Q.return=L,L=Q;break e}else{a(L,V);break}else n(L,V);V=V.sibling}Q=Kh(U,L.mode,Q),Q.return=L,L=Q}return p(L);case T:return U=Nr(U),st(L,V,U,Q)}if(ke(U))return he(L,V,U,Q);if(I(U)){if(ge=I(U),typeof ge!="function")throw Error(r(150));return U=ge.call(U),_e(L,V,U,Q)}if(typeof U.then=="function")return st(L,V,Pu(U),Q);if(U.$$typeof===oe)return st(L,V,ku(L,U),Q);zu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(L,V.sibling),Q=h(V,U),Q.return=L,L=Q):(a(L,V),Q=Qh(U,L.mode,Q),Q.return=L,L=Q),p(L)):a(L,V)}return function(L,V,U,Q){try{Go=0;var ge=st(L,V,U,Q);return Aa=null,ge}catch(fe){if(fe===Sa||fe===ju)throw fe;var Ge=En(29,fe,null,L.mode);return Ge.lanes=Q,Ge.return=L,Ge}finally{}}}var Or=Zg(!0),Wg=Zg(!1),Ss=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ws(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(t),Lg(t,null,a),n}return Nu(t,o,n,a),Du(t)}function Ko(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}function lf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var uf=!1;function Yo(){if(uf){var t=Ta;if(t!==null)throw t}}function Xo(t,n,a,o){uf=!1;var h=t.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,P=N.next;N.next=null,p===null?f=P:p.next=P,p=N;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;p=0,G=P=N=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Le&z)===z:(o&z)===z){z!==0&&z===Ea&&(uf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,_e=E;z=n;var st=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){Y=he.call(st,Y,z);break e}Y=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,z=typeof he=="function"?he.call(st,Y,z):he,z==null)break e;Y=x({},Y,z);break e;case 2:Ss=!0}}z=E.callback,z!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,N=Y):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ns|=p,t.lanes=p,t.memoizedState=Y}}function ep(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function tp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ep(a[t],n)}var wa=k(null),Bu=k(0);function np(t,n){t=Ji,ae(Bu,t),ae(wa,n),Ji=t|n.baseLanes}function cf(){ae(Bu,Ji),ae(wa,wa.current)}function hf(){Ji=Bu.current,K(wa),K(Bu)}var Tn=k(null),jn=null;function xs(t){var n=t.alternate;ae(bt,bt.current&1),ae(Tn,t),jn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(jn=t)}function ff(t){ae(bt,bt.current),ae(Tn,t),jn===null&&(jn=t)}function ip(t){t.tag===22?(ae(bt,bt.current),ae(Tn,t),jn===null&&(jn=t)):Rs()}function Rs(){ae(bt,bt.current),ae(Tn,Tn.current)}function Sn(t){K(Tn),jn===t&&(jn=null),K(bt)}var bt=k(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Ne=null,nt=null,It=null,Hu=!1,xa=!1,Mr=!1,Fu=0,$o=0,Ra=null,DT=0;function pt(){throw Error(r(321))}function df(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!bn(t[a],n[a]))return!1;return!0}function mf(t,n,a,o,h,f){return Hi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?zp:If,Mr=!1,f=a(o,h),Mr=!1,xa&&(f=rp(n,a,o,h)),sp(t),f}function sp(t){H.H=Wo;var n=nt!==null&&nt.next!==null;if(Hi=0,It=nt=Ne=null,Hu=!1,$o=0,Ra=null,n)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Vu(t)&&(Nt=!0))}function rp(t,n,a,o){Ne=t;var h=0;do{if(xa&&(Ra=null),$o=0,xa=!1,25<=h)throw Error(r(301));if(h+=1,It=nt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Bp,f=n(a,o)}while(xa);return f}function OT(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Jo(n):n,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ne.flags|=1024),n}function gf(){var t=Fu!==0;return Fu=0,t}function pf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function yf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Hi=0,It=nt=Ne=null,xa=!1,$o=Fu=0,Ra=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ne.memoizedState=It=t:It=It.next=t,It}function Et(){if(nt===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var n=It===null?Ne.memoizedState:It.next;if(n!==null)It=n,nt=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Ne.memoizedState=It=t:It=It.next=t}return It}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(t){var n=$o;return $o+=1,Ra===null&&(Ra=[]),t=Xg(Ra,t,n),n=Ne,(It===null?n.memoizedState:It.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?zp:If),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Jo(t);if(t.$$typeof===oe)return Qt(t)}throw Error(r(438,String(t)))}function _f(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Gu(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=M;return n.index++,a}function Fi(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Et();return vf(n,nt,t)}function vf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=p=null,N=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Le&Y)===Y:(Hi&Y)===Y){var z=P.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ea&&(G=!0);else if((Hi&z)===z){P=P.next,z===Ea&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=Y,p=f):N=N.next=Y,Ne.lanes|=z,Ns|=z;Y=P.action,Mr&&a(f,Y),f=P.hasEagerState?P.eagerState:a(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},N===null?(E=N=z,p=f):N=N.next=z,Ne.lanes|=Y,Ns|=Y;P=P.next}while(P!==null&&P!==n);if(N===null?p=f:N.next=E,!bn(f,t.memoizedState)&&(Nt=!0,G&&(a=Ta,a!==null)))throw a;t.memoizedState=f,t.baseState=p,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bf(t){var n=Et(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);bn(f,n.memoizedState)||(Nt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ap(t,n,a){var o=Ne,h=Et(),f=qe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var p=!bn((nt||h).memoizedState,a);if(p&&(h.memoizedState=a,Nt=!0),h=h.queue,Sf(up.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||It!==null&&It.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},lp.bind(null,o,h,a,n),null),at===null)throw Error(r(349));f||(Hi&127)!==0||op(o,n,a)}return a}function op(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Gu(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function lp(t,n,a,o){n.value=a,n.getSnapshot=o,cp(n)&&hp(t)}function up(t,n,a){return a(function(){cp(n)&&hp(t)})}function cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!bn(t,a)}catch{return!0}}function hp(t){var n=Ar(t,2);n!==null&&gn(n,t,2)}function Ef(t){var n=ln();if(typeof t=="function"){var a=t;if(t=a(),Mr){Rn(!0);try{a()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},n}function fp(t,n,a,o){return t.baseState=a,vf(t,nt,typeof o=="function"?o:Fi)}function MT(t,n,a,o,h){if($u(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,dp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function dp(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=a(h,o),N=H.S;N!==null&&N(p,E),mp(t,n,E)}catch(P){Tf(t,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=a(h,o),mp(t,n,f)}catch(P){Tf(t,n,P)}}function mp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){gp(t,n,o)},function(o){return Tf(t,n,o)}):gp(t,n,a)}function gp(t,n,a){n.status="fulfilled",n.value=a,pp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,dp(t,a)))}function Tf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,pp(n),n=n.next;while(n!==o)}t.action=null}function pp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function yp(t,n){return n}function _p(t,n){if(qe){var a=at.formState;if(a!==null){e:{var o=Ne;if(qe){if(ut){t:{for(var h=ut,f=Ln;h.nodeType!==8;){if(!f){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Un(h.nextSibling),o=h.data==="F!";break e}}Es(o)}o=!1}o&&(n=a[0])}}return a=ln(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},a.queue=o,a=jp.bind(null,Ne,o),o.dispatch=a,o=Ef(!1),f=Cf.bind(null,Ne,!1,o.queue),o=ln(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=MT.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function vp(t){var n=Et();return bp(n,nt,t)}function bp(t,n,a){if(n=vf(t,n,yp)[0],t=Ku(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(p){throw p===Sa?ju:p}else o=n;n=Et();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,Ca(9,{destroy:void 0},VT.bind(null,h,a),null)),[o,f,t]}function VT(t,n){t.action=n}function Ep(t){var n=Et(),a=nt;if(a!==null)return bp(n,a,t);Et(),n=n.memoizedState,a=Et();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ca(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Gu(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Tp(){return Et().memoizedState}function Yu(t,n,a,o){var h=ln();Ne.flags|=t,h.memoizedState=Ca(1|n,{destroy:void 0},a,o===void 0?null:o)}function Xu(t,n,a,o){var h=Et();o=o===void 0?null:o;var f=h.memoizedState.inst;nt!==null&&o!==null&&df(o,nt.memoizedState.deps)?h.memoizedState=Ca(n,f,a,o):(Ne.flags|=t,h.memoizedState=Ca(1|n,f,a,o))}function Sp(t,n){Yu(8390656,8,t,n)}function Sf(t,n){Xu(2048,8,t,n)}function kT(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Gu(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ap(t){var n=Et().memoizedState;return kT({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function wp(t,n){return Xu(4,2,t,n)}function xp(t,n){return Xu(4,4,t,n)}function Rp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cp(t,n,a){a=a!=null?a.concat([t]):null,Xu(4,4,Rp.bind(null,n,t),a)}function Af(){}function Ip(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Np(t,n){var a=Et();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Mr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[o,n],o}function wf(t,n,a){return a===void 0||(Hi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Dy(),Ne.lanes|=t,Ns|=t,a)}function Dp(t,n,a,o){return bn(a,n)?a:wa.current!==null?(t=wf(t,a,o),bn(t,n)||(Nt=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(Le&261930)===0?(Nt=!0,t.memoizedState=a):(t=Dy(),Ne.lanes|=t,Ns|=t,n)}function Op(t,n,a,o,h){var f=te.p;te.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Cf(t,!1,n,a);try{var N=h(),P=H.S;if(P!==null&&P(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=NT(N,o);Zo(t,n,G,xn(t))}else Zo(t,n,o,xn(t))}catch(Y){Zo(t,n,{then:function(){},status:"rejected",reason:Y},xn())}finally{te.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function LT(){}function xf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Mp(t).queue;Op(t,h,n,me,a===null?LT:function(){return Vp(t),a(o)})}function Mp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vp(t){var n=Mp(t);n.next===null&&(n=t.alternate.memoizedState),Zo(t,n.next.queue,{},xn())}function Rf(){return Qt(gl)}function kp(){return Et().memoizedState}function Lp(){return Et().memoizedState}function jT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=xn();t=As(a);var o=ws(n,t,a);o!==null&&(gn(o,n,a),Ko(o,n,a)),n={cache:tf()},t.payload=n;return}n=n.return}}function UT(t,n,a){var o=xn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(t)?Up(n,a):(a=Fh(t,n,a,o),a!==null&&(gn(a,t,o),Pp(a,n,o)))}function jp(t,n,a){var o=xn();Zo(t,n,a,o)}function Zo(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(t))Up(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,a);if(h.hasEagerState=!0,h.eagerState=E,bn(E,p))return Nu(t,n,h,0),at===null&&Iu(),!1}catch{}finally{}if(a=Fh(t,n,h,o),a!==null)return gn(a,t,o),Pp(a,n,o),!0}return!1}function Cf(t,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(r(479))}else n=Fh(t,a,o,2),n!==null&&gn(n,t,2)}function $u(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Up(t,n){xa=Hu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Pp(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,bo(t,a)}}var Wo={readContext:Qt,use:Qu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Wo.useEffectEvent=pt;var zp={readContext:Qt,use:Qu,useCallback:function(t,n){return ln().memoizedState=[t,n===void 0?null:n],t},useContext:Qt,useEffect:Sp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Yu(4194308,4,Rp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var a=ln();n=n===void 0?null:n;var o=t();if(Mr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=ln();if(a!==void 0){var h=a(n);if(Mr){Rn(!0);try{a(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=UT.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=ln();return t={current:t},n.memoizedState=t},useState:function(t){t=Ef(t);var n=t.queue,a=jp.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,n){var a=ln();return wf(a,t,n)},useTransition:function(){var t=Ef(!1);return t=Op.bind(null,Ne,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=ln();if(qe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),at===null)throw Error(r(349));(Le&127)!==0||op(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Sp(up.bind(null,o,f,t),[t]),o.flags|=2048,Ca(9,{destroy:void 0},lp.bind(null,o,f,a,n),null),a},useId:function(){var t=ln(),n=at.identifierPrefix;if(qe){var a=wi,o=Ai;a=(o&~(1<<32-_t(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Fu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=DT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:_p,useActionState:_p,useOptimistic:function(t){var n=ln();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return ln().memoizedState=jT.bind(null,Ne)},useEffectEvent:function(t){var n=ln(),a={impl:t};return n.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Qt,use:Qu,useCallback:Ip,useContext:Qt,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:wp,useLayoutEffect:xp,useMemo:Np,useReducer:Ku,useRef:Tp,useState:function(){return Ku(Fi)},useDebugValue:Af,useDeferredValue:function(t,n){var a=Et();return Dp(a,nt.memoizedState,t,n)},useTransition:function(){var t=Ku(Fi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Rf,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var a=Et();return fp(a,nt,t,n)},useMemoCache:_f,useCacheRefresh:Lp};If.useEffectEvent=Ap;var Bp={readContext:Qt,use:Qu,useCallback:Ip,useContext:Qt,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:wp,useLayoutEffect:xp,useMemo:Np,useReducer:bf,useRef:Tp,useState:function(){return bf(Fi)},useDebugValue:Af,useDeferredValue:function(t,n){var a=Et();return nt===null?wf(a,t,n):Dp(a,nt.memoizedState,t,n)},useTransition:function(){var t=bf(Fi)[0],n=Et().memoizedState;return[typeof t=="boolean"?t:Jo(t),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:Rf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var a=Et();return nt!==null?fp(a,nt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Lp};Bp.useEffectEvent=Ap;function Nf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:x({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Df={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=xn(),h=As(o);h.payload=n,a!=null&&(h.callback=a),n=ws(t,h,o),n!==null&&(gn(n,t,o),Ko(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=xn(),h=As(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ws(t,h,o),n!==null&&(gn(n,t,o),Ko(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=xn(),o=As(a);o.tag=2,n!=null&&(o.callback=n),n=ws(t,o,a),n!==null&&(gn(n,t,a),Ko(n,t,a))}};function qp(t,n,a,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Po(a,o)||!Po(h,f):!0}function Hp(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function Vr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Fp(t){Cu(t)}function Gp(t){console.error(t)}function Qp(t){Cu(t)}function Ju(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kp(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,n)},a}function Yp(t){return t=As(t),t.tag=3,t}function Xp(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Kp(n,a,o)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){Kp(n,a,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function PT(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&ba(n,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?uc():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return a.flags|=65536,o===Uu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(t,o,h)),!1}throw Error(r(435,a.tag))}return id(t,o,h),uc(),!1}if(qe)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(r(422),{cause:o}),qo(Mn(t,a)))):(o!==$h&&(n=Error(r(423),{cause:o}),qo(Mn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Mn(o,a),h=Of(t.stateNode,o,h),lf(t,h),yt!==4&&(yt=2)),!1;var f=Error(r(520),{cause:o});if(f=Mn(f,a),ol===null?ol=[f]:ol.push(f),yt!==4&&(yt=2),n===null)return!0;o=Mn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,o,t),lf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yp(h),Xp(h,t,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Mf=Error(r(461)),Nt=!1;function Kt(t,n,a,o){n.child=t===null?Wg(n,null,a,o):Or(n,t.child,a,o)}function $p(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Cr(n),o=mf(t,n,a,p,f,h),E=gf(),t!==null&&!Nt?(pf(t,n,h),Gi(t,n,h)):(qe&&E&&Yh(n),n.flags|=1,Kt(t,n,o,h),n.child)}function Jp(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zp(t,n,f,o,h)):(t=Ou(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var p=f.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(p,o)&&t.ref===n.ref)return Gi(t,n,h)}return n.flags|=1,t=Pi(f,o),t.ref=n.ref,t.return=n,n.child=t}function Zp(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Po(f,o)&&t.ref===n.ref)if(Nt=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return n.lanes=t.lanes,Gi(t,n,h)}return Vf(t,n,a,o,h)}function Wp(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ey(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?np(n,f):cf(),ip(n);else return o=n.lanes=536870912,ey(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(n,f.cachePool),np(n,f),Rs(),n.memoizedState=null):(t!==null&&Lu(n,null),cf(),Rs());return Kt(t,n,h,a),n.child}function el(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(t,n,a,o,h){var f=sf();return f=f===null?null:{parent:Ct._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Lu(n,null),cf(),ip(n),t!==null&&ba(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ty(t,n,a){return Or(n,t.child,null,a),t=Zu(n,n.pendingProps),t.flags|=2,Sn(n),n.memoizedState=null,t}function zT(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,el(null,t);if(ff(n),(t=ut)?(t=d_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=n,n.child=a,Gt=n,ut=null)):t=null,t===null)throw Es(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ty(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Nt||ba(t,n,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(o=at,o!==null&&(p=Eo(o,a),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ar(t,p),gn(o,t,p),Mf;uc(),n=ty(t,n,a)}else t=f.treeContext,ut=Un(p.nextSibling),Gt=n,qe=!0,bs=null,Ln=!1,t!==null&&Bg(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=Pi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vf(t,n,a,o,h){return Cr(n),a=mf(t,n,a,o,void 0,h),o=gf(),t!==null&&!Nt?(pf(t,n,h),Gi(t,n,h)):(qe&&o&&Yh(n),n.flags|=1,Kt(t,n,a,h),n.child)}function ny(t,n,a,o,h,f){return Cr(n),n.updateQueue=null,a=rp(n,o,a,h),sp(t),o=gf(),t!==null&&!Nt?(pf(t,n,f),Gi(t,n,f)):(qe&&o&&Yh(n),n.flags|=1,Kt(t,n,a,f),n.child)}function iy(t,n,a,o,h){if(Cr(n),n.stateNode===null){var f=pa,p=a.contextType;typeof p=="object"&&p!==null&&(f=Qt(p)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),p=a.contextType,f.context=typeof p=="object"&&p!==null?Qt(p):pa,f.state=n.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,a,p,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,N=Vr(a,E);f.props=N;var P=f.context,G=a.contextType;p=pa,typeof G=="object"&&G!==null&&(p=Qt(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Hp(n,f,o,p),Ss=!1;var z=n.memoizedState;f.state=z,Xo(n,o,f,h),Yo(),P=n.memoizedState,E||z!==P||Ss?(typeof Y=="function"&&(Nf(n,a,Y,o),P=n.memoizedState),(N=Ss||qp(n,a,N,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),p=n.memoizedProps,G=Vr(a,p),f.props=G,Y=n.pendingProps,z=f.context,P=a.contextType,N=pa,typeof P=="object"&&P!==null&&(N=Qt(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==N)&&Hp(n,f,o,N),Ss=!1,z=n.memoizedState,f.state=z,Xo(n,o,f,h),Yo();var q=n.memoizedState;p!==Y||z!==q||Ss||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Nf(n,a,E,o),q=n.memoizedState),(G=Ss||qp(n,a,G,o,z,q,N)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=N,o=G):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Or(n,t.child,null,h),n.child=Or(n,null,a,h)):Kt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Gi(t,n,h),t}function sy(t,n,a,o){return xr(),n.flags|=256,Kt(t,n,a,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Kg()}}function jf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=wn),t}function ry(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?xs(n):Rs(),(t=ut)?(t=d_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vs!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Ug(t),a.return=n,n.child=a,Gt=n,ut=null)):t=null,t===null)throw Es(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=wr(o,h,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Lf(a),o.childLanes=jf(t,p,a),n.memoizedState=kf,el(null,o)):(xs(n),Uf(n,E))}var N=t.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(xs(n),n.flags&=-257,n=Pf(t,n,a)):n.memoizedState!==null?(Rs(),n.child=t.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=wr(E,h,a,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Or(n,t.child,null,a),o=n.child,o.memoizedState=Lf(a),o.childLanes=jf(t,p,a),n.memoizedState=kf,n=el(null,o));else if(xs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(r(419)),o.stack="",o.digest=p,qo({value:o,source:null,stack:null}),n=Pf(t,n,a)}else if(Nt||ba(t,n,a,!1),p=(a&t.childLanes)!==0,Nt||p){if(p=at,p!==null&&(o=Eo(p,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Ar(t,o),gn(p,t,o),Mf;_d(E)||uc(),n=Pf(t,n,a)}else _d(E)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,ut=Un(E.nextSibling),Gt=n,qe=!0,bs=null,Ln=!1,t!==null&&Bg(n,t),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,N=t.child,P=N.sibling,o=Pi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,P!==null?E=Pi(P,E):(E=wr(E,h,a,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,el(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Lf(a):(h=E.cachePool,h!==null?(N=Ct._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Kg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=jf(t,p,a),n.memoizedState=kf,el(t.child,o)):(xs(n),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=a,n.memoizedState=null,a)}function Uf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=En(22,t,null,n),t.lanes=0,t}function Pf(t,n,a){return Or(n,t.child,null,a),t=Uf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ay(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,a)}function zf(t,n,a,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h,p.treeForkCount=f)}function oy(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=bt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ae(bt,p),Kt(t,n,o,a),o=qe?Bo:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,a,n);else if(t.tag===19)ay(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),zf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}zf(n,!0,a,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Gi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Ns|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ba(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Pi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function BT(t,n,a){switch(n.tag){case 3:se(n,n.stateNode.containerInfo),Ts(n,Ct,t.memoizedState.cache),xr();break;case 27:case 5:Fe(n);break;case 4:se(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(xs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ry(t,n,a):(xs(n),t=Gi(t,n,a),t!==null?t.sibling:null);xs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(ba(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return oy(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(bt,bt.current),o)break;return null;case 22:return n.lanes=0,Wp(t,n,a,n.pendingProps);case 24:Ts(n,Ct,t.memoizedState.cache)}return Gi(t,n,a)}function ly(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Nt=!0;else{if(!Bf(t,a)&&(n.flags&128)===0)return Nt=!1,BT(t,n,a);Nt=(t.flags&131072)!==0}else Nt=!1,qe&&(n.flags&1048576)!==0&&zg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Nr(n.elementType),n.type=t,typeof t=="function")Gh(t)?(o=Vr(t,o),n.tag=1,n=iy(null,n,t,o,a)):(n.tag=0,n=Vf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ee){n.tag=11,n=$p(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=Jp(null,n,t,o,a);break e}}throw n=Ae(t)||t,Error(r(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Vr(o,n.pendingProps),iy(t,n,o,h,a);case 3:e:{if(se(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),Xo(n,o,null,a);var p=n.memoizedState;if(o=p.cache,Ts(n,Ct,o),o!==f.cache&&ef(n,[Ct],a,!0),Yo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(t,n,o,a);break e}else if(o!==h){h=Mn(Error(r(424)),n),qo(h),n=sy(t,n,o,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),Gt=n,qe=!0,bs=null,Ln=!0,a=Wg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xr(),o===h){n=Gi(t,n,a);break e}Kt(t,n,o,a)}n=n.child}return n;case 26:return Wu(t,n),t===null?(a=v_(n.type,null,n.pendingProps,null))?n.memoizedState=a:qe||(a=n.type,t=n.pendingProps,o=pc(Re.current).createElement(a),o[wt]=n,o[Pt]=t,Yt(o,a,t),xt(o),n.stateNode=o):n.memoizedState=v_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fe(n),t===null&&qe&&(o=n.stateNode=p_(n.type,n.pendingProps,Re.current),Gt=n,Ln=!0,h=ut,ks(n.type)?(bd=h,ut=Un(o.firstChild)):ut=h),Kt(t,n,n.pendingProps.children,a),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=o=ut)&&(o=y1(o,n.type,n.pendingProps,Ln),o!==null?(n.stateNode=o,Gt=n,ut=Un(o.firstChild),Ln=!1,h=!0):h=!1),h||Es(n)),Fe(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,gd(h,f)?o=null:p!==null&&gd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,OT,null,null,a),gl._currentValue=h),Wu(t,n),Kt(t,n,o,a),n.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=_1(a,n.pendingProps,Ln),a!==null?(n.stateNode=a,Gt=n,ut=null,t=!0):t=!1),t||Es(n)),null;case 13:return ry(t,n,a);case 4:return se(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Or(n,null,o,a):Kt(t,n,o,a),n.child;case 11:return $p(t,n,n.type,n.pendingProps,a);case 7:return Kt(t,n,n.pendingProps,a),n.child;case 8:return Kt(t,n,n.pendingProps.children,a),n.child;case 12:return Kt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),Kt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Cr(n),h=Qt(h),o=o(h),n.flags|=1,Kt(t,n,o,a),n.child;case 14:return Jp(t,n,n.type,n.pendingProps,a);case 15:return Zp(t,n,n.type,n.pendingProps,a);case 19:return oy(t,n,a);case 31:return zT(t,n,a);case 22:return Wp(t,n,a,n.pendingProps);case 24:return Cr(n),o=Qt(Ct),t===null?(h=sf(),h===null&&(h=at,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),Ts(n,Ct,h)):((t.lanes&a)!==0&&(of(t,n),Xo(n,null,null,a),Yo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Ct,o)):(o=f.cache,Ts(n,Ct,o),o!==h.cache&&ef(n,[Ct],a,!0))),Kt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(t){t.flags|=4}function qf(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ky())t.flags|=8192;else throw Dr=Uu,rf}else t.flags&=-16777217}function uy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(ky())t.flags|=8192;else throw Dr=Uu,rf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Oa|=n)}function tl(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function qT(t,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),qi(Ct),Te(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(va(n)?Qi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Qi(n),f!==null?(ct(n),uy(n,f)):(ct(n),qf(n,h,null,o,a))):f?f!==t.memoizedState?(Qi(n),ct(n),uy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Qi(n),ct(n),qf(n,h,t,o,a)),null;case 27:if(ot(n),a=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ct(n),null}t=le.current,va(n)?qg(n):(t=p_(h,o,a),n.stateNode=t,Qi(n))}return ct(n),null;case 5:if(ot(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ct(n),null}if(f=le.current,va(n))qg(n);else{var p=pc(Re.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[wt]=n,f[Pt]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Yt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qi(n)}}return ct(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Re.current,va(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[wt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||r_(t.nodeValue,a)),t||Es(n,!0)}else t=pc(t).createTextNode(o),t[wt]=n,n.stateNode=t}return ct(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=va(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else a=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[wt]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),tc(n,n.updateQueue),ct(n),null);case 4:return Te(),t===null&&cd(n.stateNode.containerInfo),ct(n),null;case 10:return qi(n.type),ct(n),null;case 19:if(K(bt),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,tl(o,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)jg(a,t),a=a.sibling;return ae(bt,bt.current&1|2),qe&&zi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&an()>ac&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!qe)return ct(n),null}else 2*an()-o.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,a=bt.current,ae(bt,h?a&1|2:a&1),qe&&zi(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return Sn(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),a=n.updateQueue,a!==null&&tc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&K(Ir),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qi(Ct),ct(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function HT(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return qi(Ct),Te(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ot(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Sn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(bt),null;case 4:return Te(),null;case 10:return qi(n.type),null;case 22:case 23:return Sn(n),hf(),t!==null&&K(Ir),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return qi(Ct),null;case 25:return null;default:return null}}function cy(t,n){switch(Xh(n),n.tag){case 3:qi(Ct),Te();break;case 26:case 27:case 5:ot(n);break;case 4:Te();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:K(bt);break;case 10:qi(n.type);break;case 22:case 23:Sn(n),hf(),t!==null&&K(Ir);break;case 24:qi(Ct)}}function nl(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,p=a.inst;o=f(),p.destroy=o}a=a.next}while(a!==h)}}catch(E){et(n,n.return,E)}}function Cs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=a,P=E;try{P()}catch(G){et(h,N,G)}}}o=o.next}while(o!==f)}}catch(G){et(n,n.return,G)}}function hy(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{tp(n,a)}catch(o){et(t,t.return,o)}}}function fy(t,n,a){a.props=Vr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){et(t,n,o)}}function il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){et(t,n,h)}}function xi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){et(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,n,h)}else a.current=null}function dy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Hf(t,n,a){try{var o=t.stateNode;h1(o,t.type,a,n),o[Pt]=n}catch(h){et(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,a),t=t.sibling;t!==null;)Gf(t,n,a),t=t.sibling}function nc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,n,a),t=t.sibling;t!==null;)nc(t,n,a),t=t.sibling}function gy(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Yt(n,o,a),n[wt]=t,n[Pt]=a}catch(f){et(t,t.return,f)}}var Ki=!1,Dt=!1,Qf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function FT(t,n){if(t=t.containerInfo,dd=Sc,t=Cg(t),Uh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var p=0,E=-1,N=-1,P=0,G=0,Y=t,z=null;t:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(N=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===t)break t;if(z===a&&++P===h&&(E=p),z===f&&++G===o&&(N=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}a=E===-1||N===-1?null:{start:E,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:t,selectionRange:a},Sc=!1,Bt=n;Bt!==null;)if(n=Bt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Bt=t;else for(;Bt!==null;){switch(n=Bt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=Vr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Bt=t;break}Bt=n.return}}function yy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),o&4&&nl(5,a);break;case 1:if(Xi(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(p){et(a,a.return,p)}else{var h=Vr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){et(a,a.return,p)}}o&64&&hy(a),o&512&&il(a,a.return);break;case 3:if(Xi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{tp(t,n)}catch(p){et(a,a.return,p)}}break;case 27:n===null&&o&4&&gy(a);case 26:case 5:Xi(t,a),n===null&&o&4&&dy(a),o&512&&il(a,a.return);break;case 12:Xi(t,a);break;case 31:Xi(t,a),o&4&&by(t,a);break;case 13:Xi(t,a),o&4&&Ey(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WT.bind(null,a),v1(t,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){n=n!==null&&n.memoizedState!==null||Dt,h=Ki;var f=Dt;Ki=o,(Dt=n)&&!f?$i(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Ki=h,Dt=f}break;case 30:break;default:Xi(t,a)}}function _y(t){var n=t.alternate;n!==null&&(t.alternate=null,_y(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&na(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,hn=!1;function Yi(t,n,a){for(a=a.child;a!==null;)vy(t,n,a),a=a.sibling}function vy(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Dt||xi(a,n),Yi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||xi(a,n);var o=dt,h=hn;ks(a.type)&&(dt=a.stateNode,hn=!1),Yi(t,n,a),fl(a.stateNode),dt=o,hn=h;break;case 5:Dt||xi(a,n);case 6:if(o=dt,h=hn,dt=null,Yi(t,n,a),dt=o,hn=h,dt!==null)if(hn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(f){et(a,n,f)}else try{dt.removeChild(a.stateNode)}catch(f){et(a,n,f)}break;case 18:dt!==null&&(hn?(t=dt,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),za(t)):h_(dt,a.stateNode));break;case 4:o=dt,h=hn,dt=a.stateNode.containerInfo,hn=!0,Yi(t,n,a),dt=o,hn=h;break;case 0:case 11:case 14:case 15:Cs(2,a,n),Dt||Cs(4,a,n),Yi(t,n,a);break;case 1:Dt||(xi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fy(a,n,o)),Yi(t,n,a);break;case 21:Yi(t,n,a);break;case 22:Dt=(o=Dt)||a.memoizedState!==null,Yi(t,n,a),Dt=o;break;default:Yi(t,n,a)}}function by(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{za(t)}catch(a){et(n,n.return,a)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{za(t)}catch(a){et(n,n.return,a)}}function GT(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(r(435,t.tag))}}function ic(t,n){var a=GT(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=e1.bind(null,t,o);o.then(h,h)}})}function fn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){dt=E.stateNode,hn=!1;break e}break;case 5:dt=E.stateNode,hn=!1;break e;case 3:case 4:dt=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(dt===null)throw Error(r(160));vy(f,p,h),dt=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var Zn=null;function Ty(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),dn(t),o&4&&(Cs(3,t,t.return),nl(3,t),Cs(5,t,t.return));break;case 1:fn(n,t),dn(t),o&512&&(Dt||a===null||xi(a,a.return)),o&64&&Ki&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(fn(n,t),dn(t),o&512&&(Dt||a===null||xi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[fi]||f[wt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Yt(f,o,a),f[wt]=t,xt(f),o=f;break e;case"link":var p=T_("link","href",h).get(o+(a.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(E,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(o+(a.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(E,1);break t}}f=h.createElement(o),Yt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[wt]=t,xt(f),o=f}t.stateNode=o}else S_(h,t.type,t.stateNode);else t.stateNode=E_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?S_(h,t.type,t.stateNode):E_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),dn(t),o&512&&(Dt||a===null||xi(a,a.return)),a!==null&&o&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),dn(t),o&512&&(Dt||a===null||xi(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(he){et(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(fn(n,t),dn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){et(t,t.return,he)}}break;case 3:if(vc=null,h=Zn,Zn=yc(n.containerInfo),fn(n,t),Zn=h,dn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(he){et(t,t.return,he)}Qf&&(Qf=!1,Sy(t));break;case 4:o=Zn,Zn=yc(t.stateNode.containerInfo),fn(n,t),dn(t),Zn=o;break;case 12:fn(n,t),dn(t);break;case 31:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:fn(n,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=an()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,P=Ki,G=Dt;if(Ki=P||h,Dt=G||N,fn(n,t),Dt=G,Ki=P,dn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||Ki||Dt||kr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){et(N,N.return,he)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){et(N,N.return,he)}}}else if(n.tag===18){if(a===null){N=n;try{var q=N.stateNode;h?f_(q,!0):f_(N.stateNode,!1)}catch(he){et(N,N.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(t,a))));break;case 19:fn(n,t),dn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:fn(n,t),dn(t)}}function dn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(my(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(t);nc(t,f,h);break;case 5:var p=a.stateNode;a.flags&32&&(cn(p,""),a.flags&=-33);var E=Ff(t);nc(t,E,p);break;case 3:case 4:var N=a.stateNode.containerInfo,P=Ff(t);Gf(t,P,N);break;default:throw Error(r(161))}}catch(G){et(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(t,n.alternate,n),n=n.sibling}function kr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),kr(n);break;case 1:xi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fy(n,n.return,a),kr(n);break;case 27:fl(n.stateNode);case 26:case 5:xi(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}t=t.sibling}}function $i(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:$i(h,f,a),nl(4,f);break;case 1:if($i(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){et(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ep(N[h],E)}catch(P){et(o,o.return,P)}}a&&p&64&&hy(f),il(f,f.return);break;case 27:gy(f);case 26:case 5:$i(h,f,a),a&&o===null&&p&4&&dy(f),il(f,f.return);break;case 12:$i(h,f,a);break;case 31:$i(h,f,a),a&&p&4&&by(h,f);break;case 13:$i(h,f,a),a&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&$i(h,f,a),il(f,f.return);break;case 30:break;default:$i(h,f,a)}n=n.sibling}}function Kf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t))}function Wn(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,a,o),n=n.sibling}function Ay(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,a,o),h&2048&&nl(9,n);break;case 1:Wn(t,n,a,o);break;case 3:Wn(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){Wn(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(n,n.return,N)}}else Wn(t,n,a,o);break;case 31:Wn(t,n,a,o);break;case 13:Wn(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,a,o):sl(t,n):f._visibility&2?Wn(t,n,a,o):(f._visibility|=2,Ia(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:Wn(t,n,a,o),h&2048&&Yf(n.alternate,n);break;default:Wn(t,n,a,o)}}function Ia(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,E=a,N=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ia(f,p,E,N,h),nl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Ia(f,p,E,N,h):sl(f,p):(G._visibility|=2,Ia(f,p,E,N,h)),h&&P&2048&&Kf(p.alternate,p);break;case 24:Ia(f,p,E,N,h),h&&P&2048&&Yf(p.alternate,p);break;default:Ia(f,p,E,N,h)}n=n.sibling}}function sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&Kf(o.alternate,o);break;case 24:sl(a,o),h&2048&&Yf(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var rl=8192;function Na(t,n,a){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)wy(t,n,a),t=t.sibling}function wy(t,n,a){switch(t.tag){case 26:Na(t,n,a),t.flags&rl&&t.memoizedState!==null&&D1(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Na(t,n,a);break;case 3:case 4:var o=Zn;Zn=yc(t.stateNode.containerInfo),Na(t,n,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Na(t,n,a),rl=o):Na(t,n,a));break;default:Na(t,n,a)}}function xy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,Cy(o,t)}xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Cs(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):al(t);break;default:al(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bt=o,Cy(o,t)}xy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),sc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function Cy(t,n){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Cs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bt=o;else e:for(a=t;Bt!==null;){o=Bt;var h=o.sibling,f=o.return;if(_y(o),o===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var QT={getCacheForType:function(t){var n=Qt(Ct),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Qt(Ct).controller.signal}},KT=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Me=null,Le=0,We=0,An=null,Is=!1,Da=!1,Xf=!1,Ji=0,yt=0,Ns=0,Lr=0,$f=0,wn=0,Oa=0,ol=null,mn=null,Jf=!1,rc=0,Iy=0,ac=1/0,oc=null,Ds=null,jt=0,Os=null,Ma=null,Zi=0,Zf=0,Wf=null,Ny=null,ll=0,ed=null;function xn(){return(Xe&2)!==0&&Le!==0?Le&-Le:H.T!==null?ad():lu()}function Dy(){if(wn===0)if((Le&536870912)===0||qe){var t=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),wn=t}else wn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),wn}function gn(t,n,a){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Va(t,0),Ms(t,Le,wn,!1)),cr(t,a),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(Lr|=a),yt===4&&Ms(t,Le,wn,!1)),Ri(t))}function Oy(t,n,a){if((Xe&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Hn(t,n),h=o?$T(t,n):nd(t,n,!0),f=o;do{if(h===0){Da&&!o&&Ms(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!YT(a)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=ol;var N=E.current.memoizedState.isDehydrated;if(N&&(Va(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!N){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break e}f=mn,mn=h,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Va(t,0),Ms(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,wn,!Is);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=rc+300-an(),10<h)){if(Ms(o,n,wn,!Is),ui(o,0,!0)!==0)break e;Zi=n,o.timeoutHandle=u_(My.bind(null,o,a,mn,oc,Jf,n,wn,Lr,Oa,Is,f,"Throttled",-0,0),h);break e}My(o,a,mn,oc,Jf,n,wn,Lr,Oa,Is,f,null,-0,0)}}break}while(!0);Ri(t)}function My(t,n,a,o,h,f,p,E,N,P,G,Y,z,q){if(t.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},wy(n,f,Y);var he=(f&62914560)===f?rc-an():(f&4194048)===f?Iy-an():0;if(he=O1(Y,he),he!==null){Zi=f,t.cancelPendingCommit=he(By.bind(null,t,n,f,a,o,h,p,E,N,G,Y,null,z,q)),Ms(t,f,p,!P);return}}By(t,n,f,a,o,h,p,E,N)}function YT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!bn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,a,o){n&=~$f,n&=~Lr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),p=1<<f;o[f]=-1,h&=~p}a!==0&&hr(t,a,n)}function lc(){return(Xe&6)===0?(ul(0),!1):!0}function td(){if(Me!==null){if(We===0)var t=Me.return;else t=Me,Bi=Rr=null,yf(t),Aa=null,Go=0,t=Me;for(;t!==null;)cy(t.alternate,t),t=t.return;Me=null}}function Va(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,m1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Zi=0,td(),at=t,Me=a=Pi(t.current,null),Le=n,We=0,An=null,Is=!1,Da=Hn(t,n),Xf=!1,Oa=wn=$f=Lr=Ns=yt=0,mn=ol=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-_t(o),f=1<<h;n|=t[h],o&=~f}return Ji=n,Iu(),a}function Vy(t,n){Ne=null,H.H=Wo,n===Sa||n===ju?(n=$g(),We=3):n===rf?(n=$g(),We=4):We=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,An=n,Me===null&&(yt=1,Ju(t,Mn(n,t.current)))}function ky(){var t=Tn.current;return t===null?!0:(Le&4194048)===Le?jn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===jn:!1}function Ly(){var t=H.H;return H.H=Wo,t===null?Wo:t}function jy(){var t=H.A;return H.A=QT,t}function uc(){yt=4,Is||(Le&4194048)!==Le&&Tn.current!==null||(Da=!0),(Ns&134217727)===0&&(Lr&134217727)===0||at===null||Ms(at,Le,wn,!1)}function nd(t,n,a){var o=Xe;Xe|=2;var h=Ly(),f=jy();(at!==t||Le!==n)&&(oc=null,Va(t,n)),n=!1;var p=yt;e:do try{if(We!==0&&Me!==null){var E=Me,N=An;switch(We){case 8:td(),p=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var P=We;if(We=0,An=null,ka(t,E,N,P),a&&Da){p=0;break e}break;default:P=We,We=0,An=null,ka(t,E,N,P)}}XT(),p=yt;break}catch(G){Vy(t,G)}while(!0);return n&&t.shellSuspendCounter++,Bi=Rr=null,Xe=o,H.H=h,H.A=f,Me===null&&(at=null,Le=0,Iu()),p}function XT(){for(;Me!==null;)Uy(Me)}function $T(t,n){var a=Xe;Xe|=2;var o=Ly(),h=jy();at!==t||Le!==n?(oc=null,ac=an()+500,Va(t,n)):Da=Hn(t,n);e:do try{if(We!==0&&Me!==null){n=Me;var f=An;t:switch(We){case 1:We=0,An=null,ka(t,n,f,1);break;case 2:case 9:if(Yg(f)){We=0,An=null,Py(n);break}n=function(){We!==2&&We!==9||at!==t||(We=7),Ri(t)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Yg(f)?(We=0,An=null,Py(n)):(We=0,An=null,ka(t,n,f,7));break;case 5:var p=null;switch(Me.tag){case 26:p=Me.memoizedState;case 5:case 27:var E=Me;if(p?A_(p):E.stateNode.complete){We=0,An=null;var N=E.sibling;if(N!==null)Me=N;else{var P=E.return;P!==null?(Me=P,cc(P)):Me=null}break t}}We=0,An=null,ka(t,n,f,5);break;case 6:We=0,An=null,ka(t,n,f,6);break;case 8:td(),yt=6;break e;default:throw Error(r(462))}}JT();break}catch(G){Vy(t,G)}while(!0);return Bi=Rr=null,H.H=o,H.A=h,Xe=a,Me!==null?0:(at=null,Le=0,Iu(),yt)}function JT(){for(;Me!==null&&!Dh();)Uy(Me)}function Uy(t){var n=ly(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function Py(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ny(a,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ny(a,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:yf(n);default:cy(a,n),n=Me=jg(n,Ji),n=ly(a,n,Ji)}t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function ka(t,n,a,o){Bi=Rr=null,yf(n),Aa=null,Go=0;var h=n.return;try{if(PT(t,h,n,a,Le)){yt=1,Ju(t,Mn(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;yt=1,Ju(t,Mn(a,t.current)),Me=null;return}n.flags&32768?(qe||o===1?t=!0:Da||(Le&536870912)!==0?t=!1:(Is=t=!0,(o===2||o===9||o===3||o===6)&&(o=Tn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){zy(n,Is);return}t=n.return;var a=qT(n.alternate,n,Ji);if(a!==null){Me=a;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);yt===0&&(yt=5)}function zy(t,n){do{var a=HT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);yt=6,Me=null}function By(t,n,a,o,h,f,p,E,N){t.cancelPendingCommit=null;do hc();while(jt!==0);if((Xe&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,a,f,p,E,N),t===at&&(Me=at=null,Le=0),Ma=n,Os=t,Zi=a,Zf=f,Wf=h,Ny=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(us,function(){return Qy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=te.p,te.p=2,p=Xe,Xe|=4;try{FT(t,n,a)}finally{Xe=p,te.p=h,H.T=o}}jt=1,qy(),Hy(),Fy()}}function qy(){if(jt===1){jt=0;var t=Os,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=Xe;Xe|=4;try{Ty(n,t);var f=md,p=Cg(t.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rg(E.ownerDocument.documentElement,E)){if(N!==null&&Uh(E)){var P=N.start,G=N.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),he=E.textContent.length,_e=Math.min(N.start,he),st=N.end===void 0?_e:Math.min(N.end,he);!q.extend&&_e>st&&(p=st,st=_e,_e=p);var L=xg(E,_e),V=xg(E,st);if(L&&V&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==V.node||q.focusOffset!==V.offset)){var U=Y.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),_e>st?(q.addRange(U),q.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),q.addRange(U))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!dd,md=dd=null}finally{Xe=h,te.p=o,H.T=a}}t.current=n,jt=2}}function Hy(){if(jt===2){jt=0;var t=Os,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=te.p;te.p=2;var h=Xe;Xe|=4;try{yy(t,n.alternate,n)}finally{Xe=h,te.p=o,H.T=a}}jt=3}}function Fy(){if(jt===4||jt===3){jt=0,tu();var t=Os,n=Ma,a=Zi,o=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jt=5:(jt=0,Ma=Os=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ds=null),ki(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=te.p,te.p=2,H.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,te.p=h}}(Zi&3)!==0&&hc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===ed?ll++:(ll=0,ed=t):ll=0,ul(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ho(n)))}function hc(){return qy(),Hy(),Fy(),Qy()}function Qy(){if(jt!==5)return!1;var t=Os,n=Zf;Zf=0;var a=ki(Zi),o=H.T,h=te.p;try{te.p=32>a?32:a,H.T=null,a=Wf,Wf=null;var f=Os,p=Zi;if(jt=0,Ma=Os=null,Zi=0,(Xe&6)!==0)throw Error(r(331));var E=Xe;if(Xe|=4,Ry(f.current),Ay(f,f.current,p,a),Xe=E,ul(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{te.p=h,H.T=o,Gy(t,n)}}function Ky(t,n,a){n=Mn(a,n),n=Of(t.stateNode,n,2),t=ws(t,n,2),t!==null&&(cr(t,2),Ri(t))}function et(t,n,a){if(t.tag===3)Ky(t,t,a);else for(;n!==null;){if(n.tag===3){Ky(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){t=Mn(a,t),a=Yp(2),o=ws(n,a,2),o!==null&&(Xp(a,o,n,t),cr(o,2),Ri(o));break}}n=n.return}}function id(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new KT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),t=ZT.bind(null,t,n,a),n.then(t,t))}function ZT(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(Le&a)===a&&(yt===4||yt===3&&(Le&62914560)===Le&&300>an()-rc?(Xe&2)===0&&Va(t,0):$f|=a,Oa===Le&&(Oa=0)),Ri(t)}function Yy(t,n){n===0&&(n=ou()),t=Ar(t,n),t!==null&&(cr(t,n),Ri(t))}function WT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Yy(t,a)}function e1(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Yy(t,a)}function t1(t,n){return Lt(t,n)}var fc=null,La=null,sd=!1,dc=!1,rd=!1,Vs=0;function Ri(t){t!==La&&t.next===null&&(La===null?fc=La=t:La=La.next=t),dc=!0,sd||(sd=!0,i1())}function ul(t,n){if(!rd&&dc){rd=!0;do for(var a=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(o,f))}else f=Le,f=ui(o,o===at?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,Zy(o,f));o=o.next}while(a);rd=!1}}function n1(){Xy()}function Xy(){dc=sd=!1;var t=0;Vs!==0&&d1()&&(t=Vs);for(var n=an(),a=null,o=fc;o!==null;){var h=o.next,f=$y(o,n);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(La=a)):(a=o,(t!==0||(f&3)!==0)&&(dc=!0)),o=h}jt!==0&&jt!==5||ul(t),Vs!==0&&(Vs=0)}function $y(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-_t(f),E=1<<p,N=h[p];N===-1?((E&a)===0||(E&o)!==0)&&(h[p]=Mh(E,n)):N<=n&&(t.expiredLanes|=E),f&=~E}if(n=at,a=Le,a=ui(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&ls(o),ki(a)){case 2:case 8:a=vo;break;case 32:a=us;break;case 268435456:a=nu;break;default:a=us}return o=Jy.bind(null,t),a=Lt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&ls(o),t.callbackPriority=2,t.callbackNode=null,2}function Jy(t,n){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(hc()&&t.callbackNode!==a)return null;var o=Le;return o=ui(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Oy(t,o,n),$y(t,an()),t.callbackNode!=null&&t.callbackNode===a?Jy.bind(null,t):null)}function Zy(t,n){if(hc())return null;Oy(t,n,!0)}function i1(){g1(function(){(Xe&6)!==0?Lt(_o,n1):Xy()})}function ad(){if(Vs===0){var t=Ea;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Vs=t}return Vs}function Wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function e_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function s1(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=Wy((h[Pt]||null).action),p=o.submitter;p&&(n=(n=p[Pt]||null)?Wy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new bi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var N=p?e_(h,p):new FormData(h);xf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?e_(h,p):new FormData(h),xf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],r1=ld.toLowerCase(),a1=ld[0].toUpperCase()+ld.slice(1);Jn(r1,"on"+a1)}Jn(Dg,"onAnimationEnd"),Jn(Og,"onAnimationIteration"),Jn(Mg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(TT,"onTransitionRun"),Jn(ST,"onTransitionStart"),Jn(AT,"onTransitionCancel"),Jn(Vg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function t_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],N=E.instance,P=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=N}else for(p=0;p<o.length;p++){if(E=o[p],N=E.instance,P=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=P;try{f(h)}catch(G){Cu(G)}h.currentTarget=null,f=N}}}}function Ve(t,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=t+"__bubble";a.has(o)||(n_(n,t,2,!1),a.add(o))}function ud(t,n,a){var o=0;n&&(o|=4),n_(a,t,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[mc]){t[mc]=!0,To.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||ud(a,!1,t),ud(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,ud("selectionchange",!1,n))}}function n_(t,n,a,o){switch(D_(n)){case 2:var h=k1;break;case 8:h=L1;break;default:h=wd}a=h.bind(null,n,a,t),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function hd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=di(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){o=f=p;continue e}E=E.parentNode}}o=o.return}gs(function(){var P=f,G=In(a),Y=[];e:{var z=kg.get(t);if(z!==void 0){var q=bi,he=t;switch(t){case"keypress":if(_r(a)===0)break e;case"keydown":case"keyup":q=wu;break;case"focusin":he="focus",q=br;break;case"focusout":he="blur",q=br;break;case"beforeblur":case"afterblur":q=br;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dg:case Og:case Mg:q=_u;break;case Vg:q=A;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=Ie}var _e=(n&4)!==0,st=!_e&&(t==="scroll"||t==="scrollend"),L=_e?z!==null?z+"Capture":null:z;_e=[];for(var V=P,U;V!==null;){var Q=V;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||L===null||(Q=Kn(V,L),Q!=null&&_e.push(hl(V,Q,U))),st)break;V=V.return}0<_e.length&&(z=new q(z,he,null,a,G),Y.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",z&&a!==Do&&(he=a.relatedTarget||a.fromElement)&&(di(he)||he[hi]))break e;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(he=a.relatedTarget||a.toElement,q=P,he=he?di(he):null,he!==null&&(st=c(he),_e=he.tag,he!==st||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(q=null,he=P),q!==he)){if(_e=ko,Q="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ui,Q="onPointerLeave",L="onPointerEnter",V="pointer"),st=q==null?z:_n(q),U=he==null?z:_n(he),z=new _e(Q,V+"leave",q,a,G),z.target=st,z.relatedTarget=U,Q=null,di(G)===P&&(_e=new _e(L,V+"enter",he,a,G),_e.target=U,_e.relatedTarget=st,Q=_e),st=Q,q&&he)t:{for(_e=l1,L=q,V=he,U=0,Q=L;Q;Q=_e(Q))U++;Q=0;for(var ge=V;ge;ge=_e(ge))Q++;for(;0<U-Q;)L=_e(L),U--;for(;0<Q-U;)V=_e(V),Q--;for(;U--;){if(L===V||V!==null&&L===V.alternate){_e=L;break t}L=_e(L),V=_e(V)}_e=null}else _e=null;q!==null&&i_(Y,z,q,_e,!1),he!==null&&st!==null&&i_(Y,st,he,_e,!0)}}e:{if(z=P?_n(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Ge=bg;else if(_g(z))if(Eg)Ge=vT;else{Ge=yT;var fe=pT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(Ge=bg):Ge=_T;if(Ge&&(Ge=Ge(t,P))){vg(Y,Ge,a,G);break e}fe&&fe(t,z,P),t==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Co(z,"number",z.value)}switch(fe=P?_n(P):window,t){case"focusin":(_g(fe)||fe.contentEditable==="true")&&(da=fe,Ph=P,zo=null);break;case"focusout":zo=Ph=da=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ig(Y,a,G);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":Ig(Y,a,G)}var De;if(Ye)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else fa?Er(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Si&&a.locale!=="ko"&&(fa||je!=="onCompositionStart"?je==="onCompositionEnd"&&fa&&(De=Mo()):(vi=G,Oo="value"in vi?vi.value:vi.textContent,fa=!0)),fe=gc(P,je),0<fe.length&&(je=new Ti(je,t,null,a,G),Y.push({event:je,listeners:fe}),De?je.data=De:(De=ha(a),De!==null&&(je.data=De)))),(De=Dn?fT(t,a):dT(t,a))&&(je=gc(P,"onBeforeInput"),0<je.length&&(fe=new Ti("onBeforeInput","beforeinput",null,a,G),Y.push({event:fe,listeners:je}),fe.data=De)),s1(Y,t,P,a,G)}t_(Y,n)})}function hl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function gc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Kn(t,a),h!=null&&o.unshift(hl(t,h,f)),h=Kn(t,n),h!=null&&o.push(hl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function l1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,n,a,o,h){for(var f=n._reactName,p=[];a!==null&&a!==o;){var E=a,N=E.alternate,P=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||P===null||(N=P,h?(P=Kn(a,f),P!=null&&p.unshift(hl(a,P,N))):h||(P=Kn(a,f),P!=null&&p.push(hl(a,P,N)))),a=a.return}p.length!==0&&t.push({event:n,listeners:p})}var u1=/\r\n?/g,c1=/\u0000|\uFFFD/g;function s_(t){return(typeof t=="string"?t:""+t).replace(u1,`
`).replace(c1,"")}function r_(t,n){return n=s_(n),s_(t)===n}function it(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(t,""+o);break;case"className":vn(t,"class",o);break;case"tabIndex":vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,o);break;case"style":No(t,o,f);break;case"data":if(n!=="object"){vn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&it(t,n,"name",h.name,h,null),it(t,n,"formEncType",h.formEncType,h,null),it(t,n,"formMethod",h.formMethod,h,null),it(t,n,"formTarget",h.formTarget,h,null)):(it(t,n,"encType",h.encType,h,null),it(t,n,"method",h.method,h,null),it(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ia(t,"popover",o);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,ia(t,a,o))}}function fd(t,n,a,o,h,f){switch(a){case"style":No(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?cn(t,o):(typeof o=="number"||typeof o=="bigint")&&cn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Pt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ia(t,a,o)}}}function Yt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var p=a[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:it(t,n,f,p,a,null)}}h&&it(t,n,"srcSet",a.srcSet,a,null),o&&it(t,n,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=f=p=h=null,N=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":N=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:it(t,n,o,G,a,null)}}fu(t,f,E,N,P,p,h,!1);return;case"select":Ve("invalid",t),o=p=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:it(t,n,h,E,a,null)}n=f,a=p,t.multiple=!!o,n!=null?hs(t,!!o,n,!1):a!=null&&hs(t,!!o,a,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(p in a)if(a.hasOwnProperty(p)&&(E=a[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:it(t,n,p,E,a,null)}fs(t,o,h,f);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(t,n,N,o,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ve(cl[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:it(t,n,P,o,a,null)}return;default:if(ra(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&fd(t,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&it(t,n,E,o,a,null))}function h1(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,P=null,G=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(q)||it(t,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=a[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Y&&it(t,n,z,q,o,Y)}}sa(t,p,E,N,P,G,f,h);return;case"select":q=p=E=z=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":q=N;default:o.hasOwnProperty(f)||it(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&it(t,n,h,f,o,N)}n=E,a=p,o=q,z!=null?hs(t,!!a,z,!1):!!o!=!!a&&(n!=null?hs(t,!!a,n,!0):hs(t,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:it(t,n,E,null,o,h)}for(p in o)if(h=o[p],f=a[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&it(t,n,p,h,o,f)}du(t,z,q);return;case"option":for(var he in a)if(z=a[he],a.hasOwnProperty(he)&&z!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:it(t,n,he,null,o,z)}for(N in o)if(z=o[N],q=a[N],o.hasOwnProperty(N)&&z!==q&&(z!=null||q!=null))switch(N){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:it(t,n,N,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)z=a[_e],a.hasOwnProperty(_e)&&z!=null&&!o.hasOwnProperty(_e)&&it(t,n,_e,null,o,z);for(P in o)if(z=o[P],q=a[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:it(t,n,P,z,o,q)}return;default:if(ra(n)){for(var st in a)z=a[st],a.hasOwnProperty(st)&&z!==void 0&&!o.hasOwnProperty(st)&&fd(t,n,st,void 0,o,z);for(G in o)z=o[G],q=a[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||fd(t,n,G,z,o,q);return}}for(var L in a)z=a[L],a.hasOwnProperty(L)&&z!=null&&!o.hasOwnProperty(L)&&it(t,n,L,null,o,z);for(Y in o)z=o[Y],q=a[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||it(t,n,Y,z,o,q)}function a_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&a_(p)){for(p=0,E=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],P=N.startTime;if(P>E)break;var G=N.transferSize,Y=N.initiatorType;G&&a_(Y)&&(N=N.responseEnd,p+=G*(N<E?1:(E-P)/(N-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function o_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function l_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function d1(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,m1=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(t){return c_.resolve(null).then(t).catch(p1)}:u_;function p1(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function h_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),za(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[fi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=p}}else a==="body"&&fl(t.ownerDocument.body);a=h}while(a);za(n)}function f_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function y1(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function _1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function d_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Un(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function v1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function m_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Un(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function g_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function p_(t,n,a){switch(n=pc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t)}var Pn=new Map,y_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=te.d;te.d={f:b1,r:E1,D:T1,C:S1,L:A1,m:w1,X:R1,S:x1,M:C1};function b1(){var t=Wi.f(),n=lc();return t||n}function E1(t){var n=Cn(t);n!==null&&n.tag===5&&n.type==="form"?Vp(n):Wi.r(t)}var ja=typeof document>"u"?null:document;function __(t,n,a){var o=ja;if(o&&typeof n=="string"&&n){var h=un(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Yt(n,"link",t),xt(n),o.head.appendChild(n)))}}function T1(t){Wi.D(t),__("dns-prefetch",t,null)}function S1(t,n){Wi.C(t,n),__("preconnect",t,n)}function A1(t,n,a){Wi.L(t,n,a);var o=ja;if(o&&t&&n){var h='link[rel="preload"][as="'+un(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var f=h;switch(n){case"style":f=Ua(t);break;case"script":f=Pa(t)}Pn.has(f)||(t=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Pn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Yt(n,"link",t),xt(n),o.head.appendChild(n)))}}function w1(t,n){Wi.m(t,n);var a=ja;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+un(o)+'"][href="'+un(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(t)}if(!Pn.has(f)&&(t=x({rel:"modulepreload",href:t},n),Pn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Yt(o,"link",t),xt(o),a.head.appendChild(o)}}}function x1(t,n,a){Wi.S(t,n,a);var o=ja;if(o&&t){var h=mi(o).hoistableStyles,f=Ua(t);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(dl(f)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Pn.get(f))&&Ed(t,a);var N=p=o.createElement("link");xt(N),Yt(N,"link",t),N._p=new Promise(function(P,G){N.onload=P,N.onerror=G}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function R1(t,n){Wi.X(t,n);var a=ja;if(a&&t){var o=mi(a).hoistableScripts,h=Pa(t),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(t=x({src:t,async:!0},n),(n=Pn.get(h))&&Td(t,n),f=a.createElement("script"),xt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function C1(t,n){Wi.M(t,n);var a=ja;if(a&&t){var o=mi(a).hoistableScripts,h=Pa(t),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=Pn.get(h))&&Td(t,n),f=a.createElement("script"),xt(f),Yt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function v_(t,n,a,o){var h=(h=Re.current)?yc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ua(a.href),a=mi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ua(a.href);var f=mi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(dl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),f||I1(h,t,a,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(a),a=mi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ua(t){return'href="'+un(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function b_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function I1(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Yt(n,"link",a),xt(n),t.head.appendChild(n))}function Pa(t){return'[src="'+un(t)+'"]'}function ml(t){return"script[async]"+t}function E_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(o)return n.instance=o,xt(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Yt(o,"style",h),_c(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ua(a.href);var f=t.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,xt(f),f;o=b_(a),(h=Pn.get(h))&&Ed(o,h),f=(t.ownerDocument||t).createElement("link"),xt(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Yt(f,"link",o),n.state.loading|=4,_c(f,a.precedence,t),n.instance=f;case"script":return f=Pa(a.src),(h=t.querySelector(ml(f)))?(n.instance=h,xt(h),h):(o=a,(h=Pn.get(f))&&(o=x({},a),Td(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),xt(h),Yt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,a.precedence,t));return n.instance}function _c(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ed(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function T_(t,n,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[fi]||f[wt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function S_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function N1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function D1(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ua(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,xt(f);return}f=n.ownerDocument||n,o=b_(o),(h=Pn.get(h))&&Ed(o,h),f=f.createElement("link"),xt(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Yt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Sd=0;function O1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Sd===0&&(Sd=62500*f1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Sd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(M1,t),Ec=null,bc.call(t))}function M1(t,n){if(!(n.state.loading&4)){var a=Ec.get(t);if(a)var o=a.get(null);else{a=new Map,Ec.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),o=p)}o&&a.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=a.get(p)||o,f===o&&a.set(null,h),a.set(p,h),this.count++,o=bc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function V1(t,n,a,o,h,f,p,E,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function w_(t,n,a,o,h,f,p,E,N,P,G,Y){return t=new V1(t,n,a,p,N,P,G,Y,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),t}function x_(t){return t?(t=pa,t):pa}function R_(t,n,a,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=As(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ws(t,o,n),a!==null&&(gn(a,t,n),Ko(a,t,n))}function C_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ad(t,n){C_(t,n),(t=t.alternate)&&C_(t,n)}function I_(t){if(t.tag===13||t.tag===31){var n=Ar(t,67108864);n!==null&&gn(n,t,67108864),Ad(t,67108864)}}function N_(t){if(t.tag===13||t.tag===31){var n=xn();n=fr(n);var a=Ar(t,n);a!==null&&gn(a,t,n),Ad(t,n)}}var Sc=!0;function k1(t,n,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=2,wd(t,n,a,o)}finally{te.p=f,H.T=h}}function L1(t,n,a,o){var h=H.T;H.T=null;var f=te.p;try{te.p=8,wd(t,n,a,o)}finally{te.p=f,H.T=h}}function wd(t,n,a,o){if(Sc){var h=xd(o);if(h===null)hd(t,n,o,Ac,a),O_(t,o);else if(U1(h,t,n,a,o))o.stopPropagation();else if(O_(t,o),n&4&&-1<j1.indexOf(t)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=li(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-_t(p);E.entanglements[1]|=N,p&=~N}Ri(f),(Xe&6)===0&&(ac=an()+500,ul(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&gn(E,f,2),lc(),Ad(f,2)}if(f=xd(o),f===null&&hd(t,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,a)}}function xd(t){return t=In(t),Rd(t)}var Ac=null;function Rd(t){if(Ac=null,t=di(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case _o:return 2;case vo:return 8;case us:case Oh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ls=null,js=null,Us=null,pl=new Map,yl=new Map,Ps=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,n){switch(t){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&I_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function U1(t,n,a,o,h){switch(n){case"focusin":return Ls=_l(Ls,t,n,a,o,h),!0;case"dragenter":return js=_l(js,t,n,a,o,h),!0;case"mouseover":return Us=_l(Us,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,t,n,a,o,h)),!0}return!1}function M_(t){var n=di(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){N_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Fn(t.priority,function(){N_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=Cn(a),n!==null&&I_(n),t.blockedOn=a,!1;n.shift()}return!0}function V_(t,n,a){wc(t)&&a.delete(n)}function P1(){Cd=!1,Ls!==null&&wc(Ls)&&(Ls=null),js!==null&&wc(js)&&(js=null),Us!==null&&wc(Us)&&(Us=null),pl.forEach(V_),yl.forEach(V_)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,P1)))}var Rc=null;function k_(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Rd(o||a)===null)continue;break}var f=Cn(a);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function za(t){function n(N){return xc(N,t)}Ls!==null&&xc(Ls,t),js!==null&&xc(js,t),Us!==null&&xc(Us,t),pl.forEach(n),yl.forEach(n);for(var a=0;a<Ps.length;a++){var o=Ps[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ps.length&&(a=Ps[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],p=h[Pt]||null;if(typeof f=="function")p||k_(a);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Pt]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),k_(a)}}}function L_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(t){this._internalRoot=t}Cc.prototype.render=Id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=xn();R_(a,o,t,n,null,null)},Cc.prototype.unmount=Id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),lc(),n[hi]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ps.length&&n!==0&&n<Ps[a].priority;a++);Ps.splice(a,0,t),a===0&&M_(t)}};var j_=e.version;if(j_!=="19.2.4")throw Error(r(527,j_,"19.2.4"));te.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(n),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var z1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{qn=Ic.inject(z1),Ht=Ic}catch{}}return bl.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=Fp,f=Gp,p=Qp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=w_(t,1,!1,null,null,a,o,null,h,f,p,L_),t[hi]=n.current,cd(t),new Id(n)},bl.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=Fp,p=Gp,E=Qp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=w_(t,1,!0,n,a??null,o,h,N,f,p,E,L_),n.context=x_(null),a=n.current,o=xn(),o=fr(o),h=As(o),h.callback=null,ws(a,h,o),a=o,n.current.lanes=a,cr(n,a),Ri(n),t[hi]=n.current,cd(t),new Cc(n)},bl.version="19.2.4",bl}var K_;function J1(){if(K_)return Od.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=$1(),Od.exports}var Z1=J1();const W1=Mv(Z1),Vv=["Imbituba","Laguna","Tubaro","Cricima"],eS=["Salo da igreja","Sala de msica","Espao infantil","Outro"],tS=[{id:"c1",name:"Santa Barbara - Cricima",adm:"Cricima"},{id:"c2",name:"Mina do Toco - Cricima",adm:"Cricima"},{id:"c3",name:"Monte Castelo - Cricima",adm:"Cricima"},{id:"c4",name:"Nossa Senhora da Salete - Cricima",adm:"Cricima"},{id:"c5",name:"Pinheirinho - Cricima",adm:"Cricima"},{id:"c6",name:"Quarta Linha - Cricima",adm:"Cricima"},{id:"c7",name:"So Jos - Rio Maina - Cricima",adm:"Cricima"},{id:"c8",name:"So Sebastio - Cricima",adm:"Cricima"},{id:"c9",name:"Vila Manaus - Cricima",adm:"Cricima"},{id:"c10",name:"Coloninha - Ararangu",adm:"Cricima"},{id:"c11",name:"Jardim Sibele - Ararangu",adm:"Cricima"},{id:"c12",name:"Mato Alto - Ararangu",adm:"Cricima"},{id:"c13",name:"Mangueirinha - Balnerio Arroio do Silva",adm:"Cricima"},{id:"c14",name:"Centro - Balnerio Rinco",adm:"Cricima"},{id:"c15",name:"Jardim Elizabete - Cocal do Sul",adm:"Cricima"},{id:"c16",name:"Saturno - Forquilhinha",adm:"Cricima"},{id:"c17",name:"Raichask - Iara",adm:"Cricima"},{id:"c18",name:"Urussangua Velha - Iara",adm:"Cricima"},{id:"c19",name:"Vila Nova - Iara",adm:"Cricima"},{id:"c20",name:"Centro - Jacinto Machado",adm:"Cricima"},{id:"c21",name:"Vila Beatriz - Maracaj",adm:"Cricima"},{id:"c22",name:"Centro - Morro da Fumaa",adm:"Cricima"},{id:"c23",name:"Estao Cocal - Morro da Fumaa",adm:"Cricima"},{id:"c24",name:"Caravaggio - Nova Veneza",adm:"Cricima"},{id:"c25",name:"Progresso - Passo de Torres",adm:"Cricima"},{id:"c26",name:"Alvorada - Praia Grande",adm:"Cricima"},{id:"c27",name:"Rodovia SC-443 - KM 2 - Sango",adm:"Cricima"},{id:"c28",name:"Parque Rosita - Santa Rosa do Sul",adm:"Cricima"},{id:"c29",name:"So Cristvo - Santa Rosa do Sul",adm:"Cricima"},{id:"c30",name:"Vila Nova - Santa Rosa do Sul",adm:"Cricima"},{id:"c31",name:"Centro - Siderpolis",adm:"Cricima"},{id:"c32",name:"Vila Nova Braslia - Sombrio",adm:"Cricima"},{id:"c33",name:"Januria - Sombrio",adm:"Cricima"},{id:"c34",name:"Vila So Francisco - Sombrio",adm:"Cricima"},{id:"c35",name:"So Luiz - Timb do Sul",adm:"Cricima"},{id:"c36",name:"Vila Esperana - Treviso",adm:"Cricima"},{id:"c37",name:"Vila Manentti - Turvo",adm:"Cricima"},{id:"c38",name:"De Villa - Urussangua",adm:"Cricima"},{id:"i1",name:"Vila Nova - Imbituba",adm:"Imbituba"},{id:"i2",name:"Alto Arroio - Imbituba",adm:"Imbituba"},{id:"i3",name:"Guaiuba - Imbituba",adm:"Imbituba"},{id:"i4",name:"Ibiraquera - Imbituba",adm:"Imbituba"},{id:"i5",name:"Roa Grande - Imbituba",adm:"Imbituba"},{id:"i6",name:"Vila Nova Alvorada (Divinia) - Imbituba",adm:"Imbituba"},{id:"i7",name:"Areias de Palhocinha - Garopaba",adm:"Imbituba"},{id:"i8",name:"Campo D'una - Garopaba",adm:"Imbituba"},{id:"i9",name:"Centro - Imaru",adm:"Imbituba"},{id:"i10",name:"Canguiri de Fora - Imaru",adm:"Imbituba"},{id:"i11",name:"Fazenda Rio das Garas - Imaru",adm:"Imbituba"},{id:"i12",name:"Laranjal - Imaru",adm:"Imbituba"},{id:"l1",name:"Bentos - Laguna",adm:"Laguna"},{id:"l2",name:"Cabeudas - Laguna",adm:"Laguna"},{id:"l3",name:"Campos Novos - Laguna",adm:"Laguna"},{id:"l4",name:"Central - Laguna",adm:"Laguna"},{id:"l5",name:"Cigana - Laguna",adm:"Laguna"},{id:"l6",name:"Farol de Santa Marta - Laguna",adm:"Laguna"},{id:"l7",name:"Mar Grosso - Laguna",adm:"Laguna"},{id:"l8",name:"Morro Grande - Laguna",adm:"Laguna"},{id:"l9",name:"Portinho - Laguna",adm:"Laguna"},{id:"l10",name:"Ribeiro Pequeno - Laguna",adm:"Laguna"},{id:"l11",name:"KM 37 - Pescaria Brava",adm:"Laguna"},{id:"l12",name:"Ponta das Laranjeiras - Pescaria Brava",adm:"Laguna"},{id:"t1",name:"Andrino - Tubaro",adm:"Tubaro"},{id:"t2",name:"Bela Vista - Brao do Norte",adm:"Tubaro"},{id:"t3",name:"Bom Pastor - Tubaro",adm:"Tubaro"},{id:"t4",name:"Camacho - Jaguaruna",adm:"Tubaro"},{id:"t5",name:"Caruru - Tubaro",adm:"Tubaro"},{id:"t6",name:"Central - Tubaro",adm:"Tubaro"},{id:"t7",name:"Centro - Bom Jardim da Serra",adm:"Tubaro"},{id:"t8",name:"Centro - Capivari de Baixo",adm:"Tubaro"},{id:"t9",name:"Centro - Gro Par",adm:"Tubaro"},{id:"t10",name:"Centro - Jaguaruna",adm:"Tubaro"},{id:"t11",name:"Centro - Lauro Muller",adm:"Tubaro"},{id:"t12",name:"Centro - Treze de Maio",adm:"Tubaro"},{id:"t13",name:"Comasa - Tubaro",adm:"Tubaro"},{id:"t14",name:"Copa - Jaguaruna",adm:"Tubaro"},{id:"t15",name:"Encosta do Sol - So Ludgero",adm:"Tubaro"},{id:"t16",name:"Estiva - Pescaria Brava",adm:"Tubaro"},{id:"t17",name:"Fabio Silva - Tubaro",adm:"Tubaro"},{id:"t18",name:"Guarda ME - Tubaro",adm:"Tubaro"},{id:"t19",name:"Guat - Lauro Muller",adm:"Tubaro"},{id:"t20",name:"Humait Centro - Tubaro",adm:"Tubaro"},{id:"t21",name:"Humait de Cima - Tubaro",adm:"Tubaro"},{id:"t22",name:"Ilhota - Pedras Grandes",adm:"Tubaro"},{id:"t23",name:"Indaial - Gravatal",adm:"Tubaro"},{id:"t24",name:"KM 63 - Tubaro",adm:"Tubaro"},{id:"t25",name:"Mato Alto - Tubaro",adm:"Tubaro"},{id:"t26",name:"Pedrinhas - Pedras Grandes",adm:"Tubaro"},{id:"t27",name:"So Cristvo - Tubaro",adm:"Tubaro"},{id:"t28",name:"So Geronimo - Orleans",adm:"Tubaro"},{id:"t29",name:"So Martinho - Tubaro",adm:"Tubaro"},{id:"t30",name:"So Martinho - So Martinho",adm:"Tubaro"},{id:"t31",name:"So Sebastio - Treze de Maio",adm:"Tubaro"},{id:"t32",name:"Serto dos Correias - Tubaro",adm:"Tubaro"},{id:"t33",name:"Serto dos Medeiros - Gravatal",adm:"Tubaro"},{id:"t34",name:"Termas do Gravatal - Gravatal",adm:"Tubaro"},{id:"t35",name:"Varzea das Canoas - Gravatal",adm:"Tubaro"},{id:"t36",name:"Vila So Francisco - Armazem",adm:"Tubaro"}],Ml="/assets/icone_orgao-C-nx32a2.svg";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Y_=s=>{const e=iS(s);return e.charAt(0).toUpperCase()+e.slice(1)},kv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),sS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Ce.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>Ce.createElement("svg",{ref:y,...rS,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:kv("lucide",l),...!c&&!sS(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>Ce.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(s,e)=>{const i=Ce.forwardRef(({className:r,...l},c)=>Ce.createElement(aS,{ref:c,iconNode:e,className:kv(`lucide-${nS(Y_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Y_(s),i};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lv=mt("calendar",oS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],X_=mt("chart-column",lS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$d=mt("chevron-right",uS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xm=mt("circle-alert",cS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fS=mt("circle-check",hS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mS=mt("download",dS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jd=mt("file-text",gS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],yS=mt("funnel-x",pS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kc=mt("history",_S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],bS=mt("house",vS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],$_=mt("loader-circle",ES);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jv=mt("lock",TS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],AS=mt("map-pin",SS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Zd=mt("pencil",wS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wd=mt("plus",xS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Uv=mt("save",RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Za=mt("search",CS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vl=mt("trash-2",IS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DS=mt("trash",NS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],MS=mt("triangle-alert",OS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],kS=mt("user",VS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],J_=mt("wrench",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zr=mt("x",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Pv=mt("zoom-in",US),PS=({isAdmPending:s,onSelectAdm:e,onOpenReports:i})=>b.jsx("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[Vv.map(r=>{const l=s(r);return b.jsxs("button",{onClick:()=>e(r),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden ${l?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[l&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(xm,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx("img",{src:Ml,alt:"cone de rgo",className:"w-8 h-8"})}),b.jsx("div",{children:b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:r})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx("img",{src:Ml,alt:"",className:"w-36 h-36"})})]},r)}),b.jsxs("button",{onClick:i,className:"relative group bg-slate-800 p-8 rounded-3xl shadow-xl border border-slate-700 transition-all hover:shadow-2xl hover:bg-slate-900 hover:-translate-y-1 text-left flex flex-col justify-between h-64 overflow-hidden",children:[b.jsx("div",{className:"p-4 bg-slate-700 rounded-2xl w-fit border border-slate-600 group-hover:bg-indigo-600 transition-colors",children:b.jsx(X_,{size:32,className:"text-indigo-300"})}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("h3",{className:"text-2xl font-bold text-white",children:"Relatrios Gerais"}),b.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 text-xs font-bold uppercase tracking-wider",children:["Visualizar Registros",b.jsx($d,{size:14})]})]}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 pointer-events-none group-hover:opacity-20 transition-opacity",children:b.jsx(X_,{size:160,className:"text-white"})})]})]})}),zS=({adm:s,state:e,isLocationPending:i,onSelectLocation:r})=>{const[l,c]=Ce.useState(""),g=e.locations.filter(y=>y.adm===s).filter(y=>y.name.toLowerCase().includes(l.toLowerCase()));return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:s}),b.jsxs("div",{className:"max-w-md mx-auto relative group",children:[b.jsx(Za,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:20}),b.jsx("input",{type:"text",placeholder:"Buscar localidade...",value:l,onChange:y=>c(y.target.value),className:"w-full pl-12 pr-12 py-4 bg-white border border-slate-200 rounded-2xl shadow-sm outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-slate-700"}),l&&b.jsx("button",{onClick:()=>c(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1",children:b.jsx(zr,{size:16})})]})]}),g.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Za,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhuma localidade encontrada"}),b.jsx("p",{className:"text-slate-500",children:"Tente ajustar sua pesquisa ou verifique se o nome est correto."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>{const _=i(y.id);return b.jsxs("button",{onClick:()=>r(y.id),className:`relative group bg-white p-8 rounded-3xl shadow-sm border transition-all hover:shadow-xl hover:-translate-y-1 text-left flex flex-col justify-between h-56 overflow-hidden ${_?"border-red-200 bg-red-50/30":"border-slate-100 hover:border-blue-500"}`,children:[_&&b.jsxs("div",{className:"absolute top-0 right-0 bg-red-500 text-white px-4 py-1.5 rounded-bl-2xl text-[10px] font-black uppercase tracking-widest flex items-center gap-1.5 animate-pulse",children:[b.jsx(xm,{size:12}),"Pendncias"]}),b.jsx("div",{className:"p-4 bg-slate-50 rounded-2xl w-fit group-hover:bg-blue-50 transition-colors border border-slate-100",children:b.jsx("img",{src:Ml,alt:"cone de rgo",className:"w-8 h-8"})}),b.jsx("div",{children:b.jsx("h3",{className:`text-xl font-bold ${_?"text-red-600":"text-slate-800"}`,children:y.name})}),b.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-20 pointer-events-none group-hover:opacity-30 transition-opacity",children:b.jsx("img",{src:Ml,alt:"",className:"w-32 h-32"})})]},y.id)})})]})},BS=({locationId:s,state:e,isMaintenancePending:i,onRegisterOrgan:r,onEditOrgan:l,onDeleteOrgan:c,onEditMaintenance:d,onDeleteMaintenance:g,onRegisterMaintenance:y})=>{const[_,S]=Ce.useState(""),[x,O]=Ce.useState(null),[F,J]=Ce.useState(null),ne=e.locations.find(ie=>ie.id===s),Z=e.organs.filter(ie=>ie.locationId===s),de=Z.filter(ie=>ie.model.toLowerCase().includes(_.toLowerCase())||ie.serialNumber.toLowerCase().includes(_.toLowerCase())||ie.patrimonyNumber.toLowerCase().includes(_.toLowerCase()));if(!ne)return null;const W=Z.filter(ie=>i(ie.id)).length,oe=Z.length>0,ee=e.organs.find(ie=>ie.id===x),Ee=e.maintenances.filter(ie=>ie.organId===x).sort((ie,C)=>new Date(C.date).getTime()-new Date(ie.date).getTime());return b.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-4xl font-extrabold text-slate-900 tracking-tight",children:ne.name}),b.jsx("p",{className:"text-slate-500 mt-1",children:"rgos cadastrados nesta localidade"})]}),b.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 hover:bg-blue-700 shadow-lg shadow-blue-200 transition-all hover:-translate-y-0.5 border border-blue-500",children:[b.jsx(Wd,{size:20,className:"text-sky-100"}),"Cadastrar Novo rgo"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest",children:"rgos Locais"}),b.jsx("div",{className:"text-5xl font-black text-slate-800 mt-1",children:Z.length})]}),b.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm transition-colors duration-300 ${oe?W>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200":"bg-slate-50 border-slate-200"}`,children:[b.jsx("span",{className:`${oe?W>0?"text-red-400":"text-green-400":"text-slate-400"} text-xs font-black uppercase tracking-widest`,children:"Status Manuteno"}),b.jsx("div",{className:`mt-1 font-black leading-tight ${oe?"text-5xl "+(W>0?"text-red-600":"text-green-600"):"text-xl text-slate-400 py-2"}`,children:oe?W===0?"Ok":W:"Nenhum rgo cadastrado"})]}),b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex flex-col justify-center",children:[b.jsx("span",{className:"text-slate-400 text-xs font-black uppercase tracking-widest mb-2",children:"Busca Rpida"}),b.jsxs("div",{className:"relative group",children:[b.jsx(Za,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",size:18}),b.jsx("input",{type:"text",placeholder:"Modelo, N Srie ou N Patrimnio...",value:_,onChange:ie=>S(ie.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all font-medium text-sm text-slate-700"}),_&&b.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:b.jsx(zr,{size:14})})]})]})]}),b.jsx("div",{className:"space-y-6",children:oe?de.length===0?b.jsxs("div",{className:"bg-white p-12 text-center rounded-[32px] border border-dashed border-slate-200",children:[b.jsx("div",{className:"bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx(Za,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Nenhum rgo corresponde  busca"}),b.jsx("p",{className:"text-slate-500",children:"Tente buscar por modelo, nmero de srie ou patrimnio."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:de.map(ie=>{const C=i(ie.id);return b.jsxs("div",{className:`relative group bg-white p-6 rounded-3xl border transition-all hover:shadow-md flex flex-col ${C?"border-red-200 bg-red-50/20":"border-slate-200"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ie.churchLocation}),b.jsx("h5",{className:`text-xl font-bold leading-tight ${C?"text-red-700":"text-slate-800"}`,children:ie.model})]}),b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>O(ie.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-indigo-50 hover:text-indigo-600 transition-all",title:"Ver Histrico",children:b.jsx(Kc,{size:14})}),b.jsx("button",{onClick:()=>l(ie.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover:opacity-100",title:"Editar Cadastro",children:b.jsx(Zd,{size:14})}),b.jsx("button",{onClick:()=>c(ie.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover:opacity-100",title:"Excluir rgo",children:b.jsx(Vl,{size:14})})]})]}),b.jsxs("div",{className:"mb-4 text-xs space-y-0.5",children:[b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:ie.serialNumber})]}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:ie.patrimonyNumber})]})]}),b.jsx("div",{className:"mb-6 flex items-center gap-2",children:C?b.jsxs("span",{className:"px-3 py-1 bg-red-500 text-white rounded-full text-[10px] font-black uppercase flex items-center gap-1 shadow-sm border border-red-600",children:[b.jsx(MS,{size:10,className:"text-white"}),"Pendente"]}):b.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase flex items-center gap-1 border border-green-200",children:[b.jsx(fS,{size:10,className:"text-green-500"}),"Ok"]})}),b.jsx("div",{className:"mt-auto",children:b.jsxs("button",{onClick:()=>y(ie.id),className:`w-full flex items-center justify-center gap-2 py-3 rounded-2xl text-sm font-bold transition-all border ${C?"bg-red-600 text-white hover:bg-red-700 shadow-md shadow-red-100 border-red-500":"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200"}`,children:[b.jsx(J_,{size:16,className:C?"text-white":"text-sky-300"}),"Registrar Manuteno"]})})]},ie.id)})}):b.jsxs("div",{className:"bg-slate-100 rounded-3xl p-12 text-center border border-dashed border-slate-300",children:[b.jsx("div",{className:"bg-white w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 shadow-sm border border-slate-200",children:b.jsx("img",{src:Ml,alt:"cone de rgo",className:"w-12 h-12"})}),b.jsx("h4",{className:"text-xl font-bold text-slate-400",children:"Nenhum instrumento aqui"}),b.jsx("p",{className:"text-slate-400 mt-1",children:"Utilize o boto acima para cadastrar o primeiro rgo desta localidade."})]})}),x&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-sm animate-in fade-in duration-200",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl max-h-[90vh] rounded-[40px] shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-2xl flex items-center justify-center",children:b.jsx(Kc,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-900 leading-tight",children:"Histrico de Manuteno"}),b.jsxs("p",{className:"text-slate-500 text-sm font-medium",children:[ee==null?void 0:ee.model,"  N Patrimnio: ",ee==null?void 0:ee.patrimonyNumber]})]})]}),b.jsx("button",{onClick:()=>O(null),className:"w-10 h-10 bg-white border border-slate-200 text-slate-400 rounded-full flex items-center justify-center hover:bg-slate-50 transition-colors shadow-sm",children:b.jsx(zr,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:Ee.length===0?b.jsxs("div",{className:"text-center py-12",children:[b.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 border border-dashed border-slate-200",children:b.jsx(Lv,{size:32,className:"text-slate-300"})}),b.jsx("p",{className:"text-slate-400 font-bold",children:"Nenhum registro encontrado"}),b.jsx("p",{className:"text-slate-400 text-sm",children:"Este instrumento ainda no possui histrico de servios."})]}):Ee.map(ie=>b.jsxs("div",{className:"relative p-6 bg-white border border-slate-200 rounded-3xl shadow-sm hover:shadow-md transition-shadow group/item",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("div",{className:"flex items-center gap-3",children:b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest leading-none",children:"Data"}),b.jsx("span",{className:"text-lg font-bold text-slate-800",children:new Date(ie.date).toLocaleDateString("pt-BR")})]})}),b.jsxs("div",{className:"flex gap-1",children:[b.jsxs("button",{onClick:()=>{O(null),d(ie.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Zd,{size:14}),"Editar"]}),b.jsxs("button",{onClick:()=>{O(null),g(ie.id)},className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 transition-all opacity-0 group-hover/item:opacity-100 flex items-center gap-2 text-xs font-bold",children:[b.jsx(Vl,{size:14}),"Excluir"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(kS,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Tcnicos:"}),b.jsx("span",{className:"text-slate-800 font-bold",children:ie.technicians.join(" & ")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx(J_,{size:14,className:"text-sky-300"}),b.jsx("span",{className:"text-slate-500 font-medium",children:"Peas Trocadas:"}),b.jsx("span",{className:`font-bold ${ie.hasPartExchange?"text-amber-600":"text-slate-800"}`,children:ie.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[b.jsx(Jd,{size:14,className:"text-slate-400"}),b.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ocorrncia"})]}),b.jsxs("p",{className:"text-sm text-slate-700 leading-relaxed italic",children:['"',ie.occurrence,'"']})]}),ie.photos.length>0&&b.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:ie.photos.map((C,T)=>b.jsxs("div",{className:"relative group/img cursor-zoom-in",onClick:()=>J(C),children:[b.jsx("img",{src:C,className:"w-12 h-12 object-cover rounded-lg border border-white shadow-sm group-hover/img:scale-110 transition-transform",alt:"Thumbnail"}),b.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover/img:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:b.jsx(Pv,{size:10,className:"text-white"})})]},T))})]},ie.id))}),b.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-center",children:b.jsxs("button",{onClick:()=>{O(null),y(x)},className:"px-8 py-3 bg-indigo-600 text-white rounded-2xl font-bold flex items-center gap-2 hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100",children:[b.jsx(Wd,{size:18}),"Novo Registro Agora"]})})]})}),F&&b.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>J(null),children:[b.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition-colors",onClick:()=>J(null),children:b.jsx(zr,{size:40,strokeWidth:1.5})}),b.jsx("img",{src:F,alt:"Ampliada",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-in zoom-in-95 duration-300",onClick:ie=>ie.stopPropagation()})]})]})},Xt=[];for(let s=0;s<256;++s)Xt.push((s+256).toString(16).slice(1));function qS(s,e=0){return(Xt[s[e+0]]+Xt[s[e+1]]+Xt[s[e+2]]+Xt[s[e+3]]+"-"+Xt[s[e+4]]+Xt[s[e+5]]+"-"+Xt[s[e+6]]+Xt[s[e+7]]+"-"+Xt[s[e+8]]+Xt[s[e+9]]+"-"+Xt[s[e+10]]+Xt[s[e+11]]+Xt[s[e+12]]+Xt[s[e+13]]+Xt[s[e+14]]+Xt[s[e+15]]).toLowerCase()}let Ld;const HS=new Uint8Array(16);function FS(){if(!Ld){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ld=crypto.getRandomValues.bind(crypto)}return Ld(HS)}const GS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Z_={randomUUID:GS};function QS(s,e,i){var l;s=s||{};const r=s.random??((l=s.rng)==null?void 0:l.call(s))??FS();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,qS(r)}function zv(s,e,i){return Z_.randomUUID&&!s?Z_.randomUUID():QS(s)}const KS=({locationId:s,locations:e,initialData:i,onSubmit:r,onCancel:l})=>{const[c,d]=Ce.useState({churchLocation:"Salo da igreja",model:"",serialNumber:"",patrimonyNumber:""});Ce.useEffect(()=>{i&&d({churchLocation:i.churchLocation,model:i.model,serialNumber:i.serialNumber,patrimonyNumber:i.patrimonyNumber})},[i]);const g=e.find(_=>_.id===((i==null?void 0:i.locationId)||s)),y=_=>{_.preventDefault();const S={id:(i==null?void 0:i.id)||zv(),locationId:(i==null?void 0:i.locationId)||s,...c,createdAt:(i==null?void 0:i.createdAt)||new Date().toISOString()};r(S)};return b.jsxs("div",{className:"bg-white p-8 md:p-12 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:i?"Editar Instrumento":"Cadastro de Instrumento"}),b.jsxs("p",{className:"text-slate-500 font-medium",children:["Localidade: ",b.jsx("span",{className:"text-blue-600 font-bold",children:g==null?void 0:g.name})]})]}),b.jsxs("form",{onSubmit:y,className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Posio no Local"}),b.jsx("select",{value:c.churchLocation,onChange:_=>d({...c,churchLocation:_.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner",children:eS.map(_=>b.jsx("option",{value:_,children:_},_))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Modelo do rgo"}),b.jsx("input",{type:"text",value:c.model,onChange:_=>d({...c,model:_.target.value}),placeholder:"Ex: Tokai MD-10, Minuetto...",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Srie"}),b.jsx("input",{type:"text",value:c.serialNumber,onChange:_=>d({...c,serialNumber:_.target.value}),placeholder:"Cdigo do fabricante",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"N Patrimnio"}),b.jsx("input",{type:"text",value:c.patrimonyNumber,onChange:_=>d({...c,patrimonyNumber:_.target.value}),placeholder:"Cdigo de controle",required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus:border-blue-500 focus:bg-white outline-none transition-all font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-6 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center justify-center gap-3 shadow-xl shadow-blue-100 border border-blue-500",children:[b.jsx(Uv,{size:20,className:"text-blue-100"}),i?"Salvar Alteraes":"Finalizar Cadastro"]}),b.jsxs("button",{type:"button",onClick:l,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(zr,{size:20,className:"text-sky-300"}),"Cancelar"]})]})]})]})},YS=({organs:s,locations:e,initialOrganId:i,initialData:r,onSubmit:l,onCancel:c})=>{const[d,g]=Ce.useState({organId:i||"",date:new Date().toISOString().split("T")[0],technician1:"",technician2:"",occurrence:"",hasPartExchange:!1}),[y,_]=Ce.useState({description:"",reason:"",observation:""}),[S,x]=Ce.useState([]),[O,F]=Ce.useState(!1);Ce.useEffect(()=>{r?(g({organId:r.organId,date:r.date,technician1:r.technicians[0]||"",technician2:r.technicians[1]||"",occurrence:r.occurrence,hasPartExchange:r.hasPartExchange}),r.partExchangeDetails&&_(r.partExchangeDetails),x(r.photos||[])):i&&g(W=>({...W,organId:i}))},[i,r]);const J=W=>new Promise((oe,ee)=>{const Ee=new FileReader;Ee.readAsDataURL(W),Ee.onload=ie=>{var T;const C=new Image;C.src=(T=ie.target)==null?void 0:T.result,C.onload=()=>{const w=document.createElement("canvas"),M=800,D=800;let I=C.width,R=C.height;I>R?I>M&&(R*=M/I,I=M):R>D&&(I*=D/R,R=D),w.width=I,w.height=R;const Ae=w.getContext("2d");if(!Ae){ee(new Error("No foi possvel obter o contexto do canvas"));return}Ae.drawImage(C,0,0,I,R);const ke=w.toDataURL("image/jpeg",.5);oe(ke)},C.onerror=()=>ee(new Error("Erro ao carregar a imagem para processamento"))},Ee.onerror=()=>ee(new Error("Erro ao ler o arquivo"))}),ne=async W=>{const oe=W.target.files;if(oe){const ee=10-S.length;if(ee<=0){alert("Limite de 10 fotos atingido.");return}F(!0);const Ee=Array.from(oe).slice(0,ee);try{const ie=await Promise.all(Ee.map(C=>J(C)));x(C=>[...C,...ie])}catch(ie){console.error("Erro ao processar imagens:",ie),alert("Erro ao processar e reduzir o tamanho das fotos.")}finally{F(!1)}}},Z=W=>{x(oe=>oe.filter((ee,Ee)=>Ee!==W))},de=W=>{if(W.preventDefault(),!d.organId)return alert("Selecione um rgo");const oe=[d.technician1,d.technician2].filter(Ee=>Ee!==""),ee={id:(r==null?void 0:r.id)||zv(),organId:d.organId,date:d.date,technicians:oe,occurrence:d.occurrence,hasPartExchange:d.hasPartExchange,photos:S};d.hasPartExchange&&(ee.partExchangeDetails=y),l(ee)};return b.jsxs("div",{className:"bg-white p-8 rounded-[40px] shadow-xl border border-slate-200 animate-in zoom-in-95 duration-300",children:[b.jsxs("div",{className:"mb-8",children:[b.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:r?"Editar Manuteno":"Registrar Manuteno"}),b.jsx("p",{className:"text-slate-500 font-medium text-sm",children:"Preencha os detalhes do atendimento tcnico realizado."})]}),b.jsxs("form",{onSubmit:de,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"rgo Alvo"}),b.jsxs("select",{value:d.organId,onChange:W=>g({...d,organId:W.target.value}),required:!0,disabled:!!r,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none transition-all font-medium text-slate-700 shadow-inner disabled:opacity-50",children:[b.jsx("option",{value:"",children:"Selecione o rgo..."}),s.map(W=>{const oe=e.find(ee=>ee.id===W.locationId);return b.jsxs("option",{value:W.id,children:[W.model," - ",oe==null?void 0:oe.name," - Patrimnio: ",W.patrimonyNumber]},W.id)})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Data"}),b.jsx("input",{type:"date",value:d.date,onChange:W=>g({...d,date:W.target.value}),required:!0,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 1"}),b.jsx("input",{type:"text",value:d.technician1,onChange:W=>g({...d,technician1:W.target.value}),required:!0,placeholder:"Nome",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tcnico 2"}),b.jsx("input",{type:"text",value:d.technician2,onChange:W=>g({...d,technician2:W.target.value}),placeholder:"Opcional",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-medium text-slate-700 shadow-inner"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ocorrncia Detalhada"}),b.jsx("textarea",{value:d.occurrence,onChange:W=>g({...d,occurrence:W.target.value}),required:!0,rows:4,placeholder:"Descreva o servio realizado e problemas encontrados...",className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-medium text-slate-700 shadow-inner"})]}),b.jsxs("div",{className:"md:col-span-2 flex items-center gap-3 bg-slate-50 p-4 rounded-2xl border border-slate-200",children:[b.jsx("input",{type:"checkbox",id:"parts",checked:d.hasPartExchange,onChange:W=>g({...d,hasPartExchange:W.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),b.jsx("label",{htmlFor:"parts",className:"text-sm font-bold text-slate-700 cursor-pointer",children:"Houve troca de peas?"})]}),d.hasPartExchange&&b.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 gap-4 p-6 bg-amber-50 rounded-3xl border border-amber-200 animate-in slide-in-from-top-2",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-amber-600 uppercase tracking-widest mb-1",children:"Descrio da Pea"}),b.jsx("input",{type:"text",value:y.description,onChange:W=>_({...y,description:W.target.value}),className:"w-full p-3 bg-white border border-amber-200 rounded-xl outline-none",placeholder:"Ex: Contato da pedaleira"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-amber-600 uppercase tracking-widest mb-1",children:"Motivo da Troca"}),b.jsx("input",{type:"text",value:y.reason,onChange:W=>_({...y,reason:W.target.value}),className:"w-full p-3 bg-white border border-amber-200 rounded-xl outline-none",placeholder:"Ex: Desgaste natural"})]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest",children:"Anexar Fotos"}),b.jsxs("div",{className:"flex items-center gap-2",children:[O&&b.jsx($_,{size:14,className:"animate-spin text-blue-500"}),b.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${S.length===10?"text-red-500":"text-slate-400"}`,children:[S.length," / 10 fotos"]})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4",children:[S.map((W,oe)=>b.jsxs("div",{className:"relative group",children:[b.jsx("img",{src:W,alt:`Preview ${oe}`,className:"w-24 h-24 object-cover rounded-2xl border-2 border-white shadow-md transition-transform hover:scale-105"}),b.jsx("button",{type:"button",onClick:()=>Z(oe),className:"absolute -top-2 -right-2 bg-red-500 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:b.jsx(Vl,{size:12})})]},oe)),S.length<10&&b.jsxs("label",{className:`w-24 h-24 flex flex-col items-center justify-center border-2 border-dashed border-slate-200 rounded-2xl cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-all text-slate-400 bg-slate-50 ${O?"opacity-50 cursor-not-allowed":""}`,children:[O?b.jsx($_,{size:24,className:"animate-spin text-blue-500"}):b.jsx(Wd,{size:24,className:"text-sky-300"}),b.jsx("span",{className:"text-[10px] font-black uppercase mt-1",children:O?"Comprimindo...":"Anexar"}),!O&&b.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:ne})]})]})]})]}),b.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-8 border-t border-slate-100",children:[b.jsxs("button",{type:"submit",disabled:O,className:"flex-1 bg-green-600 text-white py-5 rounded-[24px] font-black uppercase tracking-widest hover:bg-green-700 transition-all flex items-center justify-center gap-3 shadow-xl disabled:opacity-50",children:[b.jsx(Uv,{size:20}),r?"Atualizar Registro":"Salvar Registro"]}),b.jsxs("button",{type:"button",onClick:c,className:"px-10 py-5 bg-slate-100 text-slate-500 rounded-[24px] font-black uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-3 border border-slate-200",children:[b.jsx(zr,{size:20}),"Cancelar"]})]})]})]})},XS=({state:s,isMaintenancePending:e,onEditMaintenance:i,onDeleteMaintenance:r,isHistoryAuthorized:l,onRequestHistoryAccess:c})=>{const[d,g]=Ce.useState("maintenances"),[y,_]=Ce.useState("all"),[S,x]=Ce.useState("all"),[O,F]=Ce.useState(""),[J,ne]=Ce.useState(""),[Z,de]=Ce.useState(null),W=Ce.useMemo(()=>y==="all"?s.locations:s.locations.filter(T=>T.adm===y),[y,s.locations]),oe=Ce.useMemo(()=>s.maintenances.filter(T=>{const w=s.organs.find(ke=>ke.id===T.organId);if(!w)return!1;const M=s.locations.find(ke=>ke.id===w.locationId);if(!M)return!1;const D=y==="all"||M.adm===y,I=S==="all"||M.id===S,R=!O||T.date>=O,Ae=!J||T.date<=J;return D&&I&&R&&Ae}).sort((T,w)=>w.date.localeCompare(T.date)),[s.maintenances,s.organs,s.locations,y,S,O,J]),ee=Ce.useMemo(()=>s.deletedItems.filter(T=>{var Ae,ke,H;const w=y==="all"||((Ae=T.metadata)==null?void 0:Ae.adm)===y,M=S==="all"||((ke=s.locations.find(te=>te.id===S))==null?void 0:ke.name)===((H=T.metadata)==null?void 0:H.locationName),D=T.deletedAt.split("T")[0],I=!O||D>=O,R=!J||D<=J;return w&&M&&I&&R}).sort((T,w)=>w.deletedAt.localeCompare(T.deletedAt)),[s.deletedItems,y,S,O,J,s.locations]),Ee=()=>{_("all"),x("all"),F(""),ne("")},ie=()=>{const T=d==="maintenances"?oe:ee;if(d==="maintenances"){const w=["Data","Instrumento","N Patrimnio","ADM","Local","Tcnicos","Ocorrncia"],M=T.map(I=>{const R=s.organs.find(ke=>ke.id===I.organId),Ae=s.locations.find(ke=>ke.id===(R==null?void 0:R.locationId));return[I.date,(R==null?void 0:R.model)||"",(R==null?void 0:R.patrimonyNumber)||"",(Ae==null?void 0:Ae.adm)||"",(Ae==null?void 0:Ae.name)||"",I.technicians.join(" & "),I.occurrence.replace(/,/g,";")]}),D=[w,...M].map(I=>I.join(",")).join(`
`);C(D,"relatorio_manutencao.csv")}else{const w=["Data Excluso","Tipo","Instrumento/Info","N Patrimnio","ADM","Local","Motivo"],M=T.map(I=>{var H,te;const R=I.type==="organ",Ae=R?I.data.model:`Manuteno de ${I.data.date}`,ke=R?I.data.patrimonyNumber:"";return[new Date(I.deletedAt).toLocaleString("pt-BR"),I.type==="organ"?"rgo":"Manuteno",Ae,ke,((H=I.metadata)==null?void 0:H.adm)||"",((te=I.metadata)==null?void 0:te.locationName)||"",I.reason.replace(/,/g,";")]}),D=[w,...M].map(I=>I.join(",")).join(`
`);C(D,"historico_exclusoes.csv")}},C=(T,w)=>{const M=new Blob([T],{type:"text/csv;charset=utf-8;"}),D=document.createElement("a"),I=URL.createObjectURL(M);D.setAttribute("href",I),D.setAttribute("download",w),D.style.visibility="hidden",document.body.appendChild(D),D.click(),document.body.removeChild(D)};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex p-1 bg-slate-200/50 rounded-2xl w-fit",children:[b.jsxs("button",{onClick:()=>g("maintenances"),className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="maintenances"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(Jd,{size:18,className:d==="maintenances"?"text-blue-500":"text-slate-400"}),"Atendimentos Ativos"]}),b.jsxs("button",{onClick:()=>{l?g("deleted"):c()},className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-bold transition-all ${d==="deleted"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[l?b.jsx(Kc,{size:18,className:"text-red-500"}):b.jsx(jv,{size:18,className:"text-slate-400"}),"Histrico de Excluso"]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-700",children:[b.jsx(Za,{size:20,className:"text-sky-300"}),"Filtros de ",d==="maintenances"?"Relatrio":"Excluso"]}),b.jsxs("button",{onClick:Ee,className:"flex items-center gap-1.5 text-xs font-bold text-slate-400 hover:text-blue-500 transition-colors",children:[b.jsx(yS,{size:14}),"Limpar Filtros"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Adm"}),b.jsxs("select",{value:y,onChange:T=>{_(T.target.value),x("all")},className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),Vv.map(T=>b.jsx("option",{value:T,children:T},T))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"Localidade"}),b.jsxs("select",{value:S,onChange:T=>x(T.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm",children:[b.jsx("option",{value:"all",children:"Todas"}),W.map(T=>b.jsx("option",{value:T.id,children:T.name},T.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"De"}),b.jsx("input",{type:"date",value:O,onChange:T=>F(T.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-1",children:"At"}),b.jsx("input",{type:"date",value:J,onChange:T=>ne(T.target.value),className:"w-full p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm"})]})]}),b.jsx("div",{className:"mt-4 flex justify-end",children:b.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-900 transition-colors text-sm font-medium border border-slate-700 shadow-sm",children:[b.jsx(mS,{size:16,className:"text-sky-100"}),"Exportar CSV"]})})]}),b.jsx("div",{className:"space-y-4",children:d==="maintenances"?oe.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(Za,{size:32,className:"text-sky-300"})}),"Nenhum atendimento encontrado para os filtros selecionados."]}):oe.map(T=>{const w=s.organs.find(I=>I.id===T.organId),M=s.locations.find(I=>I.id===(w==null?void 0:w.locationId)),D=w?e(w.id):!1;return b.jsxs("div",{className:"relative group bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col md:flex-row",children:[b.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 opacity-0 group-hover:opacity-100 z-10 transition-all",children:[b.jsx("button",{onClick:()=>i(T.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-blue-50 hover:text-blue-600 shadow-sm",title:"Editar Registro",children:b.jsx(Zd,{size:14})}),b.jsx("button",{onClick:()=>r(T.id),className:"p-2 bg-slate-50 text-slate-400 rounded-xl border border-slate-100 hover:bg-red-50 hover:text-red-600 shadow-sm",title:"Excluir Registro",children:b.jsx(Vl,{size:14})})]}),b.jsxs("div",{className:`p-6 border-b md:border-b-0 md:border-r border-slate-100 flex-1 ${D?"border-l-4 border-l-red-500":""}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Lv,{size:16,className:"text-sky-300"}),b.jsx("span",{className:"font-bold text-slate-800",children:new Date(T.date+"T00:00:00").toLocaleDateString("pt-BR")})]}),b.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-600 rounded-full text-xs font-bold uppercase border border-slate-200",children:M==null?void 0:M.adm})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("h4",{className:"font-bold text-lg text-slate-800",children:w==null?void 0:w.model}),b.jsxs("p",{className:"text-slate-500 text-sm flex items-center gap-1",children:[b.jsx(AS,{size:14,className:"text-sky-300"}),M==null?void 0:M.name," - ",w==null?void 0:w.churchLocation]}),b.jsxs("div",{className:"mt-2 space-y-1",children:[b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Patrimnio: ",b.jsx("span",{className:"text-slate-700",children:w==null?void 0:w.patrimonyNumber})]}),b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["N Srie: ",b.jsx("span",{className:"text-slate-700",children:w==null?void 0:w.serialNumber})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Tcnicos"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:T.technicians.join(" & ")})]}),b.jsxs("div",{children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase",children:"Peas Trocadas"}),b.jsx("p",{className:"text-sm font-medium text-slate-700",children:T.hasPartExchange?"Sim":"No"})]})]}),b.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100 shadow-inner",children:[b.jsx("span",{className:"block text-xs font-semibold text-slate-400 uppercase mb-2",children:"Ocorrncia"}),b.jsx("p",{className:"text-sm text-slate-700 leading-relaxed",children:T.occurrence})]})]}),b.jsxs("div",{className:"w-full md:w-64 bg-slate-50 p-6 flex flex-wrap gap-2 items-start content-start",children:[b.jsx("span",{className:"block w-full text-xs font-semibold text-slate-400 uppercase mb-2",children:"Fotos do Registro"}),T.photos.length===0?b.jsxs("div",{className:"w-full h-32 flex flex-col items-center justify-center text-slate-300 border border-dashed border-slate-200 rounded-xl bg-white",children:[b.jsx(Jd,{size:32,className:"text-sky-200"}),b.jsx("span",{className:"text-[10px] mt-1",children:"Sem fotos"})]}):T.photos.map((I,R)=>b.jsxs("div",{className:"relative group/img cursor-zoom-in",onClick:()=>de(I),children:[b.jsx("img",{src:I,alt:"Anexo",className:"w-16 h-16 object-cover rounded-lg border border-white shadow-sm group-hover/img:scale-105 transition-transform"}),b.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover/img:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:b.jsx(Pv,{size:14,className:"text-white"})})]},R))]})]},T.id)}):ee.length===0?b.jsxs("div",{className:"bg-white p-12 text-center text-slate-400 italic rounded-2xl border border-dashed border-slate-200",children:[b.jsx("div",{className:"mx-auto w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:b.jsx(Kc,{size:32,className:"text-slate-300"})}),"Nenhum registro de excluso encontrado."]}):ee.map(T=>{var w,M;return b.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 bg-red-50/30 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:b.jsx(DS,{size:20})}),b.jsxs("div",{children:[b.jsx("span",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest leading-none",children:"Excludo em"}),b.jsx("p",{className:"text-sm font-bold text-slate-800",children:new Date(T.deletedAt).toLocaleString("pt-BR")})]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase border ${T.type==="organ"?"bg-amber-100 text-amber-700 border-amber-200":"bg-indigo-100 text-indigo-700 border-indigo-200"}`,children:T.type==="organ"?"rgo":"Manuteno"})]}),b.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{children:[b.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Dados Originais"}),T.type==="organ"?b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsx("h5",{className:"font-bold text-slate-800",children:T.data.model}),b.jsxs("p",{className:"text-xs text-slate-500",children:["N Srie: ",T.data.serialNumber,"  N Patrimnio: ",T.data.patrimonyNumber]}),b.jsxs("p",{className:"text-xs text-slate-500",children:[(w=T.metadata)==null?void 0:w.adm,"  ",(M=T.metadata)==null?void 0:M.locationName]})]}):b.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-100",children:[b.jsxs("h5",{className:"font-bold text-slate-800",children:["Servio de ",T.data.date]}),b.jsxs("p",{className:"text-xs text-slate-500",children:["Tcnicos: ",T.data.technicians.join(", ")]}),b.jsxs("p",{className:"text-xs text-slate-700 mt-2 line-clamp-2 italic",children:['"',T.data.occurrence,'"']})]})]})}),b.jsx("div",{className:"space-y-4",children:b.jsxs("div",{className:"bg-red-50 p-5 rounded-2xl border border-red-100 shadow-inner",children:[b.jsxs("div",{className:"flex items-center gap-2 mb-2 text-red-600",children:[b.jsx(xm,{size:16}),b.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Motivo da Excluso"})]}),b.jsxs("p",{className:"text-sm text-red-900 font-medium leading-relaxed italic",children:['"',T.reason,'"']})]})})]})]},T.id)})}),Z&&b.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-in fade-in duration-200",onClick:()=>de(null),children:[b.jsx("button",{className:"absolute top-6 right-6 text-white/50 hover:text-white transition-colors",onClick:()=>de(null),children:b.jsx(zr,{size:40,strokeWidth:1.5})}),b.jsx("img",{src:Z,alt:"Ampliada",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl animate-in zoom-in-95 duration-300",onClick:T=>T.stopPropagation()})]})]})},$S=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},JS=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},qv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,S=c>>2,x=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,F=_&63;y||(F=64,d||(O=64)),r.push(i[S],i[x],i[O],i[F])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Bv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):JS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||_==null||x==null)throw new ZS;const O=c<<2|g>>4;if(r.push(O),_!==64){const F=g<<4&240|_>>2;if(r.push(F),x!==64){const J=_<<6&192|x;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WS=function(s){const e=Bv(s);return qv.encodeByteArray(e,!0)},Yc=function(s){return WS(s).replace(/\./g,"")},Hv=function(s){try{return qv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=()=>eA().__FIREBASE_DEFAULTS__,nA=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},iA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Hv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return $S()||tA()||nA()||iA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Fv=s=>{var e,i;return(i=(e=fh())==null?void 0:e.emulatorHosts)==null?void 0:i[s]},sA=s=>{const e=Fv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Gv=()=>{var s;return(s=fh())==null?void 0:s.config},Qv=s=>{var e;return(e=fh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Rl={};function oA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Rl))Rl[e]?s.emulator.push(e):s.prod.push(e);return s}function lA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let e0=!1;function Yv(s,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Rl[s]===e||Rl[s]||e0)return;Rl[s]=e;function i(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=oA().prod.length>0;function d(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,F){O.setAttribute("width","24"),O.setAttribute("id",F),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{e0=!0,d()},O}function S(O,F){O.setAttribute("id",F),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=lA(r),F=i("text"),J=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),Z=document.getElementById(ne)||document.createElement("a"),de=i("preprendIcon"),W=document.getElementById(de)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const oe=O.element;g(oe),S(Z,ne);const ee=_();y(W,de),oe.append(W,J,Z,ee),document.body.appendChild(oe)}c?(J.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function cA(){var e;const s=(e=fh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mA(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gA(){return!cA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pA(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="FirebaseError";class os extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=_A,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?vA(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new os(l,g,r)}}function vA(s,e){return s.replace(bA,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const bA=/\{\$([^}]+)}/g;function EA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Hr(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(t0(c)&&t0(d)){if(!Hr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function t0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TA(s,e){const i=new SA(s,e);return i.subscribe.bind(i)}class SA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");AA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=jd),l.error===void 0&&(l.error=jd),l.complete===void 0&&(l.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(s){return s&&s._delegate?s._delegate:s}class Fr{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new rA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RA(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xA(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xA(s){return s===jr?void 0:s}function RA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new wA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const IA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},NA=Ue.INFO,DA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},OA=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=DA[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=OA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const MA=(s,e)=>e.some(i=>s instanceof i);let n0,i0;function VA(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kA(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,em=new WeakMap,$v=new WeakMap,Ud=new WeakMap,Cm=new WeakMap;function LA(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Ks(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Xv.set(i,s)}).catch(()=>{}),Cm.set(e,s),e}function jA(s){if(em.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});em.set(s,e)}let tm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return em.get(s);if(e==="objectStoreNames")return s.objectStoreNames||$v.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function UA(s){tm=s(tm)}function PA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Pd(this),e,...i);return $v.set(r,e.sort?e.sort():[e]),Ks(r)}:kA().includes(s)?function(...e){return s.apply(Pd(this),e),Ks(Xv.get(this))}:function(...e){return Ks(s.apply(Pd(this),e))}}function zA(s){return typeof s=="function"?PA(s):(s instanceof IDBTransaction&&jA(s),MA(s,VA())?new Proxy(s,tm):s)}function Ks(s){if(s instanceof IDBRequest)return LA(s);if(Ud.has(s))return Ud.get(s);const e=zA(s);return e!==s&&(Ud.set(s,e),Cm.set(e,s)),e}const Pd=s=>Cm.get(s);function BA(s,e,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),g=Ks(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ks(d.result),y.oldVersion,y.newVersion,Ks(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const qA=["get","getKey","getAll","getAllKeys","count"],HA=["put","add","delete","clear"],zd=new Map;function s0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=HA.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||qA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return zd.set(e,c),c}UA(s=>({...s,get:(e,i,r)=>s0(e,i)||s.get(e,i,r),has:(e,i)=>!!s0(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GA(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function GA(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nm="@firebase/app",r0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new Rm("@firebase/app"),QA="@firebase/app-compat",KA="@firebase/analytics-compat",YA="@firebase/analytics",XA="@firebase/app-check-compat",$A="@firebase/app-check",JA="@firebase/auth",ZA="@firebase/auth-compat",WA="@firebase/database",e2="@firebase/data-connect",t2="@firebase/database-compat",n2="@firebase/functions",i2="@firebase/functions-compat",s2="@firebase/installations",r2="@firebase/installations-compat",a2="@firebase/messaging",o2="@firebase/messaging-compat",l2="@firebase/performance",u2="@firebase/performance-compat",c2="@firebase/remote-config",h2="@firebase/remote-config-compat",f2="@firebase/storage",d2="@firebase/storage-compat",m2="@firebase/firestore",g2="@firebase/ai",p2="@firebase/firestore-compat",y2="firebase",_2="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="[DEFAULT]",v2={[nm]:"fire-core",[QA]:"fire-core-compat",[YA]:"fire-analytics",[KA]:"fire-analytics-compat",[$A]:"fire-app-check",[XA]:"fire-app-check-compat",[JA]:"fire-auth",[ZA]:"fire-auth-compat",[WA]:"fire-rtdb",[e2]:"fire-data-connect",[t2]:"fire-rtdb-compat",[n2]:"fire-fn",[i2]:"fire-fn-compat",[s2]:"fire-iid",[r2]:"fire-iid-compat",[a2]:"fire-fcm",[o2]:"fire-fcm-compat",[l2]:"fire-perf",[u2]:"fire-perf-compat",[c2]:"fire-rc",[h2]:"fire-rc-compat",[f2]:"fire-gcs",[d2]:"fire-gcs-compat",[m2]:"fire-fst",[p2]:"fire-fst-compat",[g2]:"fire-vertex","fire-js":"fire-js",[y2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new Map,b2=new Map,sm=new Map;function a0(s,e){try{s.container.addComponent(e)}catch(i){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const e=s.name;if(sm.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;sm.set(e,s);for(const i of kl.values())a0(i,s);for(const i of b2.values())a0(i,s);return!0}function Im(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ti(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new Gl("app","Firebase",E2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=_2;function Jv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:im,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Ys.create("bad-app-name",{appName:String(l)});if(i||(i=Gv()),!i)throw Ys.create("no-options");const c=kl.get(l);if(c){if(Hr(i,c.options)&&Hr(r,c.config))return c;throw Ys.create("duplicate-app",{appName:l})}const d=new CA(l);for(const y of sm.values())d.addComponent(y);const g=new T2(i,r,d);return kl.set(l,g),g}function Nm(s=im){const e=kl.get(s);if(!e&&s===im&&Gv())return Jv();if(!e)throw Ys.create("no-app",{appName:s});return e}function S2(){return Array.from(kl.values())}function Xs(s,e,i){let r=v2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}Wa(new Fr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebase-heartbeat-database",w2=1,Ll="firebase-heartbeat-store";let Bd=null;function Zv(){return Bd||(Bd=BA(A2,w2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ys.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function x2(s){try{const i=(await Zv()).transaction(Ll),r=await i.objectStore(Ll).get(Wv(s));return await i.done,r}catch(e){if(e instanceof os)ns.warn(e.message);else{const i=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(i.message)}}}async function o0(s,e){try{const r=(await Zv()).transaction(Ll,"readwrite");await r.objectStore(Ll).put(e,Wv(s)),await r.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const r=Ys.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ns.warn(r.message)}}}function Wv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=1024,C2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new D2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=l0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>C2){const d=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=l0(),{heartbeatsToSend:r,unsentEntries:l}=N2(this._heartbeatsCache.heartbeats),c=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ns.warn(i),""}}}function l0(){return new Date().toISOString().substring(0,10)}function N2(s,e=R2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),u0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),u0(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pA()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await x2(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function u0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function O2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(s){Wa(new Fr("platform-logger",e=>new FA(e),"PRIVATE")),Wa(new Fr("heartbeat",e=>new I2(e),"PRIVATE")),Xs(nm,r0,s),Xs(nm,r0,"esm2020"),Xs("fire-js","")}M2("");var V2="firebase",k2="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(V2,k2,"app");var c0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,eb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function w(){}w.prototype=T.prototype,C.F=T.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(M,D,I){for(var R=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)R[Ae-2]=arguments[Ae];return T.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,T,w){w||(w=0);const M=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)M[D]=T.charCodeAt(w++)|T.charCodeAt(w++)<<8|T.charCodeAt(w++)<<16|T.charCodeAt(w++)<<24;else for(D=0;D<16;++D)M[D]=T[w++]|T[w++]<<8|T[w++]<<16|T[w++]<<24;T=C.g[0],w=C.g[1],D=C.g[2];let I=C.g[3],R;R=T+(I^w&(D^I))+M[0]+3614090360&4294967295,T=w+(R<<7&4294967295|R>>>25),R=I+(D^T&(w^D))+M[1]+3905402710&4294967295,I=T+(R<<12&4294967295|R>>>20),R=D+(w^I&(T^w))+M[2]+606105819&4294967295,D=I+(R<<17&4294967295|R>>>15),R=w+(T^D&(I^T))+M[3]+3250441966&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(I^w&(D^I))+M[4]+4118548399&4294967295,T=w+(R<<7&4294967295|R>>>25),R=I+(D^T&(w^D))+M[5]+1200080426&4294967295,I=T+(R<<12&4294967295|R>>>20),R=D+(w^I&(T^w))+M[6]+2821735955&4294967295,D=I+(R<<17&4294967295|R>>>15),R=w+(T^D&(I^T))+M[7]+4249261313&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(I^w&(D^I))+M[8]+1770035416&4294967295,T=w+(R<<7&4294967295|R>>>25),R=I+(D^T&(w^D))+M[9]+2336552879&4294967295,I=T+(R<<12&4294967295|R>>>20),R=D+(w^I&(T^w))+M[10]+4294925233&4294967295,D=I+(R<<17&4294967295|R>>>15),R=w+(T^D&(I^T))+M[11]+2304563134&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(I^w&(D^I))+M[12]+1804603682&4294967295,T=w+(R<<7&4294967295|R>>>25),R=I+(D^T&(w^D))+M[13]+4254626195&4294967295,I=T+(R<<12&4294967295|R>>>20),R=D+(w^I&(T^w))+M[14]+2792965006&4294967295,D=I+(R<<17&4294967295|R>>>15),R=w+(T^D&(I^T))+M[15]+1236535329&4294967295,w=D+(R<<22&4294967295|R>>>10),R=T+(D^I&(w^D))+M[1]+4129170786&4294967295,T=w+(R<<5&4294967295|R>>>27),R=I+(w^D&(T^w))+M[6]+3225465664&4294967295,I=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(I^T))+M[11]+643717713&4294967295,D=I+(R<<14&4294967295|R>>>18),R=w+(I^T&(D^I))+M[0]+3921069994&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^I&(w^D))+M[5]+3593408605&4294967295,T=w+(R<<5&4294967295|R>>>27),R=I+(w^D&(T^w))+M[10]+38016083&4294967295,I=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(I^T))+M[15]+3634488961&4294967295,D=I+(R<<14&4294967295|R>>>18),R=w+(I^T&(D^I))+M[4]+3889429448&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^I&(w^D))+M[9]+568446438&4294967295,T=w+(R<<5&4294967295|R>>>27),R=I+(w^D&(T^w))+M[14]+3275163606&4294967295,I=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(I^T))+M[3]+4107603335&4294967295,D=I+(R<<14&4294967295|R>>>18),R=w+(I^T&(D^I))+M[8]+1163531501&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(D^I&(w^D))+M[13]+2850285829&4294967295,T=w+(R<<5&4294967295|R>>>27),R=I+(w^D&(T^w))+M[2]+4243563512&4294967295,I=T+(R<<9&4294967295|R>>>23),R=D+(T^w&(I^T))+M[7]+1735328473&4294967295,D=I+(R<<14&4294967295|R>>>18),R=w+(I^T&(D^I))+M[12]+2368359562&4294967295,w=D+(R<<20&4294967295|R>>>12),R=T+(w^D^I)+M[5]+4294588738&4294967295,T=w+(R<<4&4294967295|R>>>28),R=I+(T^w^D)+M[8]+2272392833&4294967295,I=T+(R<<11&4294967295|R>>>21),R=D+(I^T^w)+M[11]+1839030562&4294967295,D=I+(R<<16&4294967295|R>>>16),R=w+(D^I^T)+M[14]+4259657740&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^I)+M[1]+2763975236&4294967295,T=w+(R<<4&4294967295|R>>>28),R=I+(T^w^D)+M[4]+1272893353&4294967295,I=T+(R<<11&4294967295|R>>>21),R=D+(I^T^w)+M[7]+4139469664&4294967295,D=I+(R<<16&4294967295|R>>>16),R=w+(D^I^T)+M[10]+3200236656&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^I)+M[13]+681279174&4294967295,T=w+(R<<4&4294967295|R>>>28),R=I+(T^w^D)+M[0]+3936430074&4294967295,I=T+(R<<11&4294967295|R>>>21),R=D+(I^T^w)+M[3]+3572445317&4294967295,D=I+(R<<16&4294967295|R>>>16),R=w+(D^I^T)+M[6]+76029189&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(w^D^I)+M[9]+3654602809&4294967295,T=w+(R<<4&4294967295|R>>>28),R=I+(T^w^D)+M[12]+3873151461&4294967295,I=T+(R<<11&4294967295|R>>>21),R=D+(I^T^w)+M[15]+530742520&4294967295,D=I+(R<<16&4294967295|R>>>16),R=w+(D^I^T)+M[2]+3299628645&4294967295,w=D+(R<<23&4294967295|R>>>9),R=T+(D^(w|~I))+M[0]+4096336452&4294967295,T=w+(R<<6&4294967295|R>>>26),R=I+(w^(T|~D))+M[7]+1126891415&4294967295,I=T+(R<<10&4294967295|R>>>22),R=D+(T^(I|~w))+M[14]+2878612391&4294967295,D=I+(R<<15&4294967295|R>>>17),R=w+(I^(D|~T))+M[5]+4237533241&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~I))+M[12]+1700485571&4294967295,T=w+(R<<6&4294967295|R>>>26),R=I+(w^(T|~D))+M[3]+2399980690&4294967295,I=T+(R<<10&4294967295|R>>>22),R=D+(T^(I|~w))+M[10]+4293915773&4294967295,D=I+(R<<15&4294967295|R>>>17),R=w+(I^(D|~T))+M[1]+2240044497&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~I))+M[8]+1873313359&4294967295,T=w+(R<<6&4294967295|R>>>26),R=I+(w^(T|~D))+M[15]+4264355552&4294967295,I=T+(R<<10&4294967295|R>>>22),R=D+(T^(I|~w))+M[6]+2734768916&4294967295,D=I+(R<<15&4294967295|R>>>17),R=w+(I^(D|~T))+M[13]+1309151649&4294967295,w=D+(R<<21&4294967295|R>>>11),R=T+(D^(w|~I))+M[4]+4149444226&4294967295,T=w+(R<<6&4294967295|R>>>26),R=I+(w^(T|~D))+M[11]+3174756917&4294967295,I=T+(R<<10&4294967295|R>>>22),R=D+(T^(I|~w))+M[2]+718787259&4294967295,D=I+(R<<15&4294967295|R>>>17),R=w+(I^(D|~T))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.v=function(C,T){T===void 0&&(T=C.length);const w=T-this.blockSize,M=this.C;let D=this.h,I=0;for(;I<T;){if(D==0)for(;I<=w;)l(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<T;)if(M[D++]=C.charCodeAt(I++),D==this.blockSize){l(this,M),D=0;break}}else for(;I<T;)if(M[D++]=C[I++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,w=0;w<4;++w)for(let M=0;M<32;M+=8)C[T++]=this.g[w]>>>M&255;return C};function c(C,T){var w=g;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=T(C)}function d(C,T){this.h=T;const w=[];let M=!0;for(let D=C.length-1;D>=0;D--){const I=C[D]|0;M&&I==T||(w[D]=I,M=!1)}this.g=w}var g={};function y(C){return-128<=C&&C<128?c(C,function(T){return new d([T|0],T<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return Z(_(-C));const T=[];let w=1;for(let M=0;C>=w;M++)T[M]=C/w|0,w*=4294967296;return new d(T,0)}function S(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return Z(S(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(T,8));let M=x;for(let I=0;I<C.length;I+=8){var D=Math.min(8,C.length-I);const R=parseInt(C.substring(I,I+D),T);D<8?(D=_(Math.pow(T,D)),M=M.j(D).add(_(R))):(M=M.j(w),M=M.add(_(R)))}return M}var x=y(0),O=y(1),F=y(16777216);s=d.prototype,s.m=function(){if(ne(this))return-Z(this).m();let C=0,T=1;for(let w=0;w<this.g.length;w++){const M=this.i(w);C+=(M>=0?M:4294967296+M)*T,T*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(J(this))return"0";if(ne(this))return"-"+Z(this).toString(C);const T=_(Math.pow(C,6));var w=this;let M="";for(;;){const D=ee(w,T).g;w=de(w,D.j(T));let I=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=D,J(w))return I+M;for(;I.length<6;)I="0"+I;M=I+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function J(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function ne(C){return C.h==-1}s.l=function(C){return C=de(this,C),ne(C)?-1:J(C)?0:1};function Z(C){const T=C.g.length,w=[];for(let M=0;M<T;M++)w[M]=~C.g[M];return new d(w,~C.h).add(O)}s.abs=function(){return ne(this)?Z(this):this},s.add=function(C){const T=Math.max(this.g.length,C.g.length),w=[];let M=0;for(let D=0;D<=T;D++){let I=M+(this.i(D)&65535)+(C.i(D)&65535),R=(I>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);M=R>>>16,I&=65535,R&=65535,w[D]=R<<16|I}return new d(w,w[w.length-1]&-2147483648?-1:0)};function de(C,T){return C.add(Z(T))}s.j=function(C){if(J(this)||J(C))return x;if(ne(this))return ne(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(ne(C))return Z(this.j(Z(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const T=this.g.length+C.g.length,w=[];for(var M=0;M<2*T;M++)w[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<C.g.length;D++){const I=this.i(M)>>>16,R=this.i(M)&65535,Ae=C.i(D)>>>16,ke=C.i(D)&65535;w[2*M+2*D]+=R*ke,W(w,2*M+2*D),w[2*M+2*D+1]+=I*ke,W(w,2*M+2*D+1),w[2*M+2*D+1]+=R*Ae,W(w,2*M+2*D+1),w[2*M+2*D+2]+=I*Ae,W(w,2*M+2*D+2)}for(C=0;C<T;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=T;C<2*T;C++)w[C]=0;return new d(w,0)};function W(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function oe(C,T){this.g=C,this.h=T}function ee(C,T){if(J(T))throw Error("division by zero");if(J(C))return new oe(x,x);if(ne(C))return T=ee(Z(C),T),new oe(Z(T.g),Z(T.h));if(ne(T))return T=ee(C,Z(T)),new oe(Z(T.g),T.h);if(C.g.length>30){if(ne(C)||ne(T))throw Error("slowDivide_ only works with positive integers.");for(var w=O,M=T;M.l(C)<=0;)w=Ee(w),M=Ee(M);var D=ie(w,1),I=ie(M,1);for(M=ie(M,2),w=ie(w,2);!J(M);){var R=I.add(M);R.l(C)<=0&&(D=D.add(w),I=R),M=ie(M,1),w=ie(w,1)}return T=de(C,D.j(T)),new oe(D,T)}for(D=x;C.l(T)>=0;){for(w=Math.max(1,Math.floor(C.m()/T.m())),M=Math.ceil(Math.log(w)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),I=_(w),R=I.j(T);ne(R)||R.l(C)>0;)w-=M,I=_(w),R=I.j(T);J(I)&&(I=O),D=D.add(I),C=de(C,R)}return new oe(D,C)}s.B=function(C){return ee(this,C).h},s.and=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<T;M++)w[M]=this.i(M)&C.i(M);return new d(w,this.h&C.h)},s.or=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<T;M++)w[M]=this.i(M)|C.i(M);return new d(w,this.h|C.h)},s.xor=function(C){const T=Math.max(this.g.length,C.g.length),w=[];for(let M=0;M<T;M++)w[M]=this.i(M)^C.i(M);return new d(w,this.h^C.h)};function Ee(C){const T=C.g.length+1,w=[];for(let M=0;M<T;M++)w[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(w,C.h)}function ie(C,T){const w=T>>5;T%=32;const M=C.g.length-w,D=[];for(let I=0;I<M;I++)D[I]=T>0?C.i(I+w)>>>T|C.i(I+w+1)<<32-T:C.i(I+w);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,$s=d}).apply(typeof c0<"u"?c0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tb,Sl,nb,jc,rm,ib,sb,rb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break e;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,B){for(var re=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)re[Ie-2]=arguments[Ie];return m.prototype[j].apply(A,re)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function J(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let re=0;re<B;re++)u[v+re]=j[re]}else u.push(j)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function de(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,v){const A=oe.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var oe=new ne(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ie=!1,C=new W,T=()=>{const u=Promise.resolve(void 0);Ee=()=>{u.then(w)}};function w(){for(var u;u=de();){try{u.h.call(u.g)}catch(v){Z(v)}var m=oe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ie=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ae(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Ae,D),Ae.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ae.Z.h.call(this)},Ae.prototype.h=function(){Ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ke="closure_listenable_"+(Math.random()*1e6|0),H=0;function te(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++H,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ke(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function k(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,A,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const re=Re(u,m,A,j);return re>-1?(m=u[re],v||(m.fa=!1)):(m=new te(m,this.src,B,!!A,j),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(A,j,1),B&&(me(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Re(u,m,v,A){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return j}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),se={};function Te(u,m,v,A,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Te(u,m[B],v,A,j);return null}return v=yo(v),u&&u[ke]?u.J(m,v,g(A)?!!A.capture:!1,j):Fe(u,m,v,!1,A,j)}function Fe(u,m,v,A,j,B){if(!m)throw Error("Invalid event type");const re=g(j)?!!j.capture:!!j;let Ie=or(u);if(Ie||(u[Oe]=Ie=new le(u)),v=Ie.add(m,v,A,re,B),v.proxy)return v;if(A=ot(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)I||(j=re),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(Wt(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ot(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function rt(u,m,v,A,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)rt(u,m[B],v,A,j);else A=g(A)?!!A.capture:!!A,v=yo(v),u&&u[ke]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Re(m,v,A,j),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,v,A,j)),(v=u>-1?m[u]:null)&&$e(v))}function $e(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ke])ye(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Wt(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=or(m))?(ye(v,u),v.h==0&&(v.src=null,m[Oe]=null)):me(u)}}}function Wt(u){return u in se?se[u]:se[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new Ae(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&$e(u),u=v.call(A,m)}return u}function or(u){return u=u[Oe],u instanceof le?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function St(){M.call(this),this.i=new le(this),this.M=this,this.G=null}x(St,M),St.prototype[ke]=!0,St.prototype.removeEventListener=function(u,m,v,A){rt(this,u,m,v,A)};function Lt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(A,u),ae(m,j)}j=!0;let B,re;if(v)for(re=v.length-1;re>=0;re--)B=m.g=v[re],j=ls(B,A,!0,m)&&j;if(B=m.g=u,j=ls(B,A,!0,m)&&j,j=ls(B,A,!1,m)&&j,v)for(re=0;re<v.length;re++)B=m.g=v[re],j=ls(B,A,!1,m)&&j}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)me(v[A]);delete u.g[m],u.h--}}this.G=null},St.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},St.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ls(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const re=m[B];if(re&&!re.da&&re.capture==v){const Ie=re.listener,vt=re.ha||re.src;re.fa&&ye(u.i,re),j=Ie.call(vt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class an extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){M.call(this),this.h=u,this.g={}}x(lr,M);var _o=[];function vo(u){Be(u.g,function(m,v){this.g.hasOwnProperty(v)&&$e(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),vo(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Oh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){D.call(this,"d")}x(Ht,D);function Rn(){D.call(this,"c")}x(Rn,D);var _t={},ru=null;function ea(){return ru=ru||new St}_t.Ia="serverreachability";function au(u){D.call(this,_t.Ia,u)}x(au,D);function oi(u){const m=ea();Lt(m,new au(m))}_t.STAT_EVENT="statevent";function ur(u,m){D.call(this,_t.STAT_EVENT,u),this.stat=m}x(ur,D);function At(u){const m=ea();Lt(m,new ur(m,u))}_t.Ja="timingevent";function li(u,m){D.call(this,_t.Ja,u),this.size=m}x(li,D);function ui(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,A,j,B){u.info(function(){if(u.g)if(B){var re="",Ie=B.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var vt=Ie[Ye].split("=");if(vt.length>1){const ft=vt[0];vt=vt[1];const Dn=ft.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(ft+"="+vt+"&"):re+(ft+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+re})}function ou(u,m,v,A,j,B,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+re})}function ci(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(A?" "+A:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return us(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function fr(){}x(fr,iu),fr.prototype.g=function(){return new XMLHttpRequest},Eo=new fr;function ki(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var wt={},Pt={};function hi(u,m,v){u.M=1,u.A=dr(Rt(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),fi(u),u.B=Rt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ra(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Gn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new an(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(_o[0]=j.toString()),j=_o);for(let B=0;B<j.length;B++){const re=Te(v,j[B],A||m.handleEvent,!1,m.h||m);if(!re)break;m.g[re.key]=re}m=u.J?k(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),oi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const Ie=Yn(this.g),vt=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ie!=4||vt==7||(vt==8||Ye<=0?oi(3):oi(2)),di(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Ie,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break t}}B=null}if(u=B)ci(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,u);else{this.o=!1,this.m=3,At(12),_n(this),Cn(this);break e}}if(this.R){u=!0;let ft;for(;!this.K&&this.C<v.length;)if(ft=cu(this,v),ft==Pt){Ie==4&&(this.m=4,At(14),u=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==wt){this.m=4,At(15),ci(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ci(this.i,this.l,ft,null),mi(this,ft);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||v.length!=0||this.h.h||(this.m=1,At(16),u=!1),this.o=this.o&&u,!u)ci(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Lo(re),re.P=!0,At(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ie==4&&_n(this),this.o&&!this.K&&(Ie==4?vu(this.j,this):(this.o=!1,fi(this)))}else ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),_n(this),Cn(this)}}}catch{}finally{}};function kh(u){if(!uu(u))return u.g.la();const m=Ft(u.g);if(m==="")return"";let v="";const A=m.length,j=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return _n(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Pt:(v=Number(m.substring(v,A)),isNaN(v)?wt:(A+=1,A+v>m.length?Pt:(m=m.slice(A,A+v),u.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,_n(this)};function fi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ui(_(u.aa,u),m)}function di(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(oi(),At(17)),_n(this),this.m=2,Cn(this)):na(this,this.T-u)};function Cn(u){u.j.I==0||u.K||vu(u.j,u)}function _n(u){di(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function mi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||pi(v.h,u))){if(!u.L&&pi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),ys(v);else break e;br(v),At(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&ca(v),!R(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ye=j[m];const ft=Ye[0];if(!(ft<=v.K))if(v.K=ft,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Dn=Ye[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Si=Ye[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=Ye[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=u.g;if($n){const Er=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var B=A.h;B.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ao(B,B.h),B.h=null))}if(A.G){const ha=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(A.wa=ha,Ze(A.J,A.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=u;if(A.na=Tu(A,A.L?A.ba:null,A.W),re.L){wo(A.h,re);var Ie=re,vt=A.O;vt&&(Ie.H=vt),Ie.D&&(di(Ie),fi(Ie)),A.g=re}else yu(A);v.i.length>0&&Ei(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Ti(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ti(v,7):Vo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}oi(4)}catch{}}var xt=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function pi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,B=null;A>=0?(j=u[v].substring(0,A),B=u[v].substring(A+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof vn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Ro(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,zt(this,m[1]||"",!0),this.o=yi(m[2]||""),this.g=yi(m[3]||"",!0),cs(this,m[4]),this.h=yi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=yi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,sa,!0),"@"),u.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(mr(v,v.charAt(0)=="/"?Co:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",mr(v,du)),u.join("")},vn.prototype.resolve=function(u){const m=Rt(this);let v=!!u.j;v?zt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let re=0;re<j.length;){const Ie=j[re++];Ie=="."?A&&re==j.length&&B.push(""):Ie==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&re==j.length&&B.push("")):(B.push(Ie),A=!0)}A=B.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?Ro(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Rt(u){return new vn(u)}function zt(u,m,v){u.j=v?yi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof fs?(u.i=m,aa(u.i,u.l)):(v||(m=mr(m,hs)),u.i=new fs(m,u.l))}function Ze(u,m,v){u.i.set(m,v)}function dr(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function yi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,un),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,fu=/[#\?:]/g,Co=/[#\?]/g,hs=/[#\?@]/g,du=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fs.prototype,s.add=function(u,m){cn(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){cn(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return cn(u),m=ds(u,m),u.g.has(m)}s.forEach=function(u,m){cn(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function No(u,m){cn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return cn(this),this.i=null,u=ds(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=ki(v);v=No(this,v);for(let B=0;B<v.length;B++){let re=j;v[B]!==""&&(re+="="+ki(v[B])),u.push(re)}}return this.i=u.join("&")};function gu(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(cn(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(mu(this,A),ra(this,j,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const A=new Image;A.onload=S(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=S(In,v,"TestLoadImage: error",!1,m,A),A.onabort=S(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=S(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Do(u,m){const v=new Hn,A=new AbortController,j=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(j),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function ms(){this.g=new nu}function _i(u){this.i=u.Sb||null,this.h=u.ab||!1}x(_i,iu),_i.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){St.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(gr,St),s=gr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Kn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},s.Na=function(u){this.g&&(this.response=u,gs(this))},s.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Kn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Be(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function pr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof u=="string"?v!=null&&ki(v):Ze(u,m,v))}function tt(u){St.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(tt,St);var vi=/^https?$/i,Oo=["POST","PUT"];s=tt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){yr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of v)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){yr(this,B)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Li(u)}function Mo(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Lt(this,"complete"),Lt(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),tt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},s.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Lt(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let re=String(u.D).match(hu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),A=!vi.test(re?re.toLowerCase():"")}v=A}if(v)Lt(u,"complete"),Lt(u,"success");else{u.o=6;try{var j=Yn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Mo(u)}}finally{Li(u)}}}}function Li(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Lt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=lu(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Ke(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ps.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){At(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),Ei(this)};function Vo(u){if(la(u),u.I==3){var m=u.V++,v=Rt(u.J);if(Ze(v,"SID",u.M),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),vr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=dr(Rt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),fi(m)}Eu(u)}function ys(u){u.g&&(Lo(u),u.g.cancel(),u.g=null)}function la(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ee||T(),ie||(Ee(),ie=!0),C.add(m,u),u.D=0}}function ua(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ui(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Fn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=k(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,j,m),v=Rt(this.J),Ze(v,"RID",u),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),vr(this,v),B&&(this.R?m="headers="+ki(Nn(B))+"&"+m:this.u&&pr(v,this.u,B)),Ao(this.h,j),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",m),Ze(v,"SID","null"),j.U=!0,hi(j,v,null)):hi(j,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const A=Rt(u.J);Ze(A,"SID",u.M),Ze(A,"RID",v),Ze(A,"AID",u.K),vr(u,A),u.u&&u.o&&pr(A,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),hi(v,A,m)}function vr(u,m){u.H&&Be(u.H,function(v,A){Ze(m,A,v)}),u.l&&Be({},function(v,A){Ze(m,A,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var j=u.i;let Ie=-1;for(;;){const vt=["count="+v];Ie==-1?v>0?(Ie=j[0].g,vt.push("ofs="+Ie)):Ie=0:vt.push("ofs="+Ie);let Ye=!0;for(let ft=0;ft<v;ft++){var B=j[ft].g;const Dn=j[ft].map;if(B-=Ie,B<0)Ie=Math.max(0,j[ft].g-100),Ye=!1;else try{B="req"+B+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Si,Xn]of re){let $n=Xn;g(Xn)&&($n=us(Xn)),vt.push(B+Si+"="+encodeURIComponent($n))}}catch(Si){throw vt.push(B+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Dn)}}if(Ye){re=vt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),m.G=u,re}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ee||T(),ie||(Ee(),ie=!0),C.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ui(_(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ui(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),ys(this),_u(this))};function Lo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Rt(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=dr(Rt(m)),v.u=null,v.R=!0,ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ys(this),br(this),At(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ca(u),Lo(u),u.g=null;var A=2}else if(pi(u.h,m))v=m.G,wo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=ea(),Lt(A,new li(A,v)),Ei(u)}else yu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&ua(u,m)||A==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const j=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||zt(A,"https"),dr(A),j?Qn(A.toString(),v):Do(A.toString(),v)}else At(2);u.I=0,u.l&&u.l.pa(m),Eu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var A=v instanceof vn?Rt(v):new vn(v);if(A.g!="")m&&(A.g=m+"."+A.g),cs(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new vn(null);A&&zt(B,A),m&&(B.g=m),j&&cs(B,j),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&Ze(A,v,m),Ze(A,"VER",u.ka),vr(u,A),A}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new tt(new _i({ab:v})):new tt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new on(u,m)};function on(u,m){St.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}x(on,St),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Vo(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new xt(m.Ya++,u)),m.I==3&&Ei(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,on.Z.N.call(this)};function wu(u){Ht.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(wu,Ht);function xu(){Rn.call(this),this.status=1}x(xu,Rn);function Ui(u){this.g=u}x(Ui,Au),Ui.prototype.ra=function(){Lt(this.g,"a")},Ui.prototype.qa=function(u){Lt(this.g,new wu(u))},Ui.prototype.pa=function(u){Lt(this.g,new xu)},Ui.prototype.oa=function(){Lt(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,rb=function(){return new _s},sb=function(){return ea()},ib=_t,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,jc=hr,bo.COMPLETE="complete",nb=bo,su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",St.prototype.listen=St.prototype.J,Sl=su,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,tb=tt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo="12.9.0";function L2(s){lo=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Rm("@firebase/firestore");function Ba(){return Gr.logLevel}function ce(s,...e){if(Gr.logLevel<=Ue.DEBUG){const i=e.map(Dm);Gr.debug(`Firestore (${lo}): ${s}`,...i)}}function is(s,...e){if(Gr.logLevel<=Ue.ERROR){const i=e.map(Dm);Gr.error(`Firestore (${lo}): ${s}`,...i)}}function Qr(s,...e){if(Gr.logLevel<=Ue.WARN){const i=e.map(Dm);Gr.warn(`Firestore (${lo}): ${s}`,...i)}}function Dm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,ab(s,r,i)}function ab(s,e,i){let r=`FIRESTORE (${lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw is(r),new Error(r)}function Je(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||ab(e,l,r)}function xe(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class U2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class P2{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Br,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Br)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new ob(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class z2{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class B2{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new z2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class h0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new h0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new h0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=H2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=e.charAt(l[c]%62))}return r}}function Pe(s,e){return s<e?-1:s>e?1:0}function am(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return qd(l)===qd(c)?Pe(l,c):qd(l)?1:-1}return Pe(s.length,e.length)}const F2=55296,G2=57343;function qd(s){const e=s.charCodeAt(0);return e>=F2&&e<=G2}function eo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class Ci{constructor(e,i,r){i===void 0?i=0:i>e.length&&ve(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&ve(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const c=Ci.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const r=Ci.isNumericId(e),l=Ci.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ci.extractNumericId(e).compare(Ci.extractNumericId(i)):am(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class lt extends Ci{construct(e,i,r){return new lt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new lt(i)}static emptyPath(){return new lt([])}}const Q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ci{construct(e,i,r){return new Jt(e,i,r)}static isValidIdentifier(e){return Q2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Jt([f0])}static fromServerFormat(e){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(i)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(lt.fromString(e))}static fromName(e){return new pe(lt.fromString(e).popFirst(5))}static empty(){return new pe(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return lt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(s,e,i){if(!i)throw new ue(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function K2(s,e,i,r){if(e===!0&&r===!0)throw new ue(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function d0(s){if(!pe.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function m0(s){if(pe.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ub(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function Js(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dh(s);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Kl(s,e){if(!ub(s))throw new ue(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ue(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=-62135596800,p0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*p0);return new ht(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g0)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Vt("string",ht._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ht(0,0))}static max(){return new Se(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function Y2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(r===1e9?new ht(i+1,0):new ht(i,r));return new er(l,pe.empty(),e)}function X2(s){return new er(s.readTime,s.key,jl)}class er{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new er(Se.min(),pe.empty(),jl)}static max(){return new er(Se.max(),pe.empty(),jl)}}function $2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==J2)throw s;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let l=0,c=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,l)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(e[_]).next((S=>{d[_]=S,++g,g===c&&r(d)}),(S=>l(S)))}}))}static doWhile(e,i){return new $(((r,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):r()};c()}))}}function W2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function co(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function gh(s){return s==null}function Xc(s){return s===0&&1/s==-1/0}function ew(s){return typeof s=="number"&&Number.isInteger(s)&&!Xc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="";function tw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=y0(e)),e=nw(s.get(i),e);return y0(e)}function nw(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case cb:i+="";break;default:i+=c}}return i}function y0(s){return s+cb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function hb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,i){this.comparator=e,this.root=i||$t.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?r(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,i,r,l,c){this.key=e,this.value=i,this.color=r??$t.RED,this.left=l??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,c){return new $t(e??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return $t.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,i,r,l,c){return this}insert(e,i,r){return new $t(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ut(this.comparator);return i.data=e,i}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new ni([])}unionWith(e){let i=new Ut(Jt.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new ni(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fb("Invalid base64 string: "+c):c}})(e);return new Zt(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Zt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const iw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=iw.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function nr(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="server_timestamp",mb="__type__",gb="__previous_value__",pb="__local_write_time__";function Vm(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[mb])==null?void 0:r.stringValue)===db}function ph(s){const e=s.mapValue.fields[gb];return Vm(e)?ph(e):e}function Ul(s){const e=tr(s.mapValue.fields[pb].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,i,r,l,c,d,g,y,_,S,x){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=x}}const $c="(default)";class Pl{constructor(e,i){this.projectId=e,this.database=i||$c}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Pl&&e.projectId===this.projectId&&e.database===this.database}}function rw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__type__",aw="__max__",Oc={mapValue:{}},_b="__vector__",Jc="value";function ir(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Vm(s)?4:lw(s)?9007199254740991:ow(s)?10:11:ve(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const i=ir(s);if(i!==ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ul(s).isEqual(Ul(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=tr(l.timestampValue),g=tr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return nr(l.bytesValue).isEqual(nr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Tt(l.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Tt(l.integerValue)===Tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Tt(l.doubleValue),g=Tt(c.doubleValue);return d===g?Xc(d)===Xc(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return eo(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(_0(d)!==_0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Vi(d[y],g[y])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function zl(s,e){return(s.values||[]).find((i=>Vi(i,e)))!==void 0}function to(s,e){if(s===e)return 0;const i=ir(s),r=ir(e);if(i!==r)return Pe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Tt(c.integerValue||c.doubleValue),y=Tt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return b0(s.timestampValue,e.timestampValue);case 4:return b0(Ul(s),Ul(e));case 5:return am(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=nr(c),y=nr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Pe(g[_],y[_]);if(S!==0)return S}return Pe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pe(Tt(c.latitude),Tt(d.latitude));return g!==0?g:Pe(Tt(c.longitude),Tt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return E0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){var O,F,J,ne;const g=c.fields||{},y=d.fields||{},_=(O=g[Jc])==null?void 0:O.arrayValue,S=(F=y[Jc])==null?void 0:F.arrayValue,x=Pe(((J=_==null?void 0:_.values)==null?void 0:J.length)||0,((ne=S==null?void 0:S.values)==null?void 0:ne.length)||0);return x!==0?x:E0(_,S)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const O=am(y[x],S[x]);if(O!==0)return O;const F=to(g[y[x]],_[S[x]]);if(F!==0)return F}return Pe(y.length,S.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:i})}}function b0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=tr(s),r=tr(e),l=Pe(i.seconds,r.seconds);return l!==0?l:Pe(i.nanos,r.nanos)}function E0(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=to(i[l],r[l]);if(c)return c}return Pe(i.length,r.length)}function no(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=tr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return nr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=om(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):ve(61005,{value:s})}function Uc(s){switch(ir(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return nr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Xr(r.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw ve(13486,{value:s})}}function T0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function lm(s){return!!s&&"integerValue"in s}function km(s){return!!s&&"arrayValue"in s}function S0(s){return!!s&&"nullValue"in s}function A0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Pc(s){return!!s&&"mapValue"in s}function ow(s){var i,r;return((r=(((i=s==null?void 0:s.mapValue)==null?void 0:i.fields)||{})[yb])==null?void 0:r.stringValue)===_b}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Xr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Cl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Cl(s.arrayValue.values[i]);return e}return{...s}}function lw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===aw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Pc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(i)}setAll(e){let i=Jt.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Cl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(e){const i=this.field(e.popLast());Pc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Pc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){Xr(i,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new zn(Cl(this.value))}}function vb(s){const e=[];return Xr(s.fields,((i,r)=>{const l=new Jt([i]);if(Pc(r)){const c=vb(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,i,r,l,c,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new sn(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,i,r,l){return new sn(e,1,i,Se.min(),r,l,0)}static newNoDocument(e,i){return new sn(e,2,i,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,i){return new sn(e,3,i,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,i){this.position=e,this.inclusive=i}}function w0(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=pe.comparator(pe.fromName(d.referenceValue),i.key):r=to(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function x0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Vi(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i="asc"){this.field=e,this.dir=i}}function uw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{}class Mt extends bb{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new hw(e,i,r):i==="array-contains"?new mw(e,r):i==="in"?new gw(e,r):i==="not-in"?new pw(e,r):i==="array-contains-any"?new yw(e,r):new Mt(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new fw(e,r):new dw(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(to(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(to(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends bb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ai(e,i)}matches(e){return Eb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Eb(s){return s.op==="and"}function Tb(s){return cw(s)&&Eb(s)}function cw(s){for(const e of s.filters)if(e instanceof ai)return!1;return!0}function um(s){if(s instanceof Mt)return s.field.canonicalString()+s.op.toString()+no(s.value);if(Tb(s))return s.filters.map((e=>um(e))).join(",");{const e=s.filters.map((i=>um(i))).join(",");return`${s.op}(${e})`}}function Sb(s,e){return s instanceof Mt?(function(r,l){return l instanceof Mt&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ai?(function(r,l){return l instanceof ai&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&Sb(d,l.filters[g])),!0):!1})(s,e):void ve(19439)}function Ab(s){return s instanceof Mt?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(s):s instanceof ai?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ab).join(" ,")+"}"})(s):"Filter"}class hw extends Mt{constructor(e,i,r){super(e,i,r),this.key=pe.fromName(r.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class fw extends Mt{constructor(e,i){super(e,"in",i),this.keys=wb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class dw extends Mt{constructor(e,i){super(e,"not-in",i),this.keys=wb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function wb(s,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((r=>pe.fromName(r.referenceValue)))}class mw extends Mt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return km(i)&&zl(i.arrayValue,this.value)}}class gw extends Mt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class pw extends Mt{constructor(e,i){super(e,"not-in",i)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class yw extends Mt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>zl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,i=null,r=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function R0(s,e=null,i=[],r=[],l=null,c=null,d=null){return new _w(s,e,i,r,l,c,d)}function Lm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>um(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),gh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>no(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>no(r))).join(",")),e.Te=i}return e.Te}function jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!uw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Sb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!x0(s.startAt,e.startAt)&&x0(s.endAt,e.endAt)}function cm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vw(s,e,i,r,l,c,d,g){return new ho(s,e,i,r,l,c,d,g)}function Um(s){return new ho(s)}function C0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bw(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function xb(s){return s.collectionGroup!==null}function Il(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ut(Jt.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Bl(c,r))})),i.has(Jt.keyField().canonicalString())||e.Ie.push(new Bl(Jt.keyField(),r))}return e.Ie}function Ii(s){const e=xe(s);return e.Ee||(e.Ee=Ew(e,Il(s))),e.Ee}function Ew(s,e){if(s.limitType==="F")return R0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bl(l.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return R0(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function hm(s,e){const i=s.filters.concat([e]);return new ho(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Tw(s,e){const i=s.explicitOrderBy.concat([e]);return new ho(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function fm(s,e,i){return new ho(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function yh(s,e){return jm(Ii(s),Ii(e))&&s.limitType===e.limitType}function Rb(s){return`${Lm(Ii(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>Ab(l))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function _h(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pe.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Il(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=w0(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Il(r),l)||r.endAt&&!(function(d,g,y){const _=w0(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Il(r),l))})(s,e)}function Sw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Cb(s){return(e,i)=>{let r=!1;for(const l of Il(s)){const c=Aw(l,e,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Aw(s,e,i){const r=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?to(y,_):ve(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Xr(this.inner,((i,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return hb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new gt(pe.comparator);function ss(){return ww}const Ib=new gt(pe.comparator);function Al(...s){let e=Ib;for(const i of s)e=e.insert(i.key,i);return e}function Nb(s){let e=Ib;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Pr(){return Nl()}function Db(){return Nl()}function Nl(){return new $r((s=>s.toString()),((s,e)=>s.isEqual(e)))}const xw=new gt(pe.comparator),Rw=new Ut(pe.comparator);function ze(...s){let e=Rw;for(const i of s)e=e.add(i);return e}const Cw=new Ut(Pe);function Iw(){return Cw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function Ob(s){return{integerValue:""+s}}function Nw(s,e){return ew(e)?Ob(e):Pm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function Dw(s,e,i){return s instanceof Wc?(function(l,c){const d={fields:{[mb]:{stringValue:db},[pb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Vm(c)&&(c=ph(c)),c&&(d.fields[gb]=c),{mapValue:d}})(i,e):s instanceof ql?Vb(s,e):s instanceof Hl?kb(s,e):(function(l,c){const d=Mb(l,c),g=I0(d)+I0(l.Ae);return lm(d)&&lm(l.Ae)?Ob(g):Pm(l.serializer,g)})(s,e)}function Ow(s,e,i){return s instanceof ql?Vb(s,e):s instanceof Hl?kb(s,e):i}function Mb(s,e){return s instanceof eh?(function(r){return lm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Wc extends vh{}class ql extends vh{constructor(e){super(),this.elements=e}}function Vb(s,e){const i=Lb(e);for(const r of s.elements)i.some((l=>Vi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Hl extends vh{constructor(e){super(),this.elements=e}}function kb(s,e){let i=Lb(e);for(const r of s.elements)i=i.filter((l=>!Vi(l,r)));return{arrayValue:{values:i}}}class eh extends vh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function I0(s){return Tt(s.integerValue||s.doubleValue)}function Lb(s){return km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Mw(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof ql&&l instanceof ql||r instanceof Hl&&l instanceof Hl?eo(r.elements,l.elements,Vi):r instanceof eh&&l instanceof eh?Vi(r.Ae,l.Ae):r instanceof Wc&&l instanceof Wc})(s.transform,e.transform)}class Vw{constructor(e,i){this.version=e,this.transformResults=i}}class si{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bh{}function jb(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new zm(s.key,si.none()):new Yl(s.key,s.data,si.none());{const i=s.data,r=zn.empty();let l=new Ut(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Jr(s.key,r,new ni(l.toArray()),si.none())}}function kw(s,e,i){s instanceof Yl?(function(l,c,d){const g=l.value.clone(),y=D0(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Jr?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=D0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(Ub(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Dl(s,e,i,r){return s instanceof Yl?(function(c,d,g,y){if(!zc(c.precondition,d))return g;const _=c.value.clone(),S=O0(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Jr?(function(c,d,g,y){if(!zc(c.precondition,d))return g;const _=O0(c.fieldTransforms,y,d),S=d.data;return S.setAll(Ub(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,r):(function(c,d,g){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function Lw(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=Mb(r.transform,l||null);c!=null&&(i===null&&(i=zn.empty()),i.set(r.field,c))}return i||null}function N0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&eo(r,l,((c,d)=>Mw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Yl extends bh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Jr extends bh{constructor(e,i,r,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function D0(s,e,i){const r=new Map;Je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=e.data.field(c.field);r.set(c.field,Ow(d,g,i[l]))}return r}function O0(s,e,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,Dw(c,d,e))}return r}class zm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&kw(c,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Dl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Dl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Db();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=jb(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,((i,r)=>N0(i,r)))&&eo(this.baseMutations,e.baseMutations,((i,r)=>N0(i,r)))}}class Bm{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return xw})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Bm(e,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,He;function Bw(s){switch(s){case X.OK:return ve(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function Pb(s){if(s===void 0)return is("GRPC error has no .code"),X.UNKNOWN;switch(s){case Ot.OK:return X.OK;case Ot.CANCELLED:return X.CANCELLED;case Ot.UNKNOWN:return X.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return X.INTERNAL;case Ot.UNAVAILABLE:return X.UNAVAILABLE;case Ot.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ot.NOT_FOUND:return X.NOT_FOUND;case Ot.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ot.ABORTED:return X.ABORTED;case Ot.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ot.DATA_LOSS:return X.DATA_LOSS;default:return ve(39323,{code:s})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new $s([4294967295,4294967295],0);function M0(s){const e=qw().encode(s),i=new eb;return i.update(e),new Uint8Array(i.digest())}function V0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new $s([i,r],0),new $s([l,c],0)]}class qm{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=$s.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply($s.fromNumber(r)));return l.compare(Hw)===1&&(l=new $s([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=M0(e),[r,l]=V0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new qm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=M0(e),[r,l]=V0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,i,r,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Eh(Se.min(),l,new gt(Pe),ss(),ze())}}class Xl{constructor(e,i,r,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Xl(r,i,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,i,r,l){this.Se=e,this.removedTargetIds=i,this.key=r,this.De=l}}class zb{constructor(e,i){this.targetId=e,this.Ce=i}}class Bb{constructor(e,i,r=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class k0{constructor(){this.ve=0,this.Fe=L0(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),r=ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:ve(38017,{changeType:c})}})),new Xl(this.Me,this.xe,e,i,r)}Ke(){this.Oe=!1,this.Fe=L0()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fw{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.He=Mc(),this.Je=Mc(),this.Ze=new gt(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(r===0){const d=new pe(c.path);this.et(i,d,sn.newNoDocument(d,Se.min()))}else Je(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=nr(r).toUint8Array()}catch(y){if(y instanceof fb)return Qr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new qm(d,l,c)}catch(y){return Qr(y instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const y=new pe(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,sn.newNoDocument(y,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let r=ze();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Eh(e,i,this.Ze,this.je,r);return this.je=ss(),this.He=Mc(),this.Je=Mc(),this.Ze=new gt(Pe),l}Ye(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,r),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new k0,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ut(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ut(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new gt(pe.comparator)}function L0(){return new gt(pe.comparator)}const Gw={asc:"ASCENDING",desc:"DESCENDING"},Qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kw={and:"AND",or:"OR"};class Yw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function dm(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function th(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Xw(s,e){return th(s,e.toTimestamp())}function Ni(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const r=tr(i);return new ht(r.seconds,r.nanos)})(s))}function Hm(s,e){return mm(s,e).canonicalString()}function mm(s,e){const i=(function(l){return new lt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Hb(s){const e=lt.fromString(s);return Je(Yb(e),10190,{key:e.toString()}),e}function gm(s,e){return Hm(s.databaseId,e.path)}function Hd(s,e){const i=Hb(e);if(i.get(1)!==s.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(Gb(i))}function Fb(s,e){return Hm(s.databaseId,e)}function $w(s){const e=Hb(s);return e.length===4?lt.emptyPath():Gb(e)}function pm(s){return new lt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Gb(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function j0(s,e,i){return{name:gm(s,e),fields:i.value.mapValue.fields}}function Jw(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Je(S===void 0||typeof S=="string",58123),Zt.fromBase64String(S||"")):(Je(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Zt.fromUint8Array(S||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:Pb(_.code);return new ue(S,_.message||"")})(d);i=new Bb(r,l,c,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Hd(s,r.document.name),c=Ni(r.document.updateTime),d=r.document.createTime?Ni(r.document.createTime):Se.min(),g=new zn({mapValue:{fields:r.document.fields}}),y=sn.newFoundDocument(l,c,d,g),_=r.targetIds||[],S=r.removedTargetIds||[];i=new Bc(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Hd(s,r.document),c=r.readTime?Ni(r.readTime):Se.min(),d=sn.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Bc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Hd(s,r.document),c=r.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new zw(l,c),g=r.targetId;i=new zb(g,d)}}return i}function Zw(s,e){let i;if(e instanceof Yl)i={update:j0(s,e.key,e.value)};else if(e instanceof zm)i={delete:gm(s,e.key)};else if(e instanceof Jr)i={update:j0(s,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof jw))return ve(16599,{dt:e.type});i={verify:gm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw ve(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Xw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve(27497)})(s,e.precondition)),i}function Ww(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(Se.min())&&(d=Ni(c)),new Vw(d,l.transformResults||[])})(i,e)))):[]}function ex(s,e){return{documents:[Fb(s,e.path)]}}function tx(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Fb(s,l);const c=(function(_){if(_.length!==0)return Kb(ai.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(O){return{field:Ha(O.field),direction:sx(O.dir)}})(S)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=dm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function nx(s){let e=$w(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Je(r===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];i.where&&(c=(function(x){const O=Qb(x);return O instanceof ai&&Tb(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((O=>(function(J){return new Bl(Fa(J.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let O;return O=typeof x=="object"?x.value:x,gh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(x){const O=!!x.before,F=x.values||[];return new Zc(F,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const O=!x.before,F=x.values||[];return new Zc(F,O)})(i.endAt)),vw(e,l,d,c,g,"F",y,_)}function ix(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Qb(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fa(i.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Mt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Mt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Mt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Mt.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ai.create(i.compositeFilter.filters.map((r=>Qb(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(i.compositeFilter.op))})(s):ve(30097,{filter:s})}function sx(s){return Gw[s]}function rx(s){return Qw[s]}function ax(s){return Kw[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Jt.fromServerFormat(s.fieldPath)}function Kb(s){return s instanceof Mt?(function(i){if(i.op==="=="){if(A0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(S0(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:rx(i.op),value:i.value}}})(s):s instanceof ai?(function(i){const r=i.getFilters().map((l=>Kb(l)));return r.length===1?r[0]:{compositeFilter:{op:ax(i.op),filters:r}}})(s):ve(54877,{filter:s})}function ox(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Yb(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function Xb(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,i,r,l,c=Se.min(),d=Se.min(),g=Zt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Qs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.yt=e}}function ux(s){const e=nx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.Sn=new hx}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(er.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(er.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class hx{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ut(lt.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ut(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn($b,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new io(0)}static ar(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",fx=1048576;function z0([s,e],[i,r]){const l=Pe(s,i);return l===0?Pe(e,r):l}class dx{constructor(e){this.Pr=e,this.buffer=new Ut(z0),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();z0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ce(P0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){co(i)?ce(P0,"Ignoring IndexedDB error during garbage collection: ",i):await uo(i)}await this.Ar(3e5)}))}}class gx{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(mh.ce);const r=new dx(i);return this.Vr.forEachTarget(e,(l=>r.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>r.Er(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.Vr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(U0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U0):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let r,l,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(r=x,g=Date.now(),this.removeTargets(e,r,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(_=Date.now(),Ba()<=Ue.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:x}))))}}function px(s,e){return new gx(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.changes=new $r((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&Dl(r.mutation,l,ni.empty(),ht.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=ze()){const l=Pr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((c=>{let d=Al();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Pr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,ze())))}populateOverlays(e,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let c=ss();const d=Nl(),g=(function(){return Nl()})();return i.forEach(((y,_)=>{const S=r.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Jr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Dl(S.mutation,_,S.mutation.getFieldMask(),ht.now())):d.set(_.key,ni.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new _x(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Nl();let l=new gt(((d,g)=>d-g)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=r.get(y)||ni.empty();S=g.applyToLocalView(_,S),r.set(y,S);const x=(l.get(g.batchId)||ze()).add(y);l=l.insert(g.batchId,x)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,x=Db();S.forEach((O=>{if(!c.has(O)){const F=jb(i.get(O),r.get(O));F!==null&&x.set(O,F),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return bw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-c.size):$.resolve(Pr());let g=jl,y=c;return d.next((_=>$.forEach(_,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(e,S).next((O=>{y=y.insert(S,O)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((S=>({batchId:g,changes:Nb(S)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((r=>{let l=Al();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(y=>{const _=(function(x,O){return new ho(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((S=>{S.forEach(((x,O)=>{d=d.insert(x,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,sn.newInvalidDocument(S)))}));let g=Al();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&Dl(S.mutation,_,ni.empty(),ht.now()),_h(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:ux(l.bundledQuery),readTime:Ni(l.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.overlays=new gt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Pr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.Lr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const l=Pr(),c=i.length+1,d=new pe(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let c=new gt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let S=c.get(_.largestBatchId);S===null&&(S=Pr(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Pr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return $.resolve(g)}bt(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(r.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Pw(i,r));let c=this.Lr.get(i);c===void 0&&(c=ze(),this.Lr.set(i,c)),this.Lr.set(i,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const r=new qt(e,i);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Wr(new qt(e,i))}Qr(e,i){e.forEach((r=>this.removeReference(r,i)))}Gr(e){const i=new pe(new lt([])),r=new qt(i,e),l=new qt(i,e+1),c=[];return this.qr.forEachInRange([r,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new lt([])),r=new qt(i,e),l=new qt(i,e+1);let c=ze();return this.qr.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new qt(e,0),r=this.kr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Uw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.Xr(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new qt(i,0),l=new qt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ut(Pe);return i.forEach((l=>{const c=new qt(l,0),d=new qt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{r=r.add(g.Hr)}))})),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let c=r;pe.isDocumentKey(c)||(c=c.child(""));const d=new qt(new pe(c),0);let g=new Ut(Pe);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((r=>{const l=this.Zr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(i.mutations,(l=>{const c=new qt(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,i){const r=new qt(i,0),l=this.Jr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.ti=e,this.docs=(function(){return new gt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(e,i){let r=ss();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let c=ss();const d=i.path,g=new pe(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||$2(X2(S),r)<=0||(l.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,r,l){ve(9500)}ni(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new wx(this)}getSize(e){return $.resolve(this.size)}}class wx extends yx{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.persistence=e,this.ri=new $r((i=>Lm(i)),jm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Fm,this.targetCount=0,this.oi=io._r()}forEachTarget(e,i){return this.ri.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new io(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.ri.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this.si.$r(i,r),$.resolve()}removeMatchingKeys(e,i,r){this.si.Qr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this.si.jr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,i){this._i={},this.overlays={},this.ai=new mh(0),this.ui=!1,this.ui=!0,this.ci=new Tx,this.referenceDelegate=e(this),this.li=new xx(this),this.indexManager=new cx,this.remoteDocumentCache=(function(l){return new Ax(l)})((r=>this.referenceDelegate.hi(r))),this.serializer=new lx(i),this.Pi=new bx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Ex,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this._i[e.toKey()];return r||(r=new Sx(i,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,r){ce("MemoryPersistence","Starting transaction:",e);const l=new Rx(this.ai.next());return this.referenceDelegate.Ti(),r(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((r=>()=>r.containsKey(e,i))))}}class Rx extends Z2{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Ri=new Fm,this.Ai=null}static Vi(e){return new Gm(e)}get di(){if(this.Ai)return this.Ai;throw ve(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.di.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(r=>{const l=pe.fromPath(r);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((r=>{r?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class nh{constructor(e,i){this.persistence=e,this.fi=new $r((r=>tw(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=px(this,i)}static Vi(e,i){return new nh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}pr(e){let i=0;return this.mr(e,(r=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((r,l)=>this.wr(e,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(r++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Uc(e.data.value)),i}wr(e,i,r){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Ts=r,this.Is=l}static Es(e,i){let r=ze(),l=ze();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(e,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return gA()?8:W2(rn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Cx;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,r,l){return r.documentReadCount<this.Vs?(Ba()<=Ue.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ba()<=Ue.DEBUG&&ce("QueryEngine","Query:",qa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.ds*l?(Ba()<=Ue.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(i))):$.resolve())}gs(e,i){if(C0(i))return $.resolve(null);let r=Ii(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),r=Ii(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=ze(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.bs(i,g);return this.Ss(i,_,d,y.readTime)?this.gs(e,fm(i,null,"F")):this.Ds(e,_,i,y)}))))})))))}ps(e,i,r,l){return C0(i)||l.isEqual(Se.min())?$.resolve(null):this.fs.getDocuments(e,r).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,r,l)?$.resolve(null):(Ba()<=Ue.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),qa(i)),this.Ds(e,d,i,Y2(l,jl)).next((g=>g)))}))}bs(e,i){let r=new Ut(Cb(e));return i.forEach(((l,c)=>{_h(e,c)&&(r=r.add(c))})),r}Ss(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,r){return Ba()<=Ue.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",qa(i)),this.fs.getDocumentsMatchingQuery(e,i,er.min(),r)}Ds(e,i,r,l){return this.fs.getDocumentsMatchingQuery(e,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="LocalStore",Nx=3e8;class Dx{constructor(e,i,r,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new gt(Pe),this.Fs=new $r((c=>Lm(c)),jm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function Ox(s,e,i,r){return new Dx(s,e,i,r)}async function Zb(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=ze();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Mx(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const x=_.batch,O=x.keys();let F=$.resolve();return O.forEach((J=>{F=F.next((()=>S.getEntry(y,J))).next((ne=>{const Z=_.docVersions.get(J);Je(Z!==null,48541),ne.version.compareTo(Z)<0&&(x.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),S.addEntry(ne)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(i,r,e,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=ze();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function Wb(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function Vx(s,e){const i=xe(s),r=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];e.targetChanges.forEach(((S,x)=>{const O=l.get(x);if(!O)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,x))));let F=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?F=F.withResumeToken(Zt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,r)),l=l.insert(x,F),(function(ne,Z,de){return ne.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=Nx?!0:de.addedDocuments.size+de.modifiedDocuments.size+de.removedDocuments.size>0})(O,F,S)&&g.push(i.li.updateTargetData(c,F))}));let y=ss(),_=ze();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(kx(c,d,e.documentUpdates).next((S=>{y=S.Bs,_=S.Ls}))),!r.isEqual(Se.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(S)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.vs=l,c)))}function kx(s,e,i){let r=ze(),l=ze();return i.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ss();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Se.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ce(Km,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{Bs:d,Ls:l}}))}function Lx(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jx(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.li.getTargetData(r,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(r).next((d=>(l=new Qs(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.li.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.vs.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(r.targetId,r),i.Fs.set(e,r.targetId)),r}))}async function ym(s,e,i){const r=xe(s),l=r.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!co(d))throw d;ce(Km,`Failed to update sequence numbers for target ${e}: ${d}`)}r.vs=r.vs.remove(e),r.Fs.delete(l.target)}function B0(s,e,i){const r=xe(s);let l=Se.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const x=xe(y),O=x.Fs.get(S);return O!==void 0?$.resolve(x.vs.get(O)):x.li.getTargetData(_,S)})(r,d,Ii(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:ze()))).next((g=>(Ux(r,Sw(e),g),{documents:g,ks:c})))))}function Ux(s,e,i){let r=s.Ms.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class q0{constructor(){this.activeTargetIds=Iw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this.vo=new q0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,r){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new q0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="ConnectivityMonitor";class F0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ce(H0,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ce(H0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${r}/databases/${l}`,this.$o=this.databaseId.database===$c?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Wo(e,i,r,l,c){const d=_m(),g=this.Qo(e,i.toUriEncodedString());ce(Fd,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,l,c);const{host:_}=new URL(g),S=ao(_);return this.zo(e,g,y,r,S).then((x=>(ce(Fd,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Qr(Fd,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",r),x}))}jo(e,i,r,l,c,d){return this.Wo(e,i,r,l,c)}Go(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const r=Bx[e];let l=`${this.qo}/v1/${i}:${r}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection",El=(s,e,i)=>{s.listen(e,(r=>{try{i(r)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Qa extends qx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qa.c_){const e=sb();El(e,ib.STAT_EVENT,(i=>{i.stat===rm.PROXY?ce(tn,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&ce(tn,"STAT_EVENT: detected no buffering proxy")})),Qa.c_=!0}}zo(e,i,r,l,c){const d=_m();return new Promise(((g,y)=>{const _=new tb;_.setWithCredentials(!0),_.listenOnce(nb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const x=_.getResponseJson();ce(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case jc.TIMEOUT:ce(tn,`RPC '${e}' ${d} timed out`),y(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const O=_.getStatus();if(ce(tn,`RPC '${e}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const J=F==null?void 0:F.error;if(J&&J.status&&J.message){const ne=(function(de){const W=de.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN})(J.status);y(new ue(ne,J.message))}else y(new ue(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ue(X.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ce(tn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);ce(tn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",S,r,15)}))}T_(e,i,r){const l=_m(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const _=c.join("");ce(tn,`Creating RPC '${e}' stream ${l}: ${_}`,g);const S=d.createWebChannel(_,g);this.I_(S);let x=!1,O=!1;const F=new Hx({Ho:J=>{O?ce(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,J):(x||(ce(tn,`Opening RPC '${e}' stream ${l} transport.`),S.open(),x=!0),ce(tn,`RPC '${e}' stream ${l} sending:`,J),S.send(J))},Jo:()=>S.close()});return El(S,Sl.EventType.OPEN,(()=>{O||(ce(tn,`RPC '${e}' stream ${l} transport opened.`),F.i_())})),El(S,Sl.EventType.CLOSE,(()=>{O||(O=!0,ce(tn,`RPC '${e}' stream ${l} transport closed`),F.o_(),this.E_(S))})),El(S,Sl.EventType.ERROR,(J=>{O||(O=!0,Qr(tn,`RPC '${e}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),F.o_(new ue(X.UNAVAILABLE,"The operation could not be completed")))})),El(S,Sl.EventType.MESSAGE,(J=>{var ne;if(!O){const Z=J.data[0];Je(!!Z,16349);const de=Z,W=(de==null?void 0:de.error)||((ne=de[0])==null?void 0:ne.error);if(W){ce(tn,`RPC '${e}' stream ${l} received error:`,W);const oe=W.status;let ee=(function(C){const T=Ot[C];if(T!==void 0)return Pb(T)})(oe),Ee=W.message;oe==="NOT_FOUND"&&Ee.includes("database")&&Ee.includes("does not exist")&&Ee.includes(this.databaseId.database)&&Qr(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ee===void 0&&(ee=X.INTERNAL,Ee="Unknown error status: "+oe+" with message "+W.message),O=!0,F.o_(new ue(ee,Ee)),S.close()}else ce(tn,`RPC '${e}' stream ${l} received:`,Z),F.__(Z)}})),Qa.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,r){super.Go(e,i,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rb()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(s){return new Qa(s)}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(s){return new Yw(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qa.c_=!1;class eE{constructor(e,i,r=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=r,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class tE{constructor(e,i,r,l,c,d,g,y){this.Ci=e,this.b_=r,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ue(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ce(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gx extends tE{constructor(e,i,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Jw(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?Ni(d.readTime):Se.min()})(e);return this.listener.J_(i,r)}Z_(e){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=cm(y)?{documents:ex(c,y)}:{query:tx(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qb(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Se.min())>0){g.readTime=th(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=ix(this.serializer,e);r&&(i.labels=r),this.K_(i)}X_(e){const i={};i.database=pm(this.serializer),i.removeTarget=e,this.K_(i)}}class Qx extends tE{constructor(e,i,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Ww(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=pm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>Zw(this.serializer,r)))};this.K_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{}class Yx extends Kx{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,mm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(X.UNKNOWN,c.toString())}))}jo(e,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,mm(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ue(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Xx(s,e,i,r){return new Yx(s,e,i,r)}class $x{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr="RemoteStore";class Jx{constructor(e,i,r,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{r.enqueueAndForget((async()=>{Zr(this)&&(ce(Kr,"Restarting streams for network reachability change."),await(async function(y){const _=xe(y);_.Ea.add(4),await $l(_),_.Va.set("Unknown"),_.Ea.delete(4),await Sh(_)})(this))}))})),this.Va=new $x(r,l)}}async function Sh(s){if(Zr(s))for(const e of s.Ra)await e(!0)}async function $l(s){for(const e of s.Ra)await e(!1)}function nE(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Jm(i)?$m(i):fo(i).O_()&&Xm(i,e))}function Ym(s,e){const i=xe(s),r=fo(i);i.Ia.delete(e),r.O_()&&iE(i,e),i.Ia.size===0&&(r.O_()?r.L_():Zr(i)&&i.Va.set("Unknown"))}function Xm(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}fo(s).Z_(e)}function iE(s,e){s.da.$e(e),fo(s).X_(e)}function $m(s){s.da=new Fw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),fo(s).start(),s.Va.ua()}function Jm(s){return Zr(s)&&!fo(s).x_()&&s.Ia.size>0}function Zr(s){return xe(s).Ea.size===0}function sE(s){s.da=void 0}async function Zx(s){s.Va.set("Online")}async function Wx(s){s.Ia.forEach(((e,i)=>{Xm(s,e)}))}async function eR(s,e){sE(s),Jm(s)?(s.Va.ha(e),$m(s)):s.Va.set("Unknown")}async function tR(s,e,i){if(s.Va.set("Online"),e instanceof Bb&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,e)}catch(r){ce(Kr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ih(s,r)}else if(e instanceof Bc?s.da.Xe(e):e instanceof zb?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const r=await Wb(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(Zt.EMPTY_BYTE_STRING,S.snapshotVersion)),iE(c,y);const x=new Qs(S.target,y,_,S.sequenceNumber);Xm(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ce(Kr,"Failed to raise snapshot:",r),await ih(s,r)}}async function ih(s,e,i){if(!co(e))throw e;s.Ea.add(1),await $l(s),s.Va.set("Offline"),i||(i=()=>Wb(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ce(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Sh(s)}))}function rE(s,e){return e().catch((i=>ih(s,i,e)))}async function Ah(s){const e=xe(s),i=sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mm;for(;nR(e);)try{const l=await Lx(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,iR(e,l)}catch(l){await ih(e,l)}aE(e)&&oE(e)}function nR(s){return Zr(s)&&s.Ta.length<10}function iR(s,e){s.Ta.push(e);const i=sr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function aE(s){return Zr(s)&&!sr(s).x_()&&s.Ta.length>0}function oE(s){sr(s).start()}async function sR(s){sr(s).ra()}async function rR(s){const e=sr(s);for(const i of s.Ta)e.ea(i.mutations)}async function aR(s,e,i){const r=s.Ta.shift(),l=Bm.from(r,e,i);await rE(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ah(s)}async function oR(s,e){e&&sr(s).Y_&&await(async function(r,l){if((function(d){return Bw(d)&&d!==X.ABORTED})(l.code)){const c=r.Ta.shift();sr(r).B_(),await rE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ah(r)}})(s,e),aE(s)&&oE(s)}async function Q0(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),ce(Kr,"RemoteStore received new credentials");const r=Zr(i);i.Ea.add(3),await $l(i),r&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sh(i)}async function lR(s,e){const i=xe(s);e?(i.Ea.delete(2),await Sh(i)):e||(i.Ea.add(2),await $l(i),i.Va.set("Unknown"))}function fo(s){return s.ma||(s.ma=(function(i,r,l){const c=xe(i);return c.sa(),new Gx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:Zx.bind(null,s),Yo:Wx.bind(null,s),t_:eR.bind(null,s),J_:tR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Jm(s)?$m(s):s.Va.set("Unknown")):(await s.ma.stop(),sE(s))}))),s.ma}function sr(s){return s.fa||(s.fa=(function(i,r,l){const c=xe(i);return c.sa(),new Qx(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sR.bind(null,s),t_:oR.bind(null,s),ta:rR.bind(null,s),na:aR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Ah(s)):(await s.fa.stop(),s.Ta.length>0&&(ce(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,i,r,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,c){const d=Date.now()+r,g=new Zm(e,i,d,l,c);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(s,e){if(is("AsyncQueue",`${e}: ${s}`),co(s))return new ue(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||pe.comparator(i.key,r.key):(i,r)=>pe.comparator(i.key,r.key),this.keyedMap=Al(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.ga=new gt(pe.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):ve(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class so{constructor(e,i,r,l,c,d,g,y,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new so(e,i,Ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class cR{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=xe(i),c=l.queries;l.queries=Y0(),c.forEach(((d,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function Y0(){return new $r((s=>Rb(s)),yh)}async function hR(s,e){const i=xe(s);let r=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(r=2):(c=new uR,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Wm(d,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&eg(i)}async function fR(s,e){const i=xe(s),r=e.query;let l=3;const c=i.queries.get(r);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function dR(s,e){const i=xe(s);let r=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(r=!0);d.wa=l}}r&&eg(i)}function mR(s,e,i){const r=xe(s),l=r.queries.get(e);if(l)for(const c of l.ba)c.onError(i);r.queries.delete(e)}function eg(s){s.Ca.forEach((e=>{e.next()}))}var vm,X0;(X0=vm||(vm={})).Ma="default",X0.Cache="cache";class gR{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class pR{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=Cb(e),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(e,i){const r=i?i.iu:new K0,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,x)=>{const O=l.get(S),F=_h(this.query,x)?x:null,J=!!O&&this.mutatedKeys.has(O.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;O&&F?O.data.isEqual(F.data)?J!==ne&&(r.track({type:3,doc:F}),Z=!0):this.su(O,F)||(r.track({type:2,doc:F}),Z=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(g=!0)):!O&&F?(r.track({type:0,doc:F}),Z=!0):O&&!F&&(r.track({type:1,doc:O}),Z=!0,(y||_)&&(g=!0)),Z&&(F?(d=d.add(F),c=ne?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{tu:d,iu:r,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(F,J){const ne=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:Z})}};return ne(F)-ne(J)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Ya.size===0&&this.current&&!l?1:0,_=y!==this.Xa;return this.Xa=y,d.length!==0||_?{snapshot:new so(this.query,e.tu,c,d,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const i=[];return e.forEach((r=>{this.Ya.has(r)||i.push(new uE(r))})),this.Ya.forEach((r=>{e.has(r)||i.push(new lE(r))})),i}cu(e){this.Za=e.ks,this.Ya=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const tg="SyncEngine";class yR{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class _R{constructor(e){this.key=e,this.hu=!1}}class vR{constructor(e,i,r,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>Rb(g)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new gt(pe.comparator),this.Au=new Map,this.Vu=new Fm,this.du={},this.mu=new Map,this.fu=io.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bR(s,e,i=!0){const r=gE(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cE(r,e,i,!0),l}async function ER(s,e){const i=gE(s);await cE(i,e,!0,!1)}async function cE(s,e,i,r){const l=await jx(s.localStore,Ii(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await TR(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&nE(s.remoteStore,l),g}async function TR(s,e,i,r,l){s.pu=(x,O,F)=>(async function(ne,Z,de,W){let oe=Z.view.ru(de);oe.Ss&&(oe=await B0(ne.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,oe))));const ee=W&&W.targetChanges.get(Z.targetId),Ee=W&&W.targetMismatches.get(Z.targetId)!=null,ie=Z.view.applyChanges(oe,ne.isPrimaryClient,ee,Ee);return J0(ne,Z.targetId,ie.au),ie.snapshot})(s,x,O,F);const c=await B0(s.localStore,e,!0),d=new pR(e,c.ks),g=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);J0(s,i,_.au);const S=new yR(e,i,d);return s.Tu.set(e,S),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function SR(s,e,i){const r=xe(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!yh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Ym(r.remoteStore,l.targetId),bm(r,l.targetId)})).catch(uo)):(bm(r,l.targetId),await ym(r.localStore,l.targetId,!0))}async function AR(s,e){const i=xe(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(i.remoteStore,r.targetId))}async function wR(s,e,i){const r=OR(s);try{const l=await(function(d,g){const y=xe(d),_=ht.now(),S=g.reduce(((F,J)=>F.add(J.key)),ze());let x,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let J=ss(),ne=ze();return y.xs.getEntries(F,S).next((Z=>{J=Z,J.forEach(((de,W)=>{W.isValidDocument()||(ne=ne.add(de))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,J))).next((Z=>{x=Z;const de=[];for(const W of g){const oe=Lw(W,x.get(W.key).overlayedDocument);oe!=null&&de.push(new Jr(W.key,oe,vb(oe.value.mapValue),si.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,de,g)})).next((Z=>{O=Z;const de=Z.applyToLocalDocumentSet(x,ne);return y.documentOverlayCache.saveOverlays(F,Z.batchId,de)}))})).then((()=>({batchId:O.batchId,changes:Nb(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.du[d.currentUser.toKey()];_||(_=new gt(Pe)),_=_.insert(g,y),d.du[d.currentUser.toKey()]=_})(r,l.batchId,i),await Jl(r,l.changes),await Ah(r.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function hE(s,e){const i=xe(s);try{const r=await Vx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await Jl(i,r,e)}catch(r){await uo(r)}}function $0(s,e,i){const r=xe(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=xe(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,x)=>{for(const O of x.ba)O.va(g)&&(_=!0)})),_&&eg(y)})(r.eventManager,e),l.length&&r.Pu.J_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xR(s,e,i){const r=xe(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new gt(pe.comparator);d=d.insert(c,sn.newNoDocument(c,Se.min()));const g=ze().add(c),y=new Eh(Se.min(),new Map,new gt(Pe),d,g);await hE(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(e),ng(r)}else await ym(r.localStore,e,!1).then((()=>bm(r,e,i))).catch(uo)}async function RR(s,e){const i=xe(s),r=e.batch.batchId;try{const l=await Mx(i.localStore,e);dE(i,r,null),fE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(i,l)}catch(l){await uo(l)}}async function CR(s,e,i){const r=xe(s);try{const l=await(function(d,g){const y=xe(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(Je(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(r.localStore,e);dE(r,e,i),fE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await Jl(r,l)}catch(l){await uo(l)}}function fE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function dE(s,e,i){const r=xe(s);let l=r.du[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),r.du[r.currentUser.toKey()]=l}}function bm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||mE(s,r)}))}function mE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Ym(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),ng(s))}function J0(s,e,i){for(const r of i)r instanceof lE?(s.Vu.addReference(r.key,e),IR(s,r)):r instanceof uE?(ce(tg,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||mE(s,r.key)):ve(19791,{wu:r})}function IR(s,e){const i=e.key,r=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(r)||(ce(tg,"New document in limbo: "+i),s.Eu.add(r),ng(s))}function ng(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(lt.fromString(e)),r=s.fu.next();s.Au.set(r,new _R(i)),s.Ru=s.Ru.insert(i,r),nE(s.remoteStore,new Qs(Ii(Um(i.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Jl(s,e,i){const r=xe(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((_=>{var S;if((_||i)&&r.isPrimaryClient){const x=_?!_.fromCache:(S=i==null?void 0:i.targetChanges.get(y.targetId))==null?void 0:S.current;r.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){l.push(_);const x=Qm.Es(y.targetId,_);c.push(x)}})))})),await Promise.all(d),r.Pu.J_(l),await(async function(y,_){const S=xe(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(_,(O=>$.forEach(O.Ts,(F=>S.persistence.referenceDelegate.addReference(x,O.targetId,F))).next((()=>$.forEach(O.Is,(F=>S.persistence.referenceDelegate.removeReference(x,O.targetId,F)))))))))}catch(x){if(!co(x))throw x;ce(Km,"Failed to update sequence numbers: "+x)}for(const x of _){const O=x.targetId;if(!x.fromCache){const F=S.vs.get(O),J=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(J);S.vs=S.vs.insert(O,ne)}}})(r.localStore,c))}async function NR(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){ce(tg,"User change. New user:",e.toKey());const r=await Zb(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ue(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(i,r.Ns)}}function DR(s,e){const i=xe(s),r=i.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let l=ze();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function gE(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xR.bind(null,e),e.Pu.J_=dR.bind(null,e.eventManager),e.Pu.yu=mR.bind(null,e.eventManager),e}function OR(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CR.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Ox(this.persistence,new Ix,e.initialUser,this.serializer)}Cu(e){return new Jb(Gm.Vi,this.serializer)}Du(e){return new Px}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class MR extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mx(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new Jb((r=>nh.Vi(r,i)),this.serializer)}}class Em{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NR.bind(null,this.syncEngine),await lR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new cR})()}createDatastore(e){const i=Th(e.databaseInfo.databaseId),r=Fx(e.databaseInfo);return Xx(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,c,d,g){return new Jx(r,l,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>$0(this.syncEngine,i,0)),(function(){return F0.v()?new F0:new zx})())}createSyncEngine(e,i){return(function(l,c,d,g,y,_,S){const x=new vR(l,c,d,g,y,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(l){const c=xe(l);ce(Kr,"RemoteStore shutting down."),c.Ea.add(5),await $l(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="FirestoreClient";class kR{constructor(e,i,r,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this._databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ce(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ce(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Qd(s,e){s.asyncQueue.verifyOperationInProgress(),ce(rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await Zb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function Z0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await LR(s);ce(rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Q0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Q0(e.remoteStore,l))),s._onlineComponents=e}async function LR(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ce(rr,"Using user provided OfflineComponentProvider");try{await Qd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Qr("Error using user provided cache. Falling back to memory cache: "+i),await Qd(s,new sh)}}else ce(rr,"Using default OfflineComponentProvider"),await Qd(s,new MR(void 0));return s._offlineComponents}async function pE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ce(rr,"Using user provided OnlineComponentProvider"),await Z0(s,s._uninitializedComponentsProvider._online)):(ce(rr,"Using default OnlineComponentProvider"),await Z0(s,new Em))),s._onlineComponents}function jR(s){return pE(s).then((e=>e.syncEngine))}async function W0(s){const e=await pE(s),i=e.eventManager;return i.onListen=bR.bind(null,e.syncEngine),i.onUnlisten=SR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ER.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AR.bind(null,e.syncEngine),i}function UR(s,e,i,r){const l=new VR(r),c=new gR(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>hR(await W0(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>fR(await W0(s),c)))}}function PR(s,e){const i=new Br;return s.asyncQueue.enqueueAndForget((async()=>wR(await jR(s),e,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="ComponentProvider",ev=new Map;function BR(s,e,i,r,l){return new sw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,yE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",tv=!0;class nv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=tv}else this.host=e.host,this.ssl=e.ssl??tv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fx)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new j2;switch(r.type){case"firstParty":return new B2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=ev.get(i);r&&(ce(zR,"Removing Datastore"),ev.delete(i),r.terminate())})(this),Promise.resolve()}}function qR(s,e,i,r={}){var _;s=Js(s,wh);const l=ao(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(Kv(`https://${g}`),Yv("Firestore",!0)),c.host!==_E&&c.host!==g&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!Hr(y,d)&&(s._setSettings(y),r.mockUserToken)){let S,x;if(typeof r.mockUserToken=="string")S=r.mockUserToken,x=nn.MOCK_USER;else{S=aA(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const O=r.mockUserToken.sub||r.mockUserToken.user_id;if(!O)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new nn(O)}s._authCredentials=new U2(new ob(S,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class kt{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Kl(i,kt._jsonSchema))return new kt(e,r||null,new pe(lt.fromString(i.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Vt("string",kt._jsonSchemaVersion),referencePath:Vt("string")};class Zs extends Wr{constructor(e,i,r){super(e,i,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new pe(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Tl(s,e,...i){if(s=yn(s),lb("collection","path",e),s instanceof wh){const r=lt.fromString(e,...i);return m0(r),new Zs(s,null,r)}{if(!(s instanceof kt||s instanceof Zs))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return m0(r),new Zs(s.firestore,null,r)}}function Ur(s,e,...i){if(s=yn(s),arguments.length===1&&(e=Om.newId()),lb("doc","path",e),s instanceof wh){const r=lt.fromString(e,...i);return d0(r),new kt(s,null,new pe(r))}{if(!(s instanceof kt||s instanceof Zs))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(lt.fromString(e,...i));return d0(r),new kt(s.firestore,s instanceof Zs?s.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="AsyncQueue";class sv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eE(this,"async_queue_retry"),this._c=()=>{const r=Gd();r&&ce(iv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!co(e))throw e;ce(iv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",rv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=Zm.createAndSchedule(this,e,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ro extends wh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new sv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sv(e),this._firestoreClient=void 0,await e}}}function HR(s,e){const i=typeof s=="object"?s:Nm(),r=typeof s=="string"?s:$c,l=Im(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=sA("firestore");c&&qR(l,...c)}return l}function vE(s){if(s._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FR(s),s._firestoreClient}function FR(s){var r,l,c,d;const e=s._freezeSettings(),i=BR(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(l=s._app)==null?void 0:l.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((d=e.localCache)!=null&&d._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new kR(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Zt.fromBase64String(e))}catch(i){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Bn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Vt("string",Bn._jsonSchemaVersion),bytes:Vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Vt("string",Di._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ri(e.vectorValues);throw new ue(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Vt("string",ri._jsonSchemaVersion),vectorValues:Vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=/^__.*__$/;class QR{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(e,this.data,i,this.fieldTransforms)}}function TE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{dataSource:s})}}class ig{constructor(e,i,r,l,c,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var l;const i=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var l;const i=(l=this.path)==null?void 0:l.child(e),r=this.contextWith({path:i,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return rh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(TE(this.dataSource)&&GR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class KR{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Th(e)}createContext(e,i,r,l=!1){return new ig({dataSource:e,methodName:i,targetDoc:r,path:Jt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(s){const e=s._freezeSettings(),i=Th(s._databaseId);return new KR(s._databaseId,!!e.ignoreUndefinedProperties,i)}function SE(s,e,i,r,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);xE("Data must be an object, but it was:",d,r);const g=AE(r,d);let y,_;if(c.merge)y=new ni(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const x of c.mergeFields){const O=xh(e,x,i);if(!d.contains(O))throw new ue(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);JR(S,O)||S.push(O)}y=new ni(S),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new QR(new zn(g),y,_)}function YR(s,e,i,r=!1){return rg(i,s.createContext(r?4:3,e))}function rg(s,e){if(wE(s=yn(s)))return xE("Unsupported field value:",e,s),AE(s,e);if(s instanceof EE)return(function(r,l){if(!TE(l.dataSource))throw l.createError(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=rg(g,l.childContextForArray(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ht.fromDate(r);return{timestampValue:th(l.serializer,c)}}if(r instanceof ht){const c=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(l.serializer,c)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:qb(l.serializer,r._byteString)};if(r instanceof kt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ri)return(function(d,g){const y=d instanceof ri?d.toArray():d;return{mapValue:{fields:{[yb]:{stringValue:_b},[Jc]:{arrayValue:{values:y.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Pm(g.serializer,S)}))}}}}}})(r,l);if(Xb(r))return r._toProto(l.serializer);throw l.createError(`Unsupported field value: ${dh(r)}`)})(s,e)}function AE(s,e){const i={};return hb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xr(s,((r,l)=>{const c=rg(l,e.childContextForField(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function wE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ht||s instanceof Di||s instanceof Bn||s instanceof kt||s instanceof EE||s instanceof ri||Xb(s))}function xE(s,e,i){if(!wE(i)||!ub(i)){const r=dh(i);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function xh(s,e,i){if((e=yn(e))instanceof bE)return e._internalPath;if(typeof e=="string")return $R(s,e);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const XR=new RegExp("[~\\*/\\[\\]]");function $R(s,e,i){if(e.search(XR)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bE(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,e,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ue(X.INVALID_ARGUMENT,g+s+y)}function JR(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{convertValue(e,i="none"){switch(ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(nr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Xr(e,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(e){var r,l,c;const i=(c=(l=(r=e.fields)==null?void 0:r[Jc].arrayValue)==null?void 0:l.values)==null?void 0:c.map((d=>Tt(d.doubleValue)));return new ri(i)}convertGeoPoint(e){return new Di(Tt(e.latitude),Tt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=ph(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const i=tr(e);return new ht(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=lt.fromString(e);Je(Yb(r),9688,{name:e});const l=new Pl(r.get(1),r.get(3)),c=new pe(r.popFirst(5));return l.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends ZR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,i)}}const av="@firebase/firestore",ov="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,i,r,l,c){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const i=this._document.data.field(xh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WR extends CE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class IE extends ag{}function uv(s,e,...i){let r=[];e instanceof ag&&r.push(e),r=r.concat(i),(function(c){const d=c.filter((y=>y instanceof lg)).length,g=c.filter((y=>y instanceof og)).length;if(d>1||d>0&&g>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class og extends IE{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new og(e,i,r)}_apply(e){const i=this._parse(e);return NE(e._query,i),new Wr(e.firestore,e.converter,hm(e._query,i))}_parse(e){const i=sg(e.firestore);return(function(c,d,g,y,_,S,x){let O;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){fv(x,S);const J=[];for(const ne of x)J.push(hv(y,c,ne));O={arrayValue:{values:J}}}else O=hv(y,c,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||fv(x,S),O=YR(g,d,x,S==="in"||S==="not-in");return Mt.create(_,S,O)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class lg extends ag{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new lg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,c){let d=l;const g=c.getFlattenedFilters();for(const y of g)NE(d,y),d=hm(d,y)})(e._query,i),new Wr(e.firestore,e.converter,hm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends IE{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new ug(e,i)}_apply(e){const i=(function(l,c,d){if(l.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(c,d)})(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,Tw(e._query,i))}}function cv(s,e="asc"){const i=e,r=xh("orderBy",s);return ug._create(r,i)}function hv(s,e,i){if(typeof(i=yn(i))=="string"){if(i==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xb(e)&&i.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(lt.fromString(i));if(!pe.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return T0(s,new pe(r))}if(i instanceof kt)return T0(s,i._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(i)}.`)}function fv(s,e){if(!Array.isArray(s)||s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(s,e){const i=(function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function DE(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qr extends CE{constructor(e,i,r,l,c,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Vt("string",qr._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class qc extends qr{data(e={}){return super.data(e)}}class Ya{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new qc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new qc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:tC(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ya._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Vt("string",Ya._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function kc(s,e,i){s=Js(s,kt);const r=Js(s.firestore,ro),l=DE(s.converter,e),c=sg(r);return cg(r,[SE(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,si.none())])}function dv(s){return cg(Js(s.firestore,ro),[new zm(s._key,si.none())])}function mv(s,e){const i=Js(s.firestore,ro),r=Ur(s),l=DE(s.converter,e),c=sg(s.firestore);return cg(i,[SE(c,"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,si.exists(!1))]).then((()=>r))}function Kd(s,...e){var _,S,x;s=yn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lv(e[r])||(i=e[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lv(e[r])){const O=e[r];e[r]=(_=O.next)==null?void 0:_.bind(O),e[r+1]=(S=O.error)==null?void 0:S.bind(O),e[r+2]=(x=O.complete)==null?void 0:x.bind(O)}let c,d,g;if(s instanceof kt)d=Js(s.firestore,ro),g=Um(s._key.path),c={next:O=>{e[r]&&e[r](nC(d,s,O))},error:e[r+1],complete:e[r+2]};else{const O=Js(s,Wr);d=Js(O.firestore,ro),g=O._query;const F=new RE(d);c={next:J=>{e[r]&&e[r](new Ya(d,F,O,J))},error:e[r+1],complete:e[r+2]},eC(s._query)}const y=vE(d);return UR(y,g,l,c)}function cg(s,e){const i=vE(s);return PR(i,e)}function nC(s,e,i){const r=i.docs.get(e._key),l=new RE(s);return new qr(s,l,e._key,r,new xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){L2(oo),Wa(new Fr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new ro(new P2(r.getProvider("auth-internal")),new q2(d,r.getProvider("app-check-internal")),rw(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Xs(av,ov,e),Xs(av,ov,"esm2020")})();function OE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=OE,ME=new Gl("auth","Firebase",OE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Rm("@firebase/auth");function sC(s,...e){ah.logLevel<=Ue.WARN&&ah.warn(`Auth (${oo}): ${s}`,...e)}function Hc(s,...e){ah.logLevel<=Ue.ERROR&&ah.error(`Auth (${oo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(s,...e){throw hg(s,...e)}function Oi(s,...e){return hg(s,...e)}function VE(s,e,i){const r={...iC(),[e]:i};return new Gl("auth","Firebase",r).create(e,{appName:s.name})}function Ws(s){return VE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return ME.create(s,...e)}function be(s,e,...i){if(!s)throw hg(e,...i)}function es(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Hc(e),new Error(e)}function as(s,e){s||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function rC(){return gv()==="http:"||gv()==="https:"}function gv(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rC()||fA()||"connection"in navigator)?navigator.onLine:!0}function oC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,i){this.shortDelay=e,this.longDelay=i,as(i>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return aC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(s,e){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cC=new Zl(3e4,6e4);function Rh(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function mo(s,e,i,r,l={}){return LE(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const g=Ql({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return hA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ao(s.emulatorConfig.host)&&(_.credentials="include"),kE.fetch()(await UE(s,s.config.apiHost,i,g),_)})}async function LE(s,e,i){s._canInitEmulator=!1;const r={...lC,...e};try{const l=new hC(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Lc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Lc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Lc(s,"user-disabled",d);const S=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw VE(s,S,_);rs(s,S)}}catch(l){if(l instanceof os)throw l;rs(s,"network-request-failed",{message:String(l)})}}async function jE(s,e,i,r,l={}){const c=await mo(s,e,i,r,l);return"mfaPendingCredential"in c&&rs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function UE(s,e,i,r){const l=`${e}${i}?${r}`,c=s,d=c.config.emulator?fg(s.config,l):`${s.config.apiScheme}://${l}`;return uC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class hC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),cC.get())})}}function Lc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Oi(s,e,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(s,e){return mo(s,"POST","/v1/accounts:delete",e)}async function oh(s,e){return mo(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dC(s,e=!1){const i=yn(s),r=await i.getIdToken(e),l=dg(r);be(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:r,authTime:Ol(Yd(l.auth_time)),issuedAtTime:Ol(Yd(l.iat)),expirationTime:Ol(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Yd(s){return Number(s)*1e3}function dg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Hv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function pv(s){const e=dg(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof os&&mC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function mC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(s){var x;const e=s.auth,i=await s.getIdToken(),r=await Fl(s,oh(e,{idToken:i}));be(r==null?void 0:r.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=(x=l.providerUserInfo)!=null&&x.length?PE(l.providerUserInfo):[],d=yC(s.providerData,c),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function pC(s){const e=yn(s);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yC(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function PE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(s,e){const i=await LE(s,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await UE(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&ao(s.emulatorConfig.host)&&(y.credentials="include"),kE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function vC(s,e){return mo(s,"POST","/v2/accounts:revokeToken",Rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=pv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await _C(e,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Xa;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return dC(this,e)}reload(){return pC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ws(this.auth));const e=await this.getIdToken();return await Fl(this,fC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:O,isAnonymous:F,providerData:J,stsTokenManager:ne}=i;be(x&&ne,e,"internal-error");const Z=Xa.fromJSON(this.name,ne);be(typeof x=="string",e,"internal-error"),Bs(r,e.name),Bs(l,e.name),be(typeof O=="boolean",e,"internal-error"),be(typeof F=="boolean",e,"internal-error"),Bs(c,e.name),Bs(d,e.name),Bs(g,e.name),Bs(y,e.name),Bs(_,e.name),Bs(S,e.name);const de=new ii({uid:x,auth:e,email:l,emailVerified:O,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return J&&Array.isArray(J)&&(de.providerData=J.map(W=>({...W}))),y&&(de._redirectEventId=y),de}static async _fromIdTokenResponse(e,i,r=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new ii({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await lh(c),c}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?PE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Xa;g.updateFromIdToken(r);const y=new ii({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function ts(s){as(s instanceof Function,"Expected a class definition");let e=yv.get(s);return e?(as(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,yv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}zE.type="NONE";const _v=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(s,e,i){return`firebase:${s}:${e}:${i}`}class $a{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Fc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Fc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await oh(this.auth,{idToken:e}).catch(()=>{});return i?ii._fromGetAccountInfoResponse(this.auth,i,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new $a(ts(_v),e,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ts(_v);const d=Fc(r,e.config.apiKey,e.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let x;if(typeof S=="string"){const O=await oh(e,{idToken:S}).catch(()=>{});if(!O)break;x=await ii._fromGetAccountInfoResponse(e,O,S)}else x=ii._fromJSON(e,S);_!==c&&(g=x),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,e,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(KE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||HE(e))&&!e.includes("edge/"))return"Chrome";if(GE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BE(s=rn()){return/firefox\//i.test(s)}function qE(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HE(s=rn()){return/crios\//i.test(s)}function FE(s=rn()){return/iemobile/i.test(s)}function GE(s=rn()){return/android/i.test(s)}function QE(s=rn()){return/blackberry/i.test(s)}function KE(s=rn()){return/webos/i.test(s)}function mg(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function bC(s=rn()){var e;return mg(s)&&!!((e=window.navigator)!=null&&e.standalone)}function EC(){return mA()&&document.documentMode===10}function YE(s=rn()){return mg(s)||GE(s)||KE(s)||QE(s)||/windows phone/i.test(s)||FE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(s,e=[]){let i;switch(s){case"Browser":i=vv(rn());break;case"Worker":i=`${vv(rn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=c=>new Promise((d,g)=>{try{const y=e(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(s,e={}){return mo(s,"GET","/v2/passwordPolicy",Rh(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=6;class wC{constructor(e){var r;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??AC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new TC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{var r,l,c;if(!this._deleted&&(this.persistenceManager=await $a.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await oh(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(ti(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=r==null?void 0:r._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(r=y.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Ws(this));const i=e?yn(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SC(this),i=new wC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await vC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ts(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var i;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&sC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ch(s){return yn(s)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=TA(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RC(s){gg=s}function CC(s){return gg.loadJS(s)}function IC(){return gg.gapiScript}function NC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(s,e){const i=Im(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hr(c,e??{}))return l;rs(l,"already-initialized")}return i.initialize({options:e})}function OC(s,e){const i=(e==null?void 0:e.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ts);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MC(s,e,i){const r=Ch(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=$E(e),{host:d,port:g}=VC(e),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Hr(_,r.config.emulator)&&Hr(S,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=S,r.settings.appVerificationDisabledForTesting=!0,ao(d)?(Kv(`${c}//${d}${y}`),Yv("Auth",!0)):kC()}function $E(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function VC(s){const e=$E(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Ev(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Ev(d)}}}function Ev(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function kC(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,i){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(s,e){return jE(s,"POST","/v1/accounts:signInWithIdp",Rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="http://localhost";class Yr extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ja(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,Ja(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ja(e,i)}buildRequest(){const e={requestUri:LC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends ZE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Wl{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Yr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return Hs.credential(i,r)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Wl{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fs.credential(e.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Wl{constructor(){super("twitter.com")}static credential(e,i){return Yr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(s,e){return jE(s,"POST","/v1/accounts:signUp",Rh(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const c=await ii._fromIdTokenResponse(e,r,l),d=Tv(r);return new ar({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=Tv(r);return new ar({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function Tv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(s){var l;if(ti(s.app))return Promise.reject(Ws(s));const e=Ch(s);if(await e._initializationPromise,(l=e.currentUser)!=null&&l.isAnonymous)return new ar({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await jC(e,{returnSecureToken:!0}),r=await ar._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends os{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new uh(e,i,r,l)}}function WE(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(s,c,e,r):c})}async function PC(s,e,i=!1){const r=await Fl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ar._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(s,e,i=!1){const{auth:r}=s;if(ti(r.app))return Promise.reject(Ws(r));const l="reauthenticate";try{const c=await Fl(s,WE(r,l,e,s),i);be(c.idToken,r,"internal-error");const d=dg(c.idToken);be(d,r,"internal-error");const{sub:g}=d;return be(s.uid===g,r,"user-mismatch"),ar._forOperation(s,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&rs(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(s,e,i=!1){if(ti(s.app))return Promise.reject(Ws(s));const r="signIn",l=await WE(s,r,e),c=await ar._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}function qC(s,e,i,r){return yn(s).onIdTokenChanged(e,i,r)}function HC(s,e,i){return yn(s).beforeAuthStateChanged(e,i)}function FC(s,e,i,r){return yn(s).onAuthStateChanged(e,i,r)}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e3,QC=10;class tT extends eT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);EC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,QC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}tT.type="LOCAL";const KC=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends eT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}nT.type="SESSION";const iT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await YC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=pg("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(x){const O=x;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function $C(s){Mi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function JC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function WC(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="firebaseLocalStorageDb",eI=1,hh="firebaseLocalStorage",aT="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(s,e){return s.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function tI(){const s=indexedDB.deleteDatabase(rT);return new eu(s).toPromise()}function Am(){const s=indexedDB.open(rT,eI);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(hh,{keyPath:aT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await tI(),e(await Am()))})})}async function Sv(s,e,i){const r=Nh(s,!0).put({[aT]:e,value:i});return new eu(r).toPromise()}async function nI(s,e){const i=Nh(s,!1).get(e),r=await new eu(i).toPromise();return r===void 0?null:r.value}function Av(s,e){const i=Nh(s,!0).delete(e);return new eu(i).toPromise()}const iI=800,sI=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>sI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(WC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,r;if(this.activeServiceWorker=await JC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await Sv(e,ch,"1"),await Av(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sv(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>nI(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Av(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const rI=oT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(s,e){return e?ts(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends JE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ja(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function oI(s){return BC(s.auth,new yg(s),s.bypassAuthState)}function lI(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),zC(i,new yg(s),s.bypassAuthState)}async function uI(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),PC(i,new yg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,i,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oI;case"linkViaPopup":case"linkViaRedirect":return uI;case"reauthViaPopup":case"reauthViaRedirect":return lI;default:rs(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Zl(2e3,1e4);class Ga extends lT{constructor(e,i,r,l,c){super(e,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;if((r=(i=this.authWindow)==null?void 0:i.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cI.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="pendingRedirect",Gc=new Map;class fI extends lT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await dI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dI(s,e){const i=pI(e),r=gI(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function mI(s,e){Gc.set(s._key(),e)}function gI(s){return ts(s._redirectPersistence)}function pI(s){return Fc(hI,s.config.apiKey,s.name)}async function yI(s,e,i=!1){if(ti(s.app))return Promise.reject(Ws(s));const r=Ch(s),l=aI(r,e),d=await new fI(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=600*1e3;class vI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bI(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var r;if(e.error&&!uT(e)){const l=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";i.onError(Oi(this.auth,l))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_I&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function uT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bI(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(s,e={}){return mo(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SI=/^https?/;async function AI(s){if(s.config.emulator)return;const{authorizedDomains:e}=await EI(s);for(const i of e)try{if(wI(i))return}catch{}rs(s,"unauthorized-domain")}function wI(s){const e=Tm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!SI.test(i))return!1;if(TI.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Zl(3e4,6e4);function xv(){const s=Mi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function RI(s){return new Promise((e,i)=>{var l,c,d;function r(){xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xv(),i(Oi(s,"network-request-failed"))},timeout:xI.get()})}if((c=(l=Mi().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Mi().gapi)!=null&&d.load)r();else{const g=NC("iframefcb");return Mi()[g]=()=>{gapi.load?r():i(Oi(s,"network-request-failed"))},CC(`${IC()}?onload=${g}`).catch(y=>i(y))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function CI(s){return Qc=Qc||RI(s),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=new Zl(5e3,15e3),NI="__/auth/iframe",DI="emulator/auth/iframe",OI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VI(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?fg(e,DI):`https://${s.config.authDomain}/${NI}`,r={apiKey:e.apiKey,appName:s.name,v:oo},l=MI.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ql(r).slice(1)}`}async function kI(s){const e=await CI(s),i=Mi().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:VI(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OI,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Oi(s,"network-request-failed"),g=Mi().setTimeout(()=>{c(d)},II.get());function y(){Mi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jI=500,UI=600,PI="_blank",zI="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BI(s,e,i,r=jI,l=UI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...LI,width:r.toString(),height:l.toString(),top:c,left:d},_=rn().toLowerCase();i&&(g=HE(_)?PI:i),BE(_)&&(e=e||zI,y.scrollbars="yes");const S=Object.entries(y).reduce((O,[F,J])=>`${O}${F}=${J},`,"");if(bC(_)&&g!=="_self")return qI(e||"",g),new Rv(null);const x=window.open(e||"",g,S);be(x,s,"popup-blocked");try{x.focus()}catch{}return new Rv(x)}function qI(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__/auth/handler",FI="emulator/auth/handler",GI=encodeURIComponent("fac");async function Cv(s,e,i,r,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:oo,eventId:l};if(e instanceof ZE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",EA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(e instanceof Wl){const S=e.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await s._getAppCheckToken(),_=y?`#${GI}=${encodeURIComponent(y)}`:"";return`${QI(s)}?${Ql(g).slice(1)}${_}`}function QI({config:s}){return s.emulator?fg(s,FI):`https://${s.authDomain}/${HI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="webStorageSupport";class KI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=yI,this._overrideRedirectResult=mI}async _openPopup(e,i,r,l){var d;as((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await Cv(e,i,r,Tm(),l);return BI(e,c,pg())}async _openRedirect(e,i,r,l){await this._originValidation(e);const c=await Cv(e,i,r,Tm(),l);return $C(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await kI(e),r=new vI(e);return i.register("authEvent",l=>(be(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xd,{type:Xd},l=>{var d;const c=(d=l==null?void 0:l[0])==null?void 0:d[Xd];c!==void 0&&i(!!c),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=AI(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return YE()||qE()||mg()}}const YI=KI;var Iv="@firebase/auth",Nv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JI(s){Wa(new Fr("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(s)},_=new xC(r,l,c,y);return OC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Fr("auth-internal",e=>{const i=Ch(e.getProvider("auth").getImmediate());return(r=>new XI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Iv,Nv,$I(s)),Xs(Iv,Nv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=300,WI=Qv("authIdTokenMaxAge")||ZI;let Dv=null;const eN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>WI)return;const l=i==null?void 0:i.token;Dv!==l&&(Dv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tN(s=Nm()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const i=DC(s,{popupRedirectResolver:YI,persistence:[rI,KC,iT]}),r=Qv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=eN(c.toString());HC(i,d,()=>d(i.currentUser)),qC(i,g=>d(g))}}const l=Fv("auth");return l&&MC(i,`http://${l}`),i}function nN(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}RC({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Oi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",nN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JI("Browser");const iN={apiKey:"AIzaSyAKfG5HMu8ZQffRCwdgPb4M8EHMhwlF3-M",authDomain:"pmpo-e71df.firebaseapp.com",projectId:"pmpo-e71df",storageBucket:"pmpo-e71df.firebasestorage.app",messagingSenderId:"837927216589",appId:"1:837927216589:web:135eab57995b696b079084"},cT=S2().length===0?Jv(iN):Nm(),ei=HR(cT),Ov=tN(cT),sN=()=>{const[s,e]=Ce.useState("home"),[i,r]=Ce.useState(null),[l,c]=Ce.useState(null),[d,g]=Ce.useState(null),[y,_]=Ce.useState(null),[S,x]=Ce.useState(!1),[O,F]=Ce.useState(""),[J,ne]=Ce.useState(""),[Z,de]=Ce.useState(""),[W,oe]=Ce.useState(!1),[ee,Ee]=Ce.useState(null),[ie,C]=Ce.useState(!1),[T,w]=Ce.useState(!0),[M,D]=Ce.useState(!0),[I,R]=Ce.useState({organs:[],maintenances:[],locations:tS,deletedItems:[]});Ce.useEffect(()=>{const se=FC(Ov,async Te=>{if(Te)D(!1);else try{await UC(Ov)}catch(Fe){console.error("Auth error:",Fe),alert("Erro de conexo segura com o servidor.")}});return()=>se()},[]),Ce.useEffect(()=>{if(M)return;const se=Kd(Tl(ei,"organs"),ot=>{const rt=ot.docs.map($e=>({id:$e.id,...$e.data()}));R($e=>({...$e,organs:rt}))}),Te=Kd(uv(Tl(ei,"maintenances"),cv("date","desc")),ot=>{const rt=ot.docs.map($e=>({id:$e.id,...$e.data()}));R($e=>({...$e,maintenances:rt}))}),Fe=Kd(uv(Tl(ei,"deletedItems"),cv("deletedAt","desc")),ot=>{const rt=ot.docs.map($e=>({id:$e.id,...$e.data()}));R($e=>({...$e,deletedItems:rt})),w(!1)});return()=>{se(),Te(),Fe()}},[M]);const Ae=()=>Math.floor(1e3+Math.random()*9e3).toString(),ke=se=>se.split("").map((Te,Fe)=>{const ot=parseInt(Te),rt=Fe+1;return(ot+1)*rt%10}).join(""),H=se=>{const Te=I.maintenances.filter($e=>$e.organId===se);if(Te.length===0)return!0;const Fe=Te[0].date,ot=new Date(Fe+"T00:00:00"),rt=new Date;return rt.setFullYear(rt.getFullYear()-1),ot<rt},te=se=>I.organs.filter(Fe=>Fe.locationId===se).some(Fe=>H(Fe.id)),me=se=>I.locations.filter(Fe=>Fe.adm===se).some(Fe=>te(Fe.id)),Be=async se=>{await kc(Ur(ei,"organs",se.id),se),e("location-detail")},Ke=async se=>{await kc(Ur(ei,"organs",se.id),se),e("location-detail")},k=async(se,Te)=>{const Fe=I.organs.find($e=>$e.id===se);if(!Fe)return;const ot=I.locations.find($e=>$e.id===Fe.locationId),rt={type:"organ",data:Fe,reason:Te,deletedAt:new Date().toISOString(),metadata:{locationName:ot==null?void 0:ot.name,adm:ot==null?void 0:ot.adm}};await mv(Tl(ei,"deletedItems"),rt),await dv(Ur(ei,"organs",se))},K=async se=>{await kc(Ur(ei,"maintenances",se.id),se),e("location-detail")},ae=async se=>{await kc(Ur(ei,"maintenances",se.id),se),s==="edit-maintenance"&&e("reports")},le=async(se,Te)=>{const Fe=I.maintenances.find(Wt=>Wt.id===se);if(!Fe)return;const ot=I.organs.find(Wt=>Wt.id===Fe.organId),rt=ot?I.locations.find(Wt=>Wt.id===ot.locationId):null,$e={type:"maintenance",data:Fe,reason:Te,deletedAt:new Date().toISOString(),metadata:{locationName:rt==null?void 0:rt.name,adm:rt==null?void 0:rt.adm}};await mv(Tl(ei,"deletedItems"),$e),await dv(Ur(ei,"maintenances",se))},ye=(se,Te,Fe)=>{Ee({type:se,id:Te,mode:Fe}),de(""),F(""),ne(Ae()),x(!0)},Re=se=>{se.preventDefault();const Te=ke(J);if(O===Te){if(!ee)return;if(ee.mode==="edit")ee.type==="organ"&&ee.id?(g(ee.id),e("edit-organ")):ee.type==="maintenance"&&ee.id&&(_(ee.id),e("edit-maintenance"));else if(ee.mode==="delete"){if(!Z.trim())return alert("Informe o motivo.");ee.type==="organ"&&ee.id?k(ee.id,Z):ee.type==="maintenance"&&ee.id&&le(ee.id,Z)}else ee.mode==="view"&&ee.type==="history"&&C(!0);x(!1),Ee(null)}else oe(!0),ne(Ae()),F(""),setTimeout(()=>oe(!1),2e3)},Oe=I.locations.find(se=>se.id===l);return M||T?b.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center gap-4",children:[b.jsx("div",{className:"relative",children:b.jsx("div",{className:"w-16 h-16 border-4 border-slate-200 border-t-blue-600 rounded-full animate-spin"})}),b.jsx("p",{className:"text-slate-400 font-black uppercase tracking-widest text-[10px]",children:M?"Estabelecendo Conexo Segura...":"Sincronizando Dados..."})]}):b.jsxs("div",{className:"flex min-h-screen bg-slate-50 text-slate-900",children:[b.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[b.jsx("header",{className:"bg-white border-b border-slate-200 px-8 py-4 flex items-center justify-between shadow-sm",children:b.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 overflow-hidden",children:[b.jsxs("button",{onClick:()=>{e("home"),r(null),c(null),g(null)},className:"hover:text-blue-600 flex items-center gap-1 font-medium transition-colors border border-slate-100 px-2 py-1 rounded-md",children:[b.jsx(bS,{size:16,className:"text-sky-300"}),"Incio"]}),i&&b.jsxs(b.Fragment,{children:[b.jsx($d,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>{e("adm-detail"),c(null)},className:"hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md font-medium",children:i})]}),Oe&&b.jsxs(b.Fragment,{children:[b.jsx($d,{size:14,className:"text-slate-300"}),b.jsx("button",{onClick:()=>e("location-detail"),className:"hover:text-blue-600 transition-colors border border-slate-100 px-2 py-1 rounded-md font-medium",children:Oe.name})]})]})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:b.jsxs("div",{className:"max-w-6xl mx-auto",children:[s==="home"&&b.jsx(PS,{isAdmPending:me,onSelectAdm:se=>{r(se),e("adm-detail")},onOpenReports:()=>e("reports")}),s==="adm-detail"&&i&&b.jsx(zS,{adm:i,state:I,isLocationPending:te,onSelectLocation:se=>{c(se),e("location-detail")}}),s==="location-detail"&&l&&b.jsx(BS,{locationId:l,state:I,isMaintenancePending:H,onRegisterOrgan:()=>e("register-organ"),onEditOrgan:se=>ye("organ",se,"edit"),onDeleteOrgan:se=>ye("organ",se,"delete"),onEditMaintenance:se=>ye("maintenance",se,"edit"),onDeleteMaintenance:se=>ye("maintenance",se,"delete"),onRegisterMaintenance:se=>{g(se),e("register-maintenance")}}),(s==="register-organ"||s==="edit-organ")&&l&&b.jsx(KS,{locationId:l,locations:I.locations,initialData:s==="edit-organ"?I.organs.find(se=>se.id===d):void 0,onSubmit:s==="edit-organ"?Ke:Be,onCancel:()=>e("location-detail")}),(s==="register-maintenance"||s==="edit-maintenance")&&b.jsx(YS,{organs:I.organs,locations:I.locations,initialOrganId:d,initialData:s==="edit-maintenance"?I.maintenances.find(se=>se.id===y):void 0,onSubmit:s==="edit-maintenance"?ae:K,onCancel:()=>e(s==="edit-maintenance"?"reports":"location-detail")}),s==="reports"&&b.jsx(XS,{state:I,isMaintenancePending:H,onEditMaintenance:se=>ye("maintenance",se,"edit"),onDeleteMaintenance:se=>ye("maintenance",se,"delete"),isHistoryAuthorized:ie,onRequestHistoryAccess:()=>ye("history",void 0,"view")})]})})]}),S&&b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md",children:b.jsxs("div",{className:"bg-white w-full max-w-sm rounded-[32px] shadow-2xl overflow-hidden p-8 text-center space-y-6",children:[b.jsx("div",{className:`mx-auto w-16 h-16 rounded-2xl flex items-center justify-center border ${(ee==null?void 0:ee.mode)==="delete"?"bg-red-50 text-red-600 border-red-100":"bg-amber-50 text-amber-600 border-amber-100"}`,children:(ee==null?void 0:ee.mode)==="delete"?b.jsx(Vl,{size:28}):b.jsx(jv,{size:28})}),b.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:(ee==null?void 0:ee.mode)==="delete"?"Confirmar Excluso":"Acesso Restrito"}),b.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl p-4 space-y-2",children:[b.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Dica de Acesso"}),b.jsx("div",{className:"flex justify-center gap-3",children:J.split("").map((se,Te)=>b.jsx("div",{className:"w-10 h-12 bg-white border border-slate-200 rounded-xl flex items-center justify-center text-xl font-black text-blue-600 shadow-sm",children:se},Te))})]}),b.jsxs("form",{onSubmit:Re,className:"space-y-4 text-left",children:[(ee==null?void 0:ee.mode)==="delete"&&b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Motivo"}),b.jsx("textarea",{required:!0,value:Z,onChange:se=>de(se.target.value),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none"})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-1",children:"Senha"}),b.jsx("input",{type:"password",value:O,onChange:se=>F(se.target.value.replace(/\D/g,"").slice(0,4)),className:`w-full p-4 bg-slate-50 border rounded-2xl outline-none text-center text-lg font-bold tracking-widest ${W?"border-red-500 animate-shake":"border-slate-200"}`})]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 py-4 bg-slate-100 text-slate-500 rounded-2xl font-bold",children:"Cancelar"}),b.jsx("button",{type:"submit",className:`flex-[2] py-4 text-white rounded-2xl font-bold shadow-lg ${(ee==null?void 0:ee.mode)==="delete"?"bg-red-600":"bg-blue-600"}`,children:"Validar"})]})]})]})})]})},hT=document.getElementById("root");if(!hT)throw new Error("Could not find root element to mount to");const rN=W1.createRoot(hT);rN.render(b.jsx(G1.StrictMode,{children:b.jsx(sN,{})}));
